(window.webpackJsonpnotable=window.webpackJsonpnotable||[]).push([[0],{111:function(e,t,a){},119:function(e,t){e.exports={apiUrl:"http://localhost:4000/api",notesPreviewLength:75}},121:function(e,t,a){e.exports=a(235)},230:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),o=a.n(r),i=a(33),c=a(11),s=a(12),d=a(15),p=a(13),u=a(14),m=a(37),h=function(){return l.a.createElement("nav",{className:"app-navbar"},l.a.createElement(i.b,{className:"navbar-brand",to:"/"},"Notable"),l.a.createElement("div",{className:""},l.a.createElement(i.c,{className:"navBar-link",to:"/login"},"Login")))},g=a(21),f=a(5),y=a(10),b=a(117),v=a(238),E=a(236),O=a(237),S=a(23),w=a(18);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=function(e){var t=e.fontSize,a=e.collection,n=e.style,r=e.length||20,o=a.hasOwnProperty("name")?a.name:"(collection)";o.length>r&&(o=o.slice(0,r)+"...");var i={color:"blue",fontStyle:"italic",cursor:"pointer",fontSize:t};return l.a.createElement("div",{style:N({},i,{},n)},l.a.createElement(S.a,{icon:w.a,style:{color:"black",marginRight:"10px",transform:"rotate(-20deg)"}}),l.a.createElement("span",null,o))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={collectionPopoverOpen:!1,newCollection:""},a.onChange=function(e){a.setState({newCollection:e.target.value})},a.togglePopover=function(){a.setState({collectionPopoverOpen:!a.state.collectionPopoverOpen})},a.handleCollectionSelect=function(e){var t=e.target.value,n=a.props.collections.find(function(e){return e.name===t}),l=n.color,r=n._id,o=x({},a.props.selectedNote);o.collection={_id:r,name:t,color:l},a.props.save(o)},a.pressEnter=function(e){if(13===e.keyCode){var t=a.props.selectedNote?x({},a.props.selectedNote):{_id:Date.now().toString(),title:"",content:Object(y.convertToRaw)(a.props.editorState.getCurrentContent()),tags:[],collection:{}};t.collection.name!==a.state.newCollection&&(t.collection={_id:Date.now().toString(),name:a.state.newCollection,color:"#"+Math.random().toString(16).substr(-6)},a.setState({newCollection:""}),a.props.save(t))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selectedNote,n=t.collections;return l.a.createElement("div",{style:{textAlign:"right",padding:"0px 10px"},id:"collection-popover-link",className:"link-no-underline"},l.a.createElement(j,{fontSize:"12px",collection:a?a.collection:{}}),l.a.createElement(v.a,{placement:"bottom",isOpen:this.state.collectionPopoverOpen,target:"collection-popover-link",trigger:"legacy",toggle:function(){return e.togglePopover()}},l.a.createElement(E.a,null,"select collection:"),l.a.createElement(O.a,{key:a?a.collection.name:""},n?n.map(function(t){return l.a.createElement("div",{className:"form-check clickable",key:t._id},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"radio",name:"select-collection-choices",value:t.name,checked:!!a&&a.collection.name===t.name,onChange:function(t){return e.handleCollectionSelect(t)}}),t.name))}):l.a.createElement("div",null),l.a.createElement("input",{type:"text",className:"form-control",value:this.state.newCollection,onChange:function(t){return e.onChange(t)},placeholder:"new collection...",style:{fontSize:".9rem",marginTop:"10px",lineHeight:"1",padding:"0px .75rem",width:"150px",height:"calc(2rem + 2px)"},onKeyDown:this.pressEnter}),l.a.createElement("small",null,l.a.createElement("em",null,"press Enter to save"))," ")))}}]),t}(n.Component);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var R=function(e){var t=e.fontSize,a=e.tags,n=e.style,r=e.length,o=e.iconColor,i=r||40,c=a.length>0?a.join(", "):"(tags)";c.length>i&&(c=c.slice(0,i)+"...");var s={color:"orangered",fontStyle:"italic",cursor:"pointer",fontSize:t};return l.a.createElement("div",{style:T({},s,{},n)},l.a.createElement(S.a,{icon:w.f,style:{color:o,marginRight:"10px"}}),l.a.createElement("span",null,c))};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={tagsPopoverOpen:!1,newTag:""},a.togglePopover=function(){a.setState({tagsPopoverOpen:!a.state.tagsPopoverOpen})},a.handleTagsDelete=function(e){var t=e.currentTarget.getAttribute("data"),n=F({},a.props.selectedNote);n.tags=n.tags.filter(function(e){return e!==t}),a.props.save(n)},a.onChange=function(e){a.setState({newTag:e.target.value})},a.pressEnter=function(e){if(13===e.keyCode){var t=a.props.selectedNote?F({},a.props.selectedNote):{_id:Date.now().toString(),title:"",content:Object(y.convertToRaw)(a.props.editorState.getCurrentContent()),tags:[],collection:{}};t.tags.includes(a.state.newTag)||(t.tags.push(a.state.newTag),a.setState({newTag:""}),a.props.save(t))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedNote;return l.a.createElement("div",{style:{textAlign:"right",padding:"0px 10px"},id:"tags-popover-link"},l.a.createElement(R,{fontSize:"12px",tags:t?t.tags:{},iconColor:"black"}),l.a.createElement(v.a,{placement:"bottom",isOpen:this.state.tagsPopoverOpen,target:"tags-popover-link",trigger:"legacy",toggle:function(){return e.togglePopover()}},l.a.createElement(E.a,null,"edit tags:"),l.a.createElement(O.a,{key:t?t.tags.length:0},t?t.tags.map(function(t){return l.a.createElement("div",{key:t},l.a.createElement("span",{data:t,onClick:function(t){return e.handleTagsDelete(t)}},l.a.createElement(S.a,{icon:w.d,style:{color:"red",marginRight:"10px"}})),l.a.createElement("label",{className:"form-check-label"},t))}):l.a.createElement("div",null),l.a.createElement("input",{type:"text",className:"form-control",value:this.state.newTag,onChange:function(t){return e.onChange(t)},placeholder:"new tag...",style:{fontSize:".9rem",lineHeight:"1",padding:"0px .75rem",marginTop:"10px",width:"150px",height:"calc(2rem + 2px)"},onKeyDown:this.pressEnter,autoFocus:!0}),l.a.createElement("small",null,l.a.createElement("em",null,"press Enter to save")))))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={},a.menuStyle={margin:"auto",width:"100%",height:"100%",display:"inline-flex",justifyContent:"space-between"},a.crudStyle={display:"inline-flex",alignItems:"center",justifyContent:"space-around",width:"200px",height:"100%",fontSize:"12px"},a.metaDataStyle={display:"inline-flex",alignItems:"center",height:"100%",fontSize:"12px"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.save,a=e.handleDelete,n=e.selectedNote,r=e.collections,o=e.editorState;return l.a.createElement("div",{style:this.menuStyle},l.a.createElement("div",{id:"crud-operations",style:this.crudStyle},l.a.createElement(i.b,{to:"/notes/new"},l.a.createElement("div",{className:"clickable editor-menu-option"},l.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),l.a.createElement("span",null," New Note"))),l.a.createElement("div",{className:"clickable editor-menu-option",onClick:a},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}),l.a.createElement("span",null," Delete")),l.a.createElement("div",{className:"clickable editor-menu-option",onClick:function(){return t(n)}},l.a.createElement("i",{className:"fa fa-floppy-o","aria-hidden":"true"}),l.a.createElement("span",null," Save"))),l.a.createElement("div",{id:"notes-meta-data",style:this.metaDataStyle},l.a.createElement(P,{selectedNote:n,collections:r,save:t,editorState:o}),l.a.createElement(L,{selectedNote:n,save:t,editorState:o})))}}]),t}(n.Component);a(111),a(228);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleTitle=function(e){if(a.props.selectedNote){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.props.selectedNote);return t.title=e,a.props.updateSelectedNote(t)}var n=Object(y.convertToRaw)(a.props.editorState.getCurrentContent()),l={_id:Date.now().toString(),title:e,content:n,tags:[],collection:{}};return a.props.updateSelectedNote(l)},a.controlsStyle={display:"inline-flex",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"14px",margin:"auto 0px"},a.verticalLine={width:"1px",height:"20px",borderRight:"1px solid grey",margin:"auto 5px"},a.focus=function(){return a.editor.focus()},a.handleKeyCommand=a._handleKeyCommand.bind(Object(f.a)(a)),a.toggleBlockType=a._toggleBlockType.bind(Object(f.a)(a)),a.toggleInlineStyle=a._toggleInlineStyle.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"_handleKeyCommand",value:function(e,t){var a=y.RichUtils.handleKeyCommand(t,e);return!!a&&(this.props.onChange(a),!0)}},{key:"_toggleBlockType",value:function(e){this.props.onChange(y.RichUtils.toggleBlockType(this.props.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.props.onChange(y.RichUtils.toggleInlineStyle(this.props.editorState,e))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"editor-window"},l.a.createElement("div",{className:"editor-menu"},l.a.createElement(z,{save:this.props.save,handleDelete:this.props.handleDelete,selectedNote:this.props.selectedNote,collections:this.props.collections,updateSelectedNote:this.props.updateSelectedNote,editorState:this.props.editorState}),l.a.createElement("div",{id:"stying-controls",style:this.controlsStyle},l.a.createElement(U,{editorState:this.props.editorState,onToggle:this.toggleInlineStyle}),l.a.createElement("div",{style:this.verticalLine}),l.a.createElement(J,{editorState:this.props.editorState,onToggle:this.toggleBlockType}),l.a.createElement("hr",null))),l.a.createElement("div",{id:"rich-text-editor"},l.a.createElement("div",null,l.a.createElement(b.a,{className:"textarea",id:"title-textarea",placeholder:"Title...",value:this.props.selectedNote?this.props.selectedNote.title:"",onChange:function(t){return e.handleTitle(t.target.value)}}),l.a.createElement("hr",null)),l.a.createElement("div",{className:"editor-edit",onClick:this.focus},l.a.createElement(y.Editor,{blockStyleFn:K,customStyleMap:M,editorState:this.props.editorState,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.props.onEditorChange,ref:function(t){return e.editor=t},spellCheck:!0}))))}}]),t}(l.a.Component),M={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function K(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"editor-code";default:return null}}var A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onToggle=function(t){t.preventDefault(),e.onToggle(e.style)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="editor-styleButton";return this.props.active&&(e+=" editor-activeButton"),l.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),t}(l.a.Component),Q=[{label:"Title",style:"header-one"},{label:"Header",style:"header-three"},{label:l.a.createElement("i",{className:"fa fa-list-ul","aria-hidden":"true"}),style:"unordered-list-item"},{label:l.a.createElement("i",{className:"fa fa-list-ol","aria-hidden":"true"}),style:"ordered-list-item"},{label:l.a.createElement("i",{className:"fa fa-code","aria-hidden":"true"}),style:"code-block"}],J=function(e){var t=e.editorState,a=e.onToggle,n=t.getSelection(),r=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return l.a.createElement("div",{className:"editor-control-row"},Q.map(function(e){return l.a.createElement(A,{key:e.style,active:e.style===r,label:e.label,onToggle:a,style:e.style})}))},H=[{label:l.a.createElement("i",{className:"fa fa-bold","aria-hidden":"true"}),style:"BOLD"},{label:l.a.createElement("i",{className:"fa fa-italic","aria-hidden":"true"}),style:"ITALIC"},{label:l.a.createElement("i",{className:"fa fa-underline","aria-hidden":"true"}),style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],U=function(e){var t=e.editorState,a=e.onToggle,n=t.getCurrentInlineStyle();return l.a.createElement("div",{className:"editor-control-row"},H.map(function(e){return l.a.createElement(A,{key:e.style,active:n.has(e.style),label:e.label,onToggle:a,style:e.style})}))},q=B,W=a(42),Z=a(118),Y=a.n(Z),G=a(119),V=a.n(G);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).listItemStyle={padding:"0.5em 0.75em",background:"white"},a.previewStyle={fontSize:12,margin:"3px 0px",lineHeight:1.25},a.tagsStyle={fontSize:11,fontStyle:"italic",marginLeft:"5px",color:"orangered"},a.collectionStyle={margin:"5px 5px 5px 0px",borderRadius:"0 8px 8px 0",writingMode:"vertical-rl",textAlign:"center",fontSize:"11px",letterSpacing:"0.5px",fontWeight:"bold",fontStyle:"oblique"},a.individualNotes={display:"grid",gridTemplateColumns:"20px auto",width:"100%",padding:"1px",marginBottom:"0px"},a.filter=function(e){var t=a.props.searchQuery.toLowerCase();if(e)return e.filter(function(e){return e.content.blocks.find(function(e){return e.text.toLowerCase().includes(t)})||e.title.toLowerCase().includes(t)})},a.generateSearchPreview=function(e){var t=a.props.searchQuery,n=e.content.blocks.map(function(e){return e.text}).join(" "),r=n.toLowerCase().indexOf(t.toLowerCase());if(-1===r)return l.a.createElement("div",null,n);var o=r+t.length,i=V.a.notesPreviewLength,c=n.slice(0,r),s=n.slice(r,o),d=n.slice(o);return n.length>i&&(c.length>=i+t.length+3&&(c=c.slice(c.length-20)),d.length>i-t.length-c.length&&(d=d.slice(0,i-c.length))),l.a.createElement("div",null,l.a.createElement("span",null,c),l.a.createElement("span",{style:{backgroundColor:"yellow"}},s),l.a.createElement("span",null,d))},a.generateTitle=function(e){var t=a.props.searchQuery,n=e.title,r=n.toLowerCase().indexOf(t.toLowerCase());if(-1===r)return l.a.createElement("div",null,n);var o=r+t.length,i=n.slice(0,r),c=n.slice(r,o),s=n.slice(o);return l.a.createElement("div",null,l.a.createElement("span",null,i),l.a.createElement("span",{style:{backgroundColor:"yellow"}},c),l.a.createElement("span",null,s))},a.state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.filter(this.props.allNotes);return l.a.createElement("div",{className:"list-group preview-section"},t&&t.map(function(t){return l.a.createElement("div",{className:"list-group-item",style:$({},e.individualNotes,{background:e.props.selectedNote&&t._id===e.props.selectedNote._id?t.collection.color:"white",border:e.props.selectedNote&&t._id===e.props.selectedNote._id?"1px dotted ".concat(t.collection.color):"none"}),key:t._id},l.a.createElement("div",{style:$({},e.collectionStyle,{backgroundColor:t.collection.color})},l.a.createElement("span",null,t.collection.name)),l.a.createElement(i.b,{key:t._id,to:"/notes/".concat(t._id),style:e.listItemStyle,className:"list-group-item-action"},l.a.createElement("div",null,l.a.createElement("div",{className:"d-flex w-100 justify-content-between"},l.a.createElement("h5",{className:"mb-1"},e.generateTitle(t)),l.a.createElement("small",null,Y()(t.updated).format("MMM D 'YY"))),l.a.createElement("div",{style:e.previewStyle},e.generateSearchPreview(t)),l.a.createElement(R,{fontSize:"11px",tags:t.tags,style:{marginTop:"5px"},iconColor:"darkslateblue"}))))}))}}]),t}(n.Component),te=function(e){var t=e.searchQuery,a=e.onSearch,n=e.onClear;return l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{type:"text",className:"form-control",value:t,onChange:function(e){return a(e.currentTarget.value)},placeholder:"Search..."}),l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{onClick:function(){return n()},className:"btn btn-outline-secondary",type:"button"},"clear")))},ae=function(e){var t=e.handleDropdownClick,a=e.handleRadioSelect,n=e.handleCheckboxSelect,r=e.collectionsOpen,o=e.tagsOpen,i=e.collectionFilter,c=e.tagsFilter,s=e.collections,d=e.tags,p={marginTop:"10px",color:"white",cursor:"pointer"},u={display:"grid",gridTemplateColumns:"15px auto",width:"100%",alignItems:"baseline"};return l.a.createElement("div",{id:"filterSection",style:{background:"#112",display:"grid",gridTemplateRows:"40px 60px 200px 300px",overflow:"auto",padding:"15px 5px",height:"100%",width:"100%"}},l.a.createElement("div",{id:"profile-preview",style:{background:"black",height:"100%",width:"100%",color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px"}},l.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"20% auto",width:"100%",cursor:"pointer"}},l.a.createElement("div",{style:{display:"flex",margin:"auto"}},l.a.createElement(S.a,{icon:w.g})),l.a.createElement("div",{style:{fontSize:"11px"}},"lords.austin@gmail.com"))),l.a.createElement("div",{id:"add-collection",style:{height:"100%",width:"100%",color:"white",display:"flex",alignItems:"flex-end",padding:"0 10px"}},l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",style:{height:"25px",fontSize:"11px"},padding:"2px"},l.a.createElement(S.a,{icon:w.e}),l.a.createElement("span",null," Collection"))),l.a.createElement("div",{id:"collection-filter",style:p},l.a.createElement("div",{className:"list-group clickable"},l.a.createElement("div",{style:u,onClick:function(e){return t(e)},"data-toggle":"collapse","data-target":"#collections","aria-expanded":r,"aria-controls":"collections"},l.a.createElement("div",{style:{height:"100%",width:"100%"}},l.a.createElement(S.a,{icon:r?w.b:w.c,className:"faCaretDropdown"})),l.a.createElement("div",null,l.a.createElement("span",null,"Collections "),l.a.createElement("span",{style:{paddingLeft:"10px"}}," ",l.a.createElement(S.a,{icon:w.a,style:{fontSize:"14px",transform:"rotate(-20deg)"}}))))),l.a.createElement("div",{className:"collapse multi-collapse show",id:"collections",style:{marginLeft:"10px",fontSize:"14px",height:"90%",overflow:"auto"}},l.a.createElement("div",{key:"allCollections",className:"form-check clickable"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"radio",name:"collection-choices",value:"",checked:""===i,onChange:function(e){return a(e)}}),"All")),s.map(function(e){return l.a.createElement("div",{className:"form-check",key:e._id},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"radio",name:"collection-choices",value:e.name,checked:i===e.name,onChange:function(e){return a(e)}}),e.name))}))),l.a.createElement("div",{id:"tags-filter",style:p},l.a.createElement("div",{className:"list-group"},l.a.createElement("div",{style:u,onClick:function(e){return t(e)},"data-toggle":"collapse","data-target":"#tags","aria-expanded":"false","aria-controls":"tags"},l.a.createElement("div",{style:{height:"100%",width:"100%"}},l.a.createElement(S.a,{icon:o?w.b:w.c,className:"faCaretDropdown"})),l.a.createElement("div",null,l.a.createElement("span",null,"Tags "),l.a.createElement("span",{style:{paddingLeft:"10px"}}," ",l.a.createElement(S.a,{icon:w.f,style:{fontSize:"12px"}}))))),l.a.createElement("div",{className:"collapse multi-collapse show",id:"tags",style:{marginLeft:"10px",fontSize:"14px",height:"90%",overflow:"auto"}},d.map(function(e){return l.a.createElement("div",{className:"form-check",key:e},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"tag-choices",id:e,value:e,checked:c!==[]&&c.includes(e),onChange:function(e){return n(e)}}),e))}))))},ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).sidebarStyle={display:"grid",gridTemplateColumns:"200px auto",margin:0,background:"salmon",width:"100%",height:"100%"},a.state={collectionsOpen:!0,tagsOpen:!0,collectionFilter:"",tagsFilter:[]},a.handleCheckboxSelect=a.handleCheckboxSelect.bind(Object(f.a)(a)),a.handleRadioSelect=a.handleRadioSelect.bind(Object(f.a)(a)),a.handleDropdownClick=a.handleDropdownClick.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleDropdownClick",value:function(e){var t=e.currentTarget.getAttribute("data-target"),a=e.currentTarget.getAttribute("aria-expanded");switch(t){case"#collections":"false"===a?this.setState({collectionsOpen:!1}):this.setState({collectionsOpen:!0});break;case"#tags":"false"===a?this.setState({tagsOpen:!1}):this.setState({tagsOpen:!0})}}},{key:"handleRadioSelect",value:function(e){this.setState({collectionFilter:e.target.value,tagsFilter:[]})}},{key:"handleCheckboxSelect",value:function(e){var t=this.state.tagsFilter,a=e.target.value;if(t.includes(a)){var n=t;n.splice(t.indexOf(a),1),this.setState({tagsFilter:n})}else this.setState({tagsFilter:[].concat(Object(W.a)(this.state.tagsFilter),[a])})}},{key:"filter",value:function(e){var t=this,a=e;this.state.collectionFilter&&(a=a.filter(function(e){return e.collection.name===t.state.collectionFilter}));var n=[];if(a.forEach(function(e){var t;return(t=n).push.apply(t,Object(W.a)(e.tags))}),n=Object(W.a)(new Set(n)),this.state.tagsFilter.length>0){var l=this.state.tagsFilter.map(function(e){return e.toLowerCase()});a=a.filter(function(e){var t=[].concat(Object(W.a)(e.tags.map(function(e){return e.toLowerCase()})),Object(W.a)(l));return Object(W.a)(new Set(t)).length!==t.length})}return{filteredNotes:a,tags:n}}},{key:"render",value:function(){var e=this.props,t=e.searchQuery,a=e.allNotes,n=e.selectedNote,r=e.onSearch,o=e.onClear,i=e.collections,c=[];if(a){var s=this.filter(a);a=s.filteredNotes,c=s.tags}return l.a.createElement("div",{style:this.sidebarStyle},l.a.createElement(ae,{handleDropdownClick:this.handleDropdownClick,handleRadioSelect:this.handleRadioSelect,handleCheckboxSelect:this.handleCheckboxSelect,collectionsOpen:this.state.collectionsOpen,tagsOpen:this.state.tagsOpen,collectionFilter:this.state.collectionFilter,tagsFilter:this.state.tagsFilter,collections:i,tags:c,key:i.length}),l.a.createElement("div",{className:"sidebar-preview"},l.a.createElement(te,{onSearch:r,searchQuery:t,onClear:o}),l.a.createElement(ee,{allNotes:a,selectedNote:n,searchQuery:t,collections:i})))}}]),t}(n.Component),le=[{_id:"fg0gr34hgioa98g4",title:"Portland Trail Blazers",content:{blocks:[{key:"rhc1",text:"Just some notes....",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"81bq5",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"20eqn",text:"Lineup",type:"header-three",depth:0,inlineStyleRanges:[{offset:0,length:6,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"46tkh",text:"Damian Lillard",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"aboo4",text:"CJ McCollum",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"fupsb",text:"Jusif Nurkic",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"c3u3r",text:"Kent Bazemore",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"5cr5i",text:"Rodney Hood",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}],entityMap:{}},preview:"Just some notes....  Lineup Damian Lillard CJ McCollum Jusif Nurkic Kent Ba...",tags:["Portland","Sports","Basketball"],collection:{_id:"rht5wsbsgnw",name:"Sports",color:"greenyellow"},updated:"2019-07-11T04:05:42.426Z"},{_id:"yh533g54yh5335y4gs4",title:"Sapiens",content:{blocks:[{key:"6ef7d",text:"Insert some book notes here. Nothing much...",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}],entityMap:{}},preview:"Insert some book notes here. Nothing much...",tags:["Books","History"],collection:{_id:"adsfasdfadsf",name:"Books",color:"cyan"},updated:"2019-03-11T04:05:42.426Z"},{_id:"thtrjsbehrytu5667s5335y",title:"Sandy Ridge Trails",content:{blocks:[{key:"rhc1",text:"Some of the best mountain biking in Oregon",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}],entityMap:{}},preview:"Some of the best mountain biking in Oregon.",tags:["Portland","Mountain Biking"],collection:{_id:"nvcxcbvtsasdg",name:"Other",color:"lightgray"},updated:"2019-08-11T04:05:42.426Z"}];var re=[{_id:"adsfasdfadsf",name:"Books",color:"cyan"},{_id:"rht5wsbsgnw",name:"Sports",color:"greenyellow"},{_id:"nvcxcbvtsasdg",name:"Other",color:"lightgray"}];var oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleSearch=function(e){a.setState({searchQuery:e})},a.handleClear=function(){a.setState({searchQuery:""})},a.updateSelectedNote=function(e){a.setState({selectedNote:e})},a.save=function(e){var t=a.state,n=t.allNotes,l=t.editorState,r=Object(y.convertToRaw)(l.getCurrentContent()),o={_id:e&&e._id||Date.now().toString(),title:e&&e.title||"",content:r,tags:e&&e.tags||[],collection:e&&e.collection||{}};try{var i=n.findIndex(function(t){return t._id===e._id});-1!==i?(n.splice(i,1,o),a.setState({allNotes:n,selectedNote:o})):(n.push(o),a.setState({allNotes:n,selectedNote:o}),a.props.history.replace("/notes/".concat(o._id)))}catch(s){n.push(o),a.setState({allNotes:n,selectedNote:o}),a.props.history.replace("/notes/".concat(o._id))}if(o.collection._id&&0===a.state.collections.filter(function(e){return e._id===o.collection._id}).length){var c=a.state.collections;c.push(o.collection),a.setState({collections:c})}},a.handleDelete=function(){var e=a.props.match.params.id;a.setState({allNotes:a.state.allNotes.filter(function(t){return t._id!==e}),editorState:y.EditorState.createEmpty(),selectedNote:null,title:""}),a.props.history.replace("/notes")},a.state={allNotes:null,errors:{},editorState:y.EditorState.createEmpty(),selectedNote:null,searchQuery:"",collections:[]},a.onEditorChange=function(e){a.setState({editorState:e})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id||null;if(!e||!le)return this.setState({allNotes:le,collections:re});var t=le.find(function(t){return t._id===e})||null,a=t?y.EditorState.createWithContent(Object(y.convertFromRaw)(t.content)):y.EditorState.createEmpty();this.setState({allNotes:le,collections:re,selectedNote:t,editorState:a})}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.id;if(e&&this.state.allNotes){if("new"===e)return this.setState({editorState:y.EditorState.createEmpty(),selectedNote:null,title:""}),this.props.history.replace("/notes");var t=this.state.allNotes.find(function(t){return t._id===e});if(!t)return this.props.history.replace("/notes");var a=y.EditorState.createWithContent(Object(y.convertFromRaw)(t.content));return this.state.selectedNote&&e!==this.state.selectedNote._id?this.setState({selectedNote:t,editorState:a}):this.state.selectedNote?void 0:this.setState({selectedNote:t,editorState:a})}}},{key:"render",value:function(){var e=this.state,t=e.editorState,a=e.allNotes,n=e.searchQuery,r=e.collections,o=e.selectedNote,i=e.title;return l.a.createElement("div",{className:"app-page"},l.a.createElement(ne,{editorState:t,allNotes:a,onSearch:this.handleSearch,searchQuery:n,onClear:this.handleClear,collections:r,selectedNote:o}),l.a.createElement(q,{onEditorChange:this.onEditorChange,handleTitle:this.handleTitle,title:i,save:this.save,handleDelete:this.handleDelete,updateSelectedNote:this.updateSelectedNote,collections:r,editorState:t,selectedNote:o}))}}]),t}(n.Component),ie=(a(230),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"app-background"},l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/notes/:id",component:oe}),l.a.createElement(m.b,{path:"/notes",component:oe}),l.a.createElement(m.a,{from:"/",exact:!0,to:"/notes"}))))}}]),t}(n.Component));a(231),a(232),a(234);o.a.render(l.a.createElement(i.a,null,l.a.createElement(ie,null)),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.441bdc73.chunk.js.map