{"version":3,"sources":["config.js","components/NavBar.jsx","components/common/CollectionPreview.jsx","utils/randomColor.js","components/EditorCollections.jsx","components/common/TagsPreview.jsx","components/EditorTags.jsx","components/EditorMenu.jsx","components/DraftEditor.jsx","components/NotesPreview.jsx","components/NotesSearch.jsx","components/NotesFilter.jsx","components/SideBar.jsx","services/fakePostsService.js","services/fakeCollectionsService.js","components/Notes.jsx","App.js","index.js"],"names":["module","exports","apiUrl","notesPreviewLength","NavBar","className","to","CollectionPreview","fontSize","collection","style","len","length","colStr","hasOwnProperty","name","slice","linkStyle","color","fontStyle","cursor","icon","faBook","marginRight","transform","randomColor","Math","random","toString","substr","EditorCollections","state","collectionPopoverOpen","newCollection","onChange","event","setState","target","value","togglePopover","handleCollectionSelect","props","collections","find","c","_id","note","selectedNote","save","pressEnter","keyCode","Date","now","title","content","convertToRaw","editorState","getCurrentContent","tags","this","textAlign","padding","id","UncontrolledPopover","placement","isOpen","trigger","toggle","PopoverHeader","PopoverBody","key","map","type","checked","e","placeholder","marginTop","lineHeight","width","height","onKeyDown","Component","TagsPreview","iconColor","tagLen","tagsStr","join","faTags","EditorTags","tagsPopoverOpen","newTag","handleTagsDelete","tag","currentTarget","getAttribute","filter","t","includes","push","data","onClick","faMinusCircle","autoFocus","EditorMenu","menuStyle","margin","display","justifyContent","crudStyle","alignItems","metaDataStyle","handleDelete","aria-hidden","DraftEditor","handleTitle","updateSelectedNote","currentEditorContent","controlsStyle","fontFamily","verticalLine","borderRight","focus","editor","handleKeyCommand","_handleKeyCommand","bind","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","command","newState","RichUtils","onEditorChange","blockType","inlineStyle","onToggle","blockStyleFn","getBlockStyle","customStyleMap","styleMap","keyBindingFn","mapKeyToEditorCommand","ref","spellCheck","React","CODE","backgroundColor","block","getType","StyleButton","preventDefault","active","onMouseDown","label","BLOCK_TYPES","BlockStyleControls","selection","getSelection","getBlockForKey","getStartKey","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","NotesPreview","listItemStyle","background","previewStyle","tagsStyle","marginLeft","collectionStyle","borderRadius","writingMode","letterSpacing","fontWeight","individualNotes","gridTemplateColumns","marginBottom","notes","search","searchQuery","toLowerCase","n","blocks","el","text","generateSearchPreview","previewText","startIndex","indexOf","endIndex","previewLength","config","pre","highlight","post","generateTitle","filtered","allNotes","border","moment","updated","format","NotesSearch","onSearch","onClear","NotesFilter","editMode","toggleEditMode","updateCollections","filterStyle","gridTemplateRows","overflow","profileDivStyle","profileContentStyle","buttonSectionStyle","collectionTagStyle","dropdownTitle","handleDropdownClick","handleRadioSelect","handleCheckboxSelect","collectionsOpen","tagsOpen","collectionFilter","tagsFilter","faUserCircle","faPlus","faCheckCircle","faEdit","data-toggle","data-target","aria-expanded","aria-controls","faCaretDown","faCaretRight","paddingLeft","aria-label","faFillDrip","SideBar","sidebarStyle","dataTarget","isExpanded","selectedTags","newTags","splice","filteredNotes","forEach","Set","lowerTags","combinedTags","NOTES","depth","inlineStyleRanges","entityRanges","offset","entityMap","preview","COLLECTIONS","Notes","handleSearch","query","handleClear","action","findIndex","newNote","existingIndex","history","replace","match","params","EditorState","createEmpty","errors","createWithContent","convertFromRaw","App","Fragment","path","component","from","exact","ReactDOM","render","document","getElementById"],"mappings":"+GAAAA,EAAOC,QAAU,CACfC,OAAQ,4BACRC,mBAAoB,K,iMCgBPC,EAfA,WACb,OACE,yBAAKC,UAAU,cACb,kBAAC,IAAD,CAAMA,UAAU,eAAeC,GAAG,KAAlC,WAGA,yBAAKD,UAAU,IACb,kBAAC,IAAD,CAASA,UAAU,cAAcC,GAAG,UAApC,Y,soBCNR,IA8BeC,EA9BW,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,MAC7CC,EADiE,EAAbC,QACpC,GAChBC,EAASJ,EAAWK,eAAe,QACnCL,EAAWM,KACX,eAEAF,EAAOD,OAASD,IAAKE,EAASA,EAAOG,MAAM,EAAGL,GAAO,OAEzD,IAAMM,EAAY,CAChBC,MAAO,OACPC,UAAW,SACXC,OAAQ,UACRZ,YAGF,OACE,yBAAKE,MAAK,KAAOO,EAAP,GAAqBP,IAC7B,kBAAC,IAAD,CACEW,KAAMC,IACNZ,MAAO,CACLQ,MAAO,QACPK,YAAa,OACbC,UAAW,oBAGf,8BAAOX,KC7BE,SAASY,IACtB,MACE,IACAC,KAAKC,SACFC,SAAS,IACTC,QAAQ,G,ujBCwHAC,E,2MAtHbC,MAAQ,CACNC,uBAAuB,EACvBC,cAAe,I,EAGjBC,SAAW,SAAAC,GACT,EAAKC,SAAS,CAAEH,cAAeE,EAAME,OAAOC,S,EAG9CC,cAAgB,WACd,EAAKH,SAAS,CACZJ,uBAAwB,EAAKD,MAAMC,yB,EAIvCQ,uBAAyB,SAAAL,GACvB,IAAIpB,EAAOoB,EAAME,OAAOC,MADQ,EAEX,EAAKG,MAAMC,YAAYC,KAAK,SAAAC,GAAC,OAAIA,EAAE7B,OAASA,IAA3DG,EAF0B,EAE1BA,MAAO2B,EAFmB,EAEnBA,IACPC,EAAI,KAAQ,EAAKL,MAAMM,cAC7BD,EAAKrC,WAAa,CAAEoC,MAAK9B,OAAMG,SAC/B,EAAKuB,MAAMO,KAAKF,I,EAGlBG,WAAa,SAAAd,GACX,GAAsB,KAAlBA,EAAMe,QAAV,CAEA,IAAIJ,EAAO,EAAKL,MAAMM,aAAX,KACF,EAAKN,MAAMM,cAChB,CACEF,IAAKM,KAAKC,MAAMxB,WAChByB,MAAO,GACPC,QAASC,uBAAa,EAAKd,MAAMe,YAAYC,qBAC7CC,KAAM,GACNjD,WAAY,IAGdqC,EAAKrC,WAAWM,OAAS,EAAKgB,MAAME,gBAExCa,EAAKrC,WAAa,CAChBoC,IAAKM,KAAKC,MAAMxB,WAChBb,KAAM,EAAKgB,MAAME,cACjBf,MAAOO,KAET,EAAKW,SAAS,CAAEH,cAAe,KAC/B,EAAKQ,MAAMO,KAAKF,M,wEAGR,IAAD,SAC+Ba,KAAKlB,MAAnCM,EADD,EACCA,aAAcL,EADf,EACeA,YAEtB,OACE,yBACEhC,MAAO,CAAEkD,UAAW,QAASC,QAAS,YACtCC,GAAG,0BACHzD,UAAU,qBAEV,kBAAC,EAAD,CACEG,SAAS,OACTC,WAAYsC,EAAeA,EAAatC,WAAa,KAEvD,kBAACsD,EAAA,EAAD,CACEC,UAAU,SACVC,OAAQN,KAAK5B,MAAMC,sBACnBK,OAAO,0BACP6B,QAAQ,SACRC,OAAQ,kBAAM,EAAK5B,kBAEnB,kBAAC6B,EAAA,EAAD,2BACA,kBAACC,EAAA,EAAD,CAAaC,IAAKvB,EAAeA,EAAatC,WAAWM,KAAO,IAC7D2B,EACCA,EAAY6B,IAAI,SAAA3B,GAAC,OACf,yBAAKvC,UAAU,uBAAuBiE,IAAK1B,EAAEC,KAC3C,2BAAOxC,UAAU,oBACf,2BACEA,UAAU,mBACVmE,KAAK,QACLzD,KAAK,4BACLuB,MAAOM,EAAE7B,KACT0D,UACE1B,GACIA,EAAatC,WAAWM,OAAS6B,EAAE7B,KAGzCmB,SAAU,SAAAwC,GAAC,OAAI,EAAKlC,uBAAuBkC,MAE5C9B,EAAE7B,SAKT,8BAEF,2BACEyD,KAAK,OACLnE,UAAU,eACViC,MAAOqB,KAAK5B,MAAME,cAClBC,SAAU,SAAAwC,GAAC,OAAI,EAAKxC,SAASwC,IAC7BC,YAAY,oBACZjE,MAAO,CACLF,SAAU,QACVoE,UAAW,OACXC,WAAY,IACZhB,QAAS,aACTiB,MAAO,QACPC,OAAQ,oBAEVC,UAAWrB,KAAKV,aAElB,+BACE,oDACO,W,GA/GWgC,a,mjBCFhC,IAwBeC,EAxBK,SAAC,GAAkD,IAAhD1E,EAA+C,EAA/CA,SAAUkD,EAAqC,EAArCA,KAAMhD,EAA+B,EAA/BA,MAAOE,EAAwB,EAAxBA,OAAQuE,EAAgB,EAAhBA,UAChDC,EAASxE,GAAU,GACnByE,EAAU3B,EAAK9C,OAAS,EAAI8C,EAAK4B,KAAK,MAAQ,SAE9CD,EAAQzE,OAASwE,IAAQC,EAAUA,EAAQrE,MAAM,EAAGoE,GAAU,OAElE,IAAMnE,EAAY,CAChBC,MAAO,YACPC,UAAW,SACXC,OAAQ,UACRZ,YAGF,OACE,yBAAKE,MAAK,KAAOO,EAAP,GAAqBP,IAC7B,kBAAC,IAAD,CACEW,KAAMkE,IACN7E,MAAO,CAAEQ,MAAOiE,EAAW5D,YAAa,UAE1C,8BAAO8D,K,ujBCsFEG,E,2MArGbzD,MAAQ,CAAE0D,iBAAiB,EAAOC,OAAQ,I,EAE1CnD,cAAgB,WACd,EAAKH,SAAS,CAAEqD,iBAAkB,EAAK1D,MAAM0D,mB,EAG/CE,iBAAmB,SAAAxD,GACjB,IAAMyD,EAAMzD,EAAM0D,cAAcC,aAAa,QACzChD,EAAI,KAAQ,EAAKL,MAAMM,cAC3BD,EAAKY,KAAOZ,EAAKY,KAAKqC,OAAO,SAAAC,GAAC,OAAIA,IAAMJ,IACxC,EAAKnD,MAAMO,KAAKF,I,EAGlBZ,SAAW,SAAAC,GACT,EAAKC,SAAS,CAAEsD,OAAQvD,EAAME,OAAOC,S,EAGvCW,WAAa,SAAAd,GACX,GAAsB,KAAlBA,EAAMe,QAAV,CAEA,IAAIJ,EAAO,EAAKL,MAAMM,aAAX,KACF,EAAKN,MAAMM,cAChB,CACEF,IAAKM,KAAKC,MAAMxB,WAChByB,MAAO,GACPC,QAASC,uBAAa,EAAKd,MAAMe,YAAYC,qBAC7CC,KAAM,GACNjD,WAAY,IAGdqC,EAAKY,KAAKuC,SAAS,EAAKlE,MAAM2D,UAElC5C,EAAKY,KAAKwC,KAAK,EAAKnE,MAAM2D,QAC1B,EAAKtD,SAAS,CAAEsD,OAAQ,KACxB,EAAKjD,MAAMO,KAAKF,M,wEAGR,IAAD,OACCC,EAAiBY,KAAKlB,MAAtBM,aAER,OACE,yBACErC,MAAO,CAAEkD,UAAW,QAASC,QAAS,YACtCC,GAAG,qBAEH,kBAAC,EAAD,CACEtD,SAAS,OACTkD,KAAMX,EAAeA,EAAaW,KAAO,GACzCyB,UAAU,UAEZ,kBAACpB,EAAA,EAAD,CACEC,UAAU,SACVC,OAAQN,KAAK5B,MAAM0D,gBACnBpD,OAAO,oBACP6B,QAAQ,SACRC,OAAQ,kBAAM,EAAK5B,kBAEnB,kBAAC6B,EAAA,EAAD,mBACA,kBAACC,EAAA,EAAD,CAAaC,IAAKvB,EAAeA,EAAaW,KAAK9C,OAAS,GACzDmC,EACCA,EAAaW,KAAKa,IAAI,SAAAqB,GAAG,OACvB,yBAAKtB,IAAKsB,GACR,0BAAMO,KAAMP,EAAKQ,QAAS,SAAA1B,GAAC,OAAI,EAAKiB,iBAAiBjB,KACnD,kBAAC,IAAD,CACErD,KAAMgF,IACN3F,MAAO,CAAEQ,MAAO,MAAOK,YAAa,WAGxC,2BAAOlB,UAAU,oBAAoBuF,MAIzC,8BAEF,2BACEpB,KAAK,OACLnE,UAAU,eACViC,MAAOqB,KAAK5B,MAAM2D,OAClBxD,SAAU,SAAAwC,GAAC,OAAI,EAAKxC,SAASwC,IAC7BC,YAAY,aACZjE,MAAO,CACLF,SAAU,QACVqE,WAAY,IACZhB,QAAS,aACTe,UAAW,OACXE,MAAO,QACPC,OAAQ,oBAEVC,UAAWrB,KAAKV,WAChBqD,WAAS,IAEX,+BACE,2D,GA7FWrB,aCyEVsB,E,2MA1EbxE,MAAQ,G,EAERyE,UAAY,CACVC,OAAQ,OACR3B,MAAO,OACPC,OAAQ,OACR2B,QAAS,cACTC,eAAgB,iB,EAGlBC,UAAY,CACVF,QAAS,cACTG,WAAY,SACZF,eAAgB,eAChB7B,MAAO,QACPC,OAAQ,OACRvE,SAAU,Q,EAGZsG,cAAgB,CACdJ,QAAS,cACTG,WAAY,SACZ9B,OAAQ,OACRvE,SAAU,Q,wEAGF,IAAD,EAOHmD,KAAKlB,MALPO,EAFK,EAELA,KACA+D,EAHK,EAGLA,aACAhE,EAJK,EAILA,aACAL,EALK,EAKLA,YACAc,EANK,EAMLA,YAGF,OACE,yBAAK9C,MAAOiD,KAAK6C,WACf,yBAAK1C,GAAG,kBAAkBpD,MAAOiD,KAAKiD,WACpC,kBAAC,IAAD,CAAMtG,GAAG,cACP,yBAAKD,UAAU,gCACb,uBAAGA,UAAU,aAAa2G,cAAY,SACtC,6CAGJ,yBAAK3G,UAAU,+BAA+B+F,QAASW,GACrD,uBAAG1G,UAAU,cAAc2G,cAAY,SACvC,0CAEF,yBACE3G,UAAU,+BACV+F,QAAS,kBAAMpD,EAAKD,KAEpB,uBAAG1C,UAAU,iBAAiB2G,cAAY,SAC1C,yCAGJ,yBAAKlD,GAAG,kBAAkBpD,MAAOiD,KAAKmD,eACpC,kBAAC,EAAD,CACE/D,aAAcA,EACdL,YAAaA,EACbM,KAAMA,EACNQ,YAAaA,IAEf,kBAAC,EAAD,CACET,aAAcA,EACdC,KAAMA,EACNQ,YAAaA,U,GAnEAyB,a,8OCEnBgC,E,YACJ,WAAYxE,GAAQ,IAAD,8BACjB,4CAAMA,KASRyE,YAAc,SAAA7D,GACZ,GAAI,EAAKZ,MAAMM,aAAc,CAC3B,IAAMD,E,qVAAI,IAAQ,EAAKL,MAAMM,cAE7B,OADAD,EAAKO,MAAQA,EACN,EAAKZ,MAAM0E,mBAAmBrE,GAErC,IAAMsE,EAAuB7D,uBAC3B,EAAKd,MAAMe,YAAYC,qBAEnBX,EAAO,CACXD,IAAKM,KAAKC,MAAMxB,WAChByB,MAAOA,EACPC,QAAS8D,EACT1D,KAAM,GACNjD,WAAY,IAEd,OAAO,EAAKgC,MAAM0E,mBAAmBrE,IA1BtB,EAmDnBuE,cAAgB,CACdX,QAAS,cACTY,WAAY,+BACZ9G,SAAU,OACViG,OAAQ,YAvDS,EA0DnBc,aAAe,CACbzC,MAAO,MACPC,OAAQ,OACRyC,YAAa,iBACbf,OAAQ,YA3DR,EAAKgB,MAAQ,kBAAM,EAAKC,OAAOD,SAE/B,EAAKE,iBAAmB,EAAKC,kBAAkBC,KAAvB,gBACxB,EAAKC,gBAAkB,EAAKC,iBAAiBF,KAAtB,gBACvB,EAAKG,kBAAoB,EAAKC,mBAAmBJ,KAAxB,gBAPR,E,+EA8BDK,EAAS1E,GACzB,IAAM2E,EAAWC,YAAUT,iBAAiBnE,EAAa0E,GACzD,QAAIC,IACFxE,KAAKlB,MAAM4F,eAAeF,IACnB,K,uCAKMG,GACf3E,KAAKlB,MAAM4F,eACTD,YAAUN,gBAAgBnE,KAAKlB,MAAMe,YAAa8E,M,yCAInCC,GACjB5E,KAAKlB,MAAM4F,eACTD,YAAUJ,kBAAkBrE,KAAKlB,MAAMe,YAAa+E,M,+BAkB9C,IAAD,OACP,OACE,yBAAKlI,UAAU,iBACb,yBAAKA,UAAU,eACb,kBAAC,EAAD,CACE2C,KAAMW,KAAKlB,MAAMO,KACjB+D,aAAcpD,KAAKlB,MAAMsE,aACzBhE,aAAcY,KAAKlB,MAAMM,aACzBL,YAAaiB,KAAKlB,MAAMC,YACxByE,mBAAoBxD,KAAKlB,MAAM0E,mBAC/B3D,YAAaG,KAAKlB,MAAMe,cAE1B,yBAAKM,GAAG,kBAAkBpD,MAAOiD,KAAK0D,eACpC,kBAAC,EAAD,CACE7D,YAAaG,KAAKlB,MAAMe,YACxBgF,SAAU7E,KAAKqE,oBAEjB,yBAAKtH,MAAOiD,KAAK4D,eACjB,kBAAC,EAAD,CACE/D,YAAaG,KAAKlB,MAAMe,YACxBgF,SAAU7E,KAAKmE,kBAEjB,+BAGJ,yBAAKhE,GAAG,oBACN,6BACE,kBAAC,IAAD,CACEzD,UAAU,WACVyD,GAAG,iBACHa,YAAY,WACZrC,MACEqB,KAAKlB,MAAMM,aAAeY,KAAKlB,MAAMM,aAAaM,MAAQ,GAE5DnB,SAAU,SAAAwC,GAAC,OAAI,EAAKwC,YAAYxC,EAAErC,OAAOC,UAE3C,8BAEF,yBAAKjC,UAAU,cAAc+F,QAASzC,KAAK8D,OACzC,kBAAC,SAAD,CACEgB,aAAcC,EACdC,eAAgBC,EAChBpF,YAAaG,KAAKlB,MAAMe,YACxBmE,iBAAkBhE,KAAKgE,iBACvBkB,aAAclF,KAAKmF,sBACnB5G,SAAUyB,KAAKlB,MAAM4F,eACrBU,IAAK,SAAAA,GAAG,OAAK,EAAKrB,OAASqB,GAC3BC,YAAY,W,GAjHAC,IAAMhE,WA2H1B2D,EAAW,CACfM,KAAM,CACJC,gBAAiB,sBACjB7B,WAAY,gDACZ9G,SAAU,GACVqD,QAAS,IAIb,SAAS6E,EAAcU,GACrB,OAAQA,EAAMC,WACZ,IAAK,aACH,MAAO,wBACT,IAAK,aACH,MAAO,cACT,QACE,OAAO,M,IAIPC,E,YACJ,WAAY7G,GAAQ,IAAD,8BACjB,4CAAMA,KACD+F,SAAW,SAAA9D,GACdA,EAAE6E,iBACF9G,EAAM+F,SAAS/F,EAAM/B,QAJN,E,sEASjB,IAAIL,EAAY,qBAKhB,OAJIsD,KAAKlB,MAAM+G,SACbnJ,GAAa,wBAIb,0BAAMA,UAAWA,EAAWoJ,YAAa9F,KAAK6E,UAC3C7E,KAAKlB,MAAMiH,W,GAjBMT,IAAMhE,WAuB1B0E,EAAc,CAClB,CAAED,MAAO,QAAShJ,MAAO,cACzB,CAAEgJ,MAAO,SAAUhJ,MAAO,gBAC1B,CACEgJ,MAAO,uBAAGrJ,UAAU,gBAAgB2G,cAAY,SAChDtG,MAAO,uBAET,CACEgJ,MAAO,uBAAGrJ,UAAU,gBAAgB2G,cAAY,SAChDtG,MAAO,qBAET,CACEgJ,MAAO,uBAAGrJ,UAAU,aAAa2G,cAAY,SAC7CtG,MAAO,eAILkJ,EAAqB,SAAC,GAA+B,IAA7BpG,EAA4B,EAA5BA,YAAagF,EAAe,EAAfA,SACnCqB,EAAYrG,EAAYsG,eACxBxB,EAAY9E,EACfC,oBACAsG,eAAeF,EAAUG,eACzBX,UAEH,OACE,yBAAKhJ,UAAU,sBACZsJ,EAAYpF,IAAI,SAAAC,GAAI,OACnB,kBAAC,EAAD,CACEF,IAAKE,EAAK9D,MACV8I,OAAQhF,EAAK9D,QAAU4H,EACvBoB,MAAOlF,EAAKkF,MACZlB,SAAUA,EACV9H,MAAO8D,EAAK9D,YAOlBuJ,EAAgB,CAClB,CAAEP,MAAO,uBAAGrJ,UAAU,aAAa2G,cAAY,SAAatG,MAAO,QACnE,CACEgJ,MAAO,uBAAGrJ,UAAU,eAAe2G,cAAY,SAC/CtG,MAAO,UAET,CACEgJ,MAAO,uBAAGrJ,UAAU,kBAAkB2G,cAAY,SAClDtG,MAAO,aAET,CAAEgJ,MAAO,YAAahJ,MAAO,SAGzBwJ,EAAsB,SAAC,GAA+B,IAA7B1G,EAA4B,EAA5BA,YAAagF,EAAe,EAAfA,SACtC2B,EAAe3G,EAAY4G,wBAC/B,OACE,yBAAK/J,UAAU,sBACZ4J,EAAc1F,IAAI,SAAAC,GAAI,OACrB,kBAAC,EAAD,CACEF,IAAKE,EAAK9D,MACV8I,OAAQW,EAAaE,IAAI7F,EAAK9D,OAC9BgJ,MAAOlF,EAAKkF,MACZlB,SAAUA,EACV9H,MAAO8D,EAAK9D,YAOPuG,I,4lBC9DAqD,G,YA7Kb,WAAY7H,GAAQ,IAAD,8BACjB,4CAAMA,KAIR8H,cAAgB,CACd1G,QAAS,eACT2G,WAAY,SAPK,EAUnBC,aAAe,CACbjK,SAAU,GACViG,OAAQ,UACR5B,WAAY,MAbK,EAgBnB6F,UAAY,CACVlK,SAAU,GACVW,UAAW,SACXwJ,WAAY,MACZzJ,MAAO,aApBU,EAuBnB0J,gBAAkB,CAChBnE,OAAQ,kBACRoE,aAAc,cACdC,YAAa,cACblH,UAAW,SACXpD,SAAU,OACVuK,cAAe,QACfC,WAAY,OACZ7J,UAAW,WA/BM,EAkCnB8J,gBAAkB,CAChBvE,QAAS,OACTwE,oBAAqB,YACrBpG,MAAO,OACPjB,QAAS,MACTsH,aAAc,OAvCG,EA0CnBpF,OAAS,SAAAqF,GACP,IAAIC,EAAS,EAAK5I,MAAM6I,YAAYC,cAEpC,GAAIH,EACF,OAAOA,EAAMrF,OACX,SAAAyF,GAAC,OACCA,EAAElI,QAAQmI,OAAO9I,KAAK,SAAA+I,GAAE,OAAIA,EAAGC,KAAKJ,cAActF,SAASoF,MAC3DG,EAAEnI,MAAMkI,cAActF,SAASoF,MAjDpB,EAqDnBO,sBAAwB,SAAA9I,GACtB,IAAIwI,EAAc,EAAK7I,MAAM6I,YAEzBO,EAAc/I,EAAKQ,QAAQmI,OAAOlH,IAAI,SAAAiH,GAAC,OAAIA,EAAEG,OAAMrG,KAAK,KACxDwG,EAAaD,EACdN,cACAQ,QAAQT,EAAYC,eAEvB,IAAoB,IAAhBO,EAAmB,OAAO,6BAAMD,GACpC,IAAIG,EAAWF,EAAaR,EAAY1K,OAGlCqL,EAAgBC,IAAO/L,mBAEzBgM,EAAMN,EAAY7K,MAAM,EAAG8K,GAC3BM,EAAYP,EAAY7K,MAAM8K,EAAYE,GAC1CK,EAAOR,EAAY7K,MAAMgL,GAS7B,OAPIH,EAAYjL,OAASqL,IACnBE,EAAIvL,QAAUqL,EAAgBX,EAAY1K,OAAS,IACrDuL,EAAMA,EAAInL,MAAMmL,EAAIvL,OATN,KAUZyL,EAAKzL,OAASqL,EAAgBX,EAAY1K,OAASuL,EAAIvL,SACzDyL,EAAOA,EAAKrL,MAAM,EAAGiL,EAAgBE,EAAIvL,UAI3C,6BACE,8BAAOuL,GACP,0BAAMzL,MAAO,CAAEyI,gBAAiB,WAAaiD,GAC7C,8BAAOC,KAlFM,EAuFnBC,cAAgB,SAAAxJ,GACd,IAAIwI,EAAc,EAAK7I,MAAM6I,YACzBjI,EAAQP,EAAKO,MAEbyI,EAAazI,EAAMkI,cAAcQ,QAAQT,EAAYC,eAEzD,IAAoB,IAAhBO,EAAmB,OAAO,6BAAMzI,GAEpC,IAAI2I,EAAWF,EAAaR,EAAY1K,OAEpCuL,EAAM9I,EAAMrC,MAAM,EAAG8K,GACrBM,EAAY/I,EAAMrC,MAAM8K,EAAYE,GACpCK,EAAOhJ,EAAMrC,MAAMgL,GAEvB,OACE,6BACE,8BAAOG,GACP,0BAAMzL,MAAO,CAAEyI,gBAAiB,WAAaiD,GAC7C,8BAAOC,KAvGX,EAAKtK,MAAQ,GAFI,E,sEA8GT,IAAD,OACHwK,EAAW5I,KAAKoC,OAAOpC,KAAKlB,MAAM+J,UAEtC,OACE,yBAAKnM,UAAU,8BACZkM,GACCA,EAAShI,IAAI,SAAAiH,GACX,OACE,yBACEnL,UAAU,kBACVK,MAAK,MACA,EAAKuK,gBADL,CAEHT,WACE,EAAK/H,MAAMM,cACXyI,EAAE3I,MAAQ,EAAKJ,MAAMM,aAAaF,IAC9B2I,EAAE/K,WAAWS,MACb,QACNuL,OACE,EAAKhK,MAAMM,cACXyI,EAAE3I,MAAQ,EAAKJ,MAAMM,aAAaF,IADlC,qBAEkB2I,EAAE/K,WAAWS,OAC3B,SAERoD,IAAKkH,EAAE3I,KAEP,yBACEnC,MAAK,MACA,EAAKkK,gBADL,CAEHzB,gBAAiBqC,EAAE/K,WAAWS,SAGhC,8BAAOsK,EAAE/K,WAAWM,OAEtB,kBAAC,IAAD,CACEuD,IAAKkH,EAAE3I,IACPvC,GAAE,iBAAYkL,EAAE3I,KAChBnC,MAAO,EAAK6J,cACZlK,UAAU,0BAEV,6BACE,yBAAKA,UAAU,wCACb,wBAAIA,UAAU,QAAQ,EAAKiM,cAAcd,IACzC,+BAAQkB,IAAOlB,EAAEmB,SAASC,OAAO,eAEnC,yBAAKlM,MAAO,EAAK+J,cACd,EAAKmB,sBAAsBJ,IAE9B,kBAAC,EAAD,CACEhL,SAAS,OACTkD,KAAM8H,EAAE9H,KACRhD,MAAO,CAAEkE,UAAW,OACpBO,UAAU,4B,GAlKLF,aCmBZ4H,GAvBK,SAAC,GAAwC,IAAtCvB,EAAqC,EAArCA,YAAawB,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QAC5C,OACE,yBAAK1M,UAAU,oBACb,2BACEmE,KAAK,OACLnE,UAAU,eACViC,MAAOgJ,EACPpJ,SAAU,SAAAwC,GAAC,OAAIoI,EAASpI,EAAEmB,cAAcvD,QACxCqC,YAAY,cAEd,yBAAKtE,UAAU,uBACb,0BACE+F,QAAS,kBAAM2G,KACf1M,UAAU,4BACVmE,KAAK,UAHP,YC+UOwI,G,2MA1UbjL,MAAQ,CACNC,uBAAuB,EACvBC,cAAe,GACfgL,UAAU,G,EAGZ/K,SAAW,SAAAC,GACT,EAAKC,SAAS,CAAEH,cAAeE,EAAME,OAAOC,S,EAG9CC,cAAgB,WACd,EAAKH,SAAS,CACZJ,uBAAwB,EAAKD,MAAMC,yB,EAIvCkL,eAAiB,WACf,EAAK9K,SAAS,CAAE6K,UAAW,EAAKlL,MAAMkL,Y,EAGxChK,WAAa,SAAAd,GACX,GAAsB,KAAlBA,EAAMe,SAEuB,KAA7B,EAAKnB,MAAME,cAAf,CAEA,IAAMxB,EAAa,CACjBoC,IAAKM,KAAKC,MAAMxB,WAChBb,KAAM,EAAKgB,MAAME,cACjBf,MAAOO,KAET,EAAKW,SAAS,CAAEH,cAAe,KAC/B,EAAKQ,MAAM0K,kBAAkB1M,EAAY,S,EAG3C2M,YAAc,CACZ5C,WAAY,OACZ9D,QAAS,OACT2G,iBAAkB,wBAClBC,SAAU,OACVzJ,QAAS,WACTkB,OAAQ,OACRD,MAAO,Q,EAGTyI,gBAAkB,CAChB/C,WAAY,QACZzF,OAAQ,OACRD,MAAO,OACP5D,MAAO,QACPwF,QAAS,OACTG,WAAY,SACZF,eAAgB,SAChBkE,aAAc,Q,EAGhB2C,oBAAsB,CACpB9G,QAAS,OACTwE,oBAAqB,WACrBpG,MAAO,OACP1D,OAAQ,W,EAGVqM,mBAAqB,CACnB1I,OAAQ,OACRD,MAAO,OACP5D,MAAO,QACPwF,QAAS,OACTG,WAAY,WACZhD,QAAS,SACT8C,eAAgB,gB,EAGlB+G,mBAAqB,CACnB9I,UAAW,OACX1D,MAAO,QACPE,OAAQ,W,EAGVuM,cAAgB,CACdjH,QAAS,OACTwE,oBAAqB,YACrBpG,MAAO,OACP+B,WAAY,Y,wEAGJ,IAAD,SAWHlD,KAAKlB,MATPmL,EAFK,EAELA,oBACAC,EAHK,EAGLA,kBACAC,EAJK,EAILA,qBACAC,EALK,EAKLA,gBACAC,EANK,EAMLA,SACAC,EAPK,EAOLA,iBACAC,EARK,EAQLA,WACAxL,EATK,EASLA,YACAgB,EAVK,EAULA,KAGF,OACE,yBAAKI,GAAG,gBAAgBpD,MAAOiD,KAAKyJ,aAClC,yBAAKtJ,GAAG,kBAAkBpD,MAAOiD,KAAK4J,iBACpC,yBAAK7M,MAAOiD,KAAK6J,qBACf,yBAAK9M,MAAO,CAAEgG,QAAS,OAAQD,OAAQ,SACrC,kBAAC,IAAD,CAAiBpF,KAAM8M,OAGzB,yBAAKzN,MAAO,CAAEF,SAAU,SAAxB,4BAGJ,yBAAKE,MAAOiD,KAAK8J,oBACf,4BACEjJ,KAAK,SACLnE,UAAU,2BACVK,MAAO,CAAEqE,OAAQ,OAAQvE,SAAU,QACnCqD,QAAQ,MACRC,GAAG,kBAEH,kBAAC,IAAD,CAAiBzC,KAAM+M,MACvB,8CAEDzK,KAAK5B,MAAMkL,SACV,4BACE5M,UAAU,yBACVK,MAAO,CAAEqE,OAAQ,OAAQvE,SAAU,QACnCqD,QAAQ,MACRuC,QAASzC,KAAKuJ,gBAEd,kBAAC,IAAD,CAAiB7L,KAAMgN,MACvB,wCAGF,4BACEhO,UAAU,wBACVK,MAAO,CAAEqE,OAAQ,OAAQvE,SAAU,QACnCqD,QAAQ,MACRuC,QAASzC,KAAKuJ,gBAEd,kBAAC,IAAD,CAAiB7L,KAAMiN,MACvB,yCAIN,kBAACvK,EAAA,EAAD,CACEC,UAAU,SACVC,OAAQN,KAAK5B,MAAMC,sBACnBK,OAAO,iBACP6B,QAAQ,SACRC,OAAQ,kBAAM,EAAK5B,kBAEnB,kBAAC8B,EAAA,EAAD,KACE,2BACEG,KAAK,OACLnE,UAAU,eACViC,MAAOqB,KAAK5B,MAAME,cAClBC,SAAU,SAAAwC,GAAC,OAAI,EAAKxC,SAASwC,IAC7BC,YAAY,oBACZjE,MAAO,CACLF,SAAU,QACVoE,UAAW,OACXC,WAAY,IACZhB,QAAS,aACTiB,MAAO,QACPC,OAAQ,oBAEVC,UAAWrB,KAAKV,WAChBqD,WAAS,IAEX,+BACE,oDACO,MAGb,yBAAKxC,GAAG,oBAAoBpD,MAAOiD,KAAK+J,oBACtC,yBAAKrN,UAAU,wBACb,yBACEK,MAAOiD,KAAKgK,cACZvH,QAAS,SAAA1B,GAAC,OAAIkJ,EAAoBlJ,IAClC6J,cAAY,WACZC,cAAY,eACZC,gBAAeV,EACfW,gBAAc,eAEd,kBAAC,IAAD,CACErN,KAAM0M,EAAkBY,IAAcC,IACtCvO,UAAU,oBAEZ,6BACE,8CACA,0BAAMK,MAAO,CAAEmO,YAAa,SACzB,IACD,kBAAC,IAAD,CACExN,KAAMC,IACNZ,MAAO,CAAEF,SAAU,OAAQgB,UAAW,wBAMhD,yBACEnB,UAAU,+BACVyD,GAAG,cACHpD,MAAO,CACLiK,WAAY,OACZnK,SAAU,OACVuE,OAAQ,MACRuI,SAAU,SAGX3J,KAAK5B,MAAMkL,SACV,8BAEA,yBAAK3I,IAAI,iBAAiBjE,UAAU,wBAClC,2BAAOA,UAAU,oBACf,2BACEA,UAAU,mBACVmE,KAAK,QACLzD,KAAK,qBACLuB,MAAM,GACNmC,QAA8B,KAArBwJ,EACT/L,SAAU,SAAAwC,GAAC,OAAImJ,EAAkBnJ,MAPrC,QAaHhC,EAAY6B,IAAI,SAAA3B,GAAC,OAChB,EAAKb,MAAMkL,SACT,yBAAK5M,UAAU,cACb,yBAAKA,UAAU,sBACb,kBAAC,IAAD,CACEgB,KAAMgF,IACN3F,MAAO,CACLQ,MAAO,MACPV,SAAU,OACViG,OAAQ,sBAEVnE,MAAOM,EAAEC,OAGb,2BACE2B,KAAK,OACLnE,UAAU,oBACVyO,aAAW,QACXxM,MAAOM,EAAE7B,OAEX,yBAAKV,UAAU,sBACb,kBAAC,IAAD,CACEgB,KAAM0N,IACNrO,MAAO,CACLQ,MAAO0B,EAAE1B,MACTuF,OAAQ,qBACRjG,SAAU,YAMlB,yBAAKH,UAAU,aAAaiE,IAAK1B,EAAEC,KACjC,2BAAOxC,UAAU,oBACf,2BACEA,UAAU,mBACVmE,KAAK,QACLzD,KAAK,qBACLuB,MAAOM,EAAE7B,KACT0D,QAASwJ,IAAqBrL,EAAE7B,KAChCmB,SAAU,SAAAwC,GAAC,OAAImJ,EAAkBnJ,MAElC9B,EAAE7B,WAOf,yBAAK+C,GAAG,cAAcpD,MAAOiD,KAAK+J,oBAChC,yBAAKrN,UAAU,cACb,yBACEK,MAAOiD,KAAKgK,cACZvH,QAAS,SAAA1B,GAAC,OAAIkJ,EAAoBlJ,IAClC6J,cAAY,WACZC,cAAY,QACZC,gBAAc,QACdC,gBAAc,QAEd,kBAAC,IAAD,CACErN,KAAM2M,EAAWW,IAAcC,IAC/BvO,UAAU,oBAEZ,6BACE,uCACA,0BAAMK,MAAO,CAAEmO,YAAa,SACzB,IACD,kBAAC,IAAD,CAAiBxN,KAAMkE,IAAQ7E,MAAO,CAAEF,SAAU,cAK1D,yBACEH,UAAU,+BACVyD,GAAG,OACHpD,MAAO,CACLiK,WAAY,OACZnK,SAAU,OACVuE,OAAQ,MACRuI,SAAU,SAGX5J,EAAKa,IAAI,SAAAqB,GAAG,OACX,yBAAKvF,UAAU,aAAaiE,IAAKsB,GAC/B,2BAAOvF,UAAU,oBACf,2BACEA,UAAU,mBACVmE,KAAK,WACLzD,KAAK,cACL+C,GAAI8B,EACJtD,MAAOsD,EACPnB,QAASyJ,IAAe,IAAMA,EAAWjI,SAASL,GAClD1D,SAAU,SAAAwC,GAAC,OAAIoJ,EAAqBpJ,MAErCkB,a,GAhUOX,aCyIX+J,G,YApJb,WAAYvM,GAAQ,IAAD,8BACjB,4CAAMA,KAaRwM,aAAe,CACbvI,QAAS,OACTwE,oBAAqB,aACrBzE,OAAQ,EACR+D,WAAY,SACZ1F,MAAO,OACPC,OAAQ,QAlBR,EAAKhD,MAAQ,CACXgM,iBAAiB,EACjBC,UAAU,EACVC,iBAAkB,GAClBC,WAAY,IAGd,EAAKJ,qBAAuB,EAAKA,qBAAqBjG,KAA1B,gBAC5B,EAAKgG,kBAAoB,EAAKA,kBAAkBhG,KAAvB,gBACzB,EAAK+F,oBAAsB,EAAKA,oBAAoB/F,KAAzB,gBAXV,E,iFAuBCnD,GAClB,IAAMwK,EAAaxK,EAAEmB,cAAcC,aAAa,eAC1CqJ,EAAazK,EAAEmB,cAAcC,aAAa,iBAEhD,OAAQoJ,GACN,IAAK,eACgB,UAAfC,EACFxL,KAAKvB,SAAS,CAAE2L,iBAAiB,IAEjCpK,KAAKvB,SAAS,CAAE2L,iBAAiB,IAEnC,MACF,IAAK,QACgB,UAAfoB,EACFxL,KAAKvB,SAAS,CAAE4L,UAAU,IAE1BrK,KAAKvB,SAAS,CAAE4L,UAAU,O,wCAQhB7L,GAChBwB,KAAKvB,SAAS,CACZ6L,iBAAkB9L,EAAME,OAAOC,MAC/B4L,WAAY,O,2CAIK/L,GACnB,IAAIiN,EAAezL,KAAK5B,MAAMmM,WAC1BtI,EAAMzD,EAAME,OAAOC,MAEvB,GAAI8M,EAAanJ,SAASL,GAAM,CAC9B,IAAIyJ,EAAUD,EACdC,EAAQC,OAAOF,EAAarD,QAAQnG,GAAM,GAC1CjC,KAAKvB,SAAS,CACZ8L,WAAYmB,SAGd1L,KAAKvB,SAAS,CACZ8L,WAAW,GAAD,mBAAMvK,KAAK5B,MAAMmM,YAAjB,CAA6BtI,Q,6BAKtCwF,GAAQ,IAAD,OACRmE,EAAgBnE,EAEhBzH,KAAK5B,MAAMkM,mBACbsB,EAAgBA,EAAcxJ,OAC5B,SAAAyF,GAAC,OAAIA,EAAE/K,WAAWM,OAAS,EAAKgB,MAAMkM,oBAG1C,IAAIvK,EAAO,GAIX,GAHA6L,EAAcC,QAAQ,SAAAhE,GAAC,aAAI,EAAA9H,GAAKwC,KAAL,oBAAasF,EAAE9H,SAC1CA,EAAI,YAAO,IAAI+L,IAAI/L,IAEfC,KAAK5B,MAAMmM,WAAWtN,OAAS,EAAG,CACpC,IAAI8O,EAAY/L,KAAK5B,MAAMmM,WAAW3J,IAAI,SAAAyB,GAAC,OAAIA,EAAEuF,gBAEjDgE,EAAgBA,EAAcxJ,OAAO,SAAAyF,GACnC,IAAImE,EAAY,sBAAOnE,EAAE9H,KAAKa,IAAI,SAAAiH,GAAC,OAAIA,EAAED,iBAAzB,YAA4CmE,IAE5D,OADW,YAAO,IAAID,IAAIE,IACX/O,SAAW+O,EAAa/O,SAI3C,MAAO,CAAE2O,gBAAe7L,U,+BAGhB,IAAD,EASHC,KAAKlB,MAPP6I,EAFK,EAELA,YACAkB,EAHK,EAGLA,SACAzJ,EAJK,EAILA,aACA+J,EALK,EAKLA,SACAC,EANK,EAMLA,QACArK,EAPK,EAOLA,YACAyK,EARK,EAQLA,kBAGEzJ,EAAO,GAEX,GAAI8I,EAAU,CACZ,IAAIpB,EAAQzH,KAAKoC,OAAOyG,GACxBA,EAAWpB,EAAMmE,cACjB7L,EAAO0H,EAAM1H,KAGf,OACE,yBAAKhD,MAAOiD,KAAKsL,cACf,kBAAC,GAAD,CACErB,oBAAqBjK,KAAKiK,oBAC1BC,kBAAmBlK,KAAKkK,kBACxBC,qBAAsBnK,KAAKmK,qBAC3BC,gBAAiBpK,KAAK5B,MAAMgM,gBAC5BC,SAAUrK,KAAK5B,MAAMiM,SACrBC,iBAAkBtK,KAAK5B,MAAMkM,iBAC7BC,WAAYvK,KAAK5B,MAAMmM,WACvBxL,YAAaA,EACbgB,KAAMA,EACNY,IAAK5B,EAAY9B,OACjBuM,kBAAmBA,IAErB,yBAAK9M,UAAU,mBACb,kBAAC,GAAD,CACEyM,SAAUA,EACVxB,YAAaA,EACbyB,QAASA,IAEX,kBAAC,GAAD,CACEP,SAAUA,EACVzJ,aAAcA,EACduI,YAAaA,EACb5I,YAAaA,U,GA7IHuC,aCLT2K,GAAQ,CACnB,CACE/M,IAAK,mBACLQ,MAAO,yBACPC,QAAS,CACPmI,OAAQ,CACN,CACEnH,IAAK,OACLqH,KAAM,sBACNnH,KAAM,WACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,GACNnH,KAAM,WACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,SACNnH,KAAM,eACNqL,MAAO,EACPC,kBAAmB,CACjB,CACEE,OAAQ,EACRpP,OAAQ,EACRF,MAAO,cAGXqP,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,iBACNnH,KAAM,sBACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,cACNnH,KAAM,sBACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,eACNnH,KAAM,sBACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,gBACNnH,KAAM,sBACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,IAER,CACE7B,IAAK,QACLqH,KAAM,cACNnH,KAAM,sBACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,KAGV8J,UAAW,IAEbC,QACE,iFACFxM,KAAM,CAAC,WAAY,SAAU,cAC7BjD,WAAY,CACVoC,IAAK,cACL9B,KAAM,SACNG,MAAO,eAETyL,QAAS,4BAEX,CACE9J,IAAK,sBACLQ,MAAO,UACPC,QAAS,CACPmI,OAAQ,CACN,CACEnH,IAAK,QACLqH,KAAM,+CACNnH,KAAM,WACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,KAGV8J,UAAW,IAEbC,QAAS,+CACTxM,KAAM,CAAC,QAAS,WAChBjD,WAAY,CACVoC,IAAK,eACL9B,KAAM,QACNG,MAAO,QAETyL,QAAS,4BAEX,CACE9J,IAAK,0BACLQ,MAAO,qBACPC,QAAS,CACPmI,OAAQ,CACN,CACEnH,IAAK,OACLqH,KAAM,6CACNnH,KAAM,WACNqL,MAAO,EACPC,kBAAmB,GACnBC,aAAc,GACd5J,KAAM,KAGV8J,UAAW,IAEbC,QAAS,8CACTxM,KAAM,CAAC,WAAY,mBACnBjD,WAAY,CACVoC,IAAK,gBACL9B,KAAM,QACNG,MAAO,aAETyL,QAAS,6BCnJN,IAAMwD,GAAc,CACzB,CACEtN,IAAK,eACL9B,KAAM,QACNG,MAAO,QAET,CACE2B,IAAK,cACL9B,KAAM,SACNG,MAAO,eAET,CACE2B,IAAK,gBACL9B,KAAM,QACNG,MAAO,c,IC6KIkP,G,YAlLb,WAAY3N,GAAQ,IAAD,8BACjB,4CAAMA,KA6DR4N,aAAe,SAAAC,GACb,EAAKlO,SAAS,CAAEkJ,YAAagF,KA/DZ,EAkEnBC,YAAc,WACZ,EAAKnO,SAAS,CAAEkJ,YAAa,MAnEZ,EAsEnBnE,mBAAqB,SAAArE,GACnB,EAAKV,SAAS,CAAEW,aAAcD,KAvEb,EA0EnBqK,kBAAoB,SAAC1M,EAAY+P,GAC/B,IAAI9N,EAAW,YAAO,EAAKX,MAAMW,aAEjC,OAAIA,EAAYuD,SAASxF,IAA0B,WAAX+P,EAC/B,EAAKpO,SAAS,CACnBM,YAAaA,EAAY4M,OACvB5M,EAAY+N,UAAU,SAAA7N,GAAC,OAAIA,EAAEC,MAAQpC,EAAWoC,MAChD,KAIDH,EAAYuD,SAASxF,IAA0B,QAAX+P,OAAzC,EACS,EAAKpO,SAAS,CAAEM,YAAY,GAAD,mBAAMA,GAAN,CAAmBjC,OAtFtC,EAyFnBuC,KAAO,SAAAD,GAAiB,IAAD,EACa,EAAKhB,MAA/ByK,EADa,EACbA,SAAUhJ,EADG,EACHA,YACZ4D,EAAuB7D,uBAAaC,EAAYC,qBAEhDiN,EAAU,CACd7N,IAAME,GAAgBA,EAAaF,KAAQM,KAAKC,MAAMxB,WACtDyB,MAAQN,GAAgBA,EAAaM,OAAU,GAC/CC,QAAS8D,EACT1D,KAAOX,GAAgBA,EAAaW,MAAS,GAC7CjD,WAAasC,GAAgBA,EAAatC,YAAe,IAG3D,IACE,IAAMkQ,EAAgBnE,EAASiE,UAAU,SAAAjF,GAAC,OAAIA,EAAE3I,MAAQE,EAAaF,OAC9C,IAAnB8N,GACFnE,EAAS8C,OAAOqB,EAAe,EAAGD,GAClC,EAAKtO,SAAS,CAAEoK,WAAUzJ,aAAc2N,MAExClE,EAAStG,KAAKwK,GACd,EAAKtO,SAAS,CAAEoK,WAAUzJ,aAAc2N,IACxC,EAAKjO,MAAMmO,QAAQC,QAAnB,iBAAqCH,EAAQ7N,OAE/C,SACA2J,EAAStG,KAAKwK,GACd,EAAKtO,SAAS,CAAEoK,WAAUzJ,aAAc2N,IACxC,EAAKjO,MAAMmO,QAAQC,QAAnB,iBAAqCH,EAAQ7N,MAG/C,GACE6N,EAAQjQ,WAAWoC,KAEL,IADd,EAAKd,MAAMW,YAAYqD,OAAO,SAAAnD,GAAC,OAAIA,EAAEC,MAAQ6N,EAAQjQ,WAAWoC,MAC7DjC,OACH,CACA,IAAI8B,EAAc,EAAKX,MAAMW,YAC7BA,EAAYwD,KAAKwK,EAAQjQ,YACzB,EAAK2B,SAAS,CAAEM,kBA5HD,EAgInBqE,aAAe,WACb,IAAIjD,EAAK,EAAKrB,MAAMqO,MAAMC,OAAOjN,GAEjC,EAAK1B,SAAS,CACZoK,SAAU,EAAKzK,MAAMyK,SAASzG,OAAO,SAAAyF,GAAC,OAAIA,EAAE3I,MAAQiB,IACpDN,YAAawN,cAAYC,cACzBlO,aAAc,KACdM,MAAO,KAET,EAAKZ,MAAMmO,QAAQC,QAAQ,WAvI3B,EAAK9O,MAAQ,CACXyK,SAAU,KACV0E,OAAQ,GACR1N,YAAawN,cAAYC,cACzBlO,aAAc,KACduI,YAAa,GACb5I,YAAa,IAGf,EAAK2F,eAAiB,SAAA7E,GACpB,EAAKpB,SAAS,CAAEoB,iBAZD,E,iFAiBjB,IAAMM,EAAKH,KAAKlB,MAAMqO,MAAMC,OAAOjN,IAAM,KAEzC,IAAKA,IAAO8L,GACV,OAAOjM,KAAKvB,SAAS,CAAEoK,SAAUoD,GAAOlN,YAAayN,KAEvD,IAAMrN,EAAO8M,GAAMjN,KAAK,SAAA6I,GAAC,OAAIA,EAAE3I,MAAQiB,KAAO,KACxCN,EAAcV,EAChBkO,cAAYG,kBAAkBC,yBAAetO,EAAKQ,UAClD0N,cAAYC,cAEhBtN,KAAKvB,SAAS,CACZoK,SAAUoD,GACVlN,YAAayN,GACbpN,aAAcD,EACdU,kB,2CAKF,IAAMM,EAAKH,KAAKlB,MAAMqO,MAAMC,OAAOjN,GAEnC,GAAKA,GAAOH,KAAK5B,MAAMyK,SAAvB,CAEA,GAAW,QAAP1I,EAMF,OALAH,KAAKvB,SAAS,CACZoB,YAAawN,cAAYC,cACzBlO,aAAc,KACdM,MAAO,KAEFM,KAAKlB,MAAMmO,QAAQC,QAAQ,UAGpC,IAAM/N,EAAOa,KAAK5B,MAAMyK,SAAS7J,KAAK,SAAA6I,GAAC,OAAIA,EAAE3I,MAAQiB,IACrD,IAAKhB,EAAM,OAAOa,KAAKlB,MAAMmO,QAAQC,QAAQ,UAC7C,IAAMrN,EAAcwN,cAAYG,kBAC9BC,yBAAetO,EAAKQ,UAGtB,OAAIK,KAAK5B,MAAMgB,cAAgBe,IAAOH,KAAK5B,MAAMgB,aAAaF,IACrDc,KAAKvB,SAAS,CAAEW,aAAcD,EAAMU,gBAExCG,KAAK5B,MAAMgB,kBAAhB,EACSY,KAAKvB,SAAS,CAAEW,aAAcD,EAAMU,mB,+BAiFrC,IAAD,EAQHG,KAAK5B,MANPyB,EAFK,EAELA,YACAgJ,EAHK,EAGLA,SACAlB,EAJK,EAILA,YACA5I,EALK,EAKLA,YACAK,EANK,EAMLA,aACAM,EAPK,EAOLA,MAGF,OACE,yBAAKhD,UAAU,YACb,kBAAC,GAAD,CACEmD,YAAaA,EACbgJ,SAAUA,EACVM,SAAUnJ,KAAK0M,aACf/E,YAAaA,EACbyB,QAASpJ,KAAK4M,YACd7N,YAAaA,EACbK,aAAcA,EACdoK,kBAAmBxJ,KAAKwJ,oBAE1B,kBAAC,EAAD,CACE9E,eAAgB1E,KAAK0E,eACrBnB,YAAavD,KAAKuD,YAClB7D,MAAOA,EACPL,KAAMW,KAAKX,KACX+D,aAAcpD,KAAKoD,aACnBI,mBAAoBxD,KAAKwD,mBACzBzE,YAAaA,EACbc,YAAaA,EACbT,aAAcA,S,GA5KJkC,aCoBLoM,I,mBArBb,WAAY5O,GAAQ,IAAD,8BACjB,4CAAMA,KACDV,MAAQ,GAFI,E,sEAMjB,OACE,kBAAC,IAAMuP,SAAP,KACE,kBAAC,EAAD,MACA,0BAAMjR,UAAU,kBACd,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkR,KAAK,aAAaC,UAAWpB,KACpC,kBAAC,IAAD,CAAOmB,KAAK,SAASC,UAAWpB,KAChC,kBAAC,IAAD,CAAUqB,KAAK,IAAIC,OAAK,EAACpR,GAAG,kB,GAdtB2E,c,qBCElB0M,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.539032e1.chunk.js","sourcesContent":["module.exports = {\r\n  apiUrl: \"http://localhost:4000/api\",\r\n  notesPreviewLength: 75\r\n};\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav className=\"app-navbar\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        Notable\r\n      </Link>\r\n      <div className=\"\">\r\n        <NavLink className=\"navBar-link\" to=\"/login\">\r\n          Login\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBook } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst CollectionPreview = ({ fontSize, collection, style, length }) => {\r\n  let len = length || 20;\r\n  let colStr = collection.hasOwnProperty(\"name\")\r\n    ? collection.name\r\n    : \"(collection)\";\r\n\r\n  if (colStr.length > len) colStr = colStr.slice(0, len) + \"...\";\r\n\r\n  const linkStyle = {\r\n    color: \"blue\",\r\n    fontStyle: \"italic\",\r\n    cursor: \"pointer\",\r\n    fontSize\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...linkStyle, ...style }}>\r\n      <FontAwesomeIcon\r\n        icon={faBook}\r\n        style={{\r\n          color: \"black\",\r\n          marginRight: \"10px\",\r\n          transform: \"rotate(-20deg)\"\r\n        }}\r\n      />\r\n      <span>{colStr}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectionPreview;\r\n","export default function randomColor() {\r\n  return (\r\n    \"#\" +\r\n    Math.random()\r\n      .toString(16)\r\n      .substr(-6)\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport { UncontrolledPopover, PopoverBody, PopoverHeader } from \"reactstrap\";\r\nimport CollectionPreview from \"./common/CollectionPreview\";\r\nimport randomColor from \"./../utils/randomColor\";\r\n\r\nclass EditorCollections extends Component {\r\n  state = {\r\n    collectionPopoverOpen: false,\r\n    newCollection: \"\"\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newCollection: event.target.value });\r\n  };\r\n\r\n  togglePopover = () => {\r\n    this.setState({\r\n      collectionPopoverOpen: !this.state.collectionPopoverOpen\r\n    });\r\n  };\r\n\r\n  handleCollectionSelect = event => {\r\n    let name = event.target.value;\r\n    let { color, _id } = this.props.collections.find(c => c.name === name);\r\n    const note = { ...this.props.selectedNote };\r\n    note.collection = { _id, name, color };\r\n    this.props.save(note);\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    let note = this.props.selectedNote\r\n      ? { ...this.props.selectedNote }\r\n      : {\r\n          _id: Date.now().toString(),\r\n          title: \"\",\r\n          content: convertToRaw(this.props.editorState.getCurrentContent()),\r\n          tags: [],\r\n          collection: {}\r\n        };\r\n    // don't allow duplicate collections\r\n    if (note.collection.name === this.state.newCollection) return;\r\n\r\n    note.collection = {\r\n      _id: Date.now().toString(),\r\n      name: this.state.newCollection,\r\n      color: randomColor()\r\n    };\r\n    this.setState({ newCollection: \"\" });\r\n    this.props.save(note);\r\n  };\r\n\r\n  render() {\r\n    const { selectedNote, collections } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{ textAlign: \"right\", padding: \"0px 10px\" }}\r\n        id=\"collection-popover-link\"\r\n        className=\"link-no-underline\"\r\n      >\r\n        <CollectionPreview\r\n          fontSize=\"12px\"\r\n          collection={selectedNote ? selectedNote.collection : {}}\r\n        />\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.collectionPopoverOpen}\r\n          target=\"collection-popover-link\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverHeader>select collection:</PopoverHeader>\r\n          <PopoverBody key={selectedNote ? selectedNote.collection.name : \"\"}>\r\n            {collections ? (\r\n              collections.map(c => (\r\n                <div className=\"form-check clickable\" key={c._id}>\r\n                  <label className=\"form-check-label\">\r\n                    <input\r\n                      className=\"form-check-input\"\r\n                      type=\"radio\"\r\n                      name=\"select-collection-choices\"\r\n                      value={c.name}\r\n                      checked={\r\n                        selectedNote\r\n                          ? selectedNote.collection.name === c.name\r\n                          : false\r\n                      }\r\n                      onChange={e => this.handleCollectionSelect(e)}\r\n                    />\r\n                    {c.name}\r\n                  </label>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newCollection}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new collection...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                marginTop: \"10px\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>{\" \"}\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorCollections;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTags } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst TagsPreview = ({ fontSize, tags, style, length, iconColor }) => {\r\n  let tagLen = length || 40;\r\n  let tagsStr = tags.length > 0 ? tags.join(\", \") : \"(tags)\";\r\n\r\n  if (tagsStr.length > tagLen) tagsStr = tagsStr.slice(0, tagLen) + \"...\";\r\n\r\n  const linkStyle = {\r\n    color: \"orangered\",\r\n    fontStyle: \"italic\",\r\n    cursor: \"pointer\",\r\n    fontSize\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...linkStyle, ...style }}>\r\n      <FontAwesomeIcon\r\n        icon={faTags}\r\n        style={{ color: iconColor, marginRight: \"10px\" }}\r\n      />\r\n      <span>{tagsStr}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagsPreview;\r\n","import React, { Component } from \"react\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { UncontrolledPopover, PopoverBody, PopoverHeader } from \"reactstrap\";\r\nimport TagsPreview from \"./common/TagsPreview\";\r\n\r\nclass EditorTags extends Component {\r\n  state = { tagsPopoverOpen: false, newTag: \"\" };\r\n\r\n  togglePopover = () => {\r\n    this.setState({ tagsPopoverOpen: !this.state.tagsPopoverOpen });\r\n  };\r\n\r\n  handleTagsDelete = event => {\r\n    const tag = event.currentTarget.getAttribute(\"data\");\r\n    let note = { ...this.props.selectedNote };\r\n    note.tags = note.tags.filter(t => t !== tag);\r\n    this.props.save(note);\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newTag: event.target.value });\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    let note = this.props.selectedNote\r\n      ? { ...this.props.selectedNote }\r\n      : {\r\n          _id: Date.now().toString(),\r\n          title: \"\",\r\n          content: convertToRaw(this.props.editorState.getCurrentContent()),\r\n          tags: [],\r\n          collection: {}\r\n        };\r\n    // don't allow duplicate tags\r\n    if (note.tags.includes(this.state.newTag)) return;\r\n\r\n    note.tags.push(this.state.newTag);\r\n    this.setState({ newTag: \"\" });\r\n    this.props.save(note);\r\n  };\r\n\r\n  render() {\r\n    const { selectedNote } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{ textAlign: \"right\", padding: \"0px 10px\" }}\r\n        id=\"tags-popover-link\"\r\n      >\r\n        <TagsPreview\r\n          fontSize=\"12px\"\r\n          tags={selectedNote ? selectedNote.tags : {}}\r\n          iconColor=\"black\"\r\n        />\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.tagsPopoverOpen}\r\n          target=\"tags-popover-link\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverHeader>edit tags:</PopoverHeader>\r\n          <PopoverBody key={selectedNote ? selectedNote.tags.length : 0}>\r\n            {selectedNote ? (\r\n              selectedNote.tags.map(tag => (\r\n                <div key={tag}>\r\n                  <span data={tag} onClick={e => this.handleTagsDelete(e)}>\r\n                    <FontAwesomeIcon\r\n                      icon={faMinusCircle}\r\n                      style={{ color: \"red\", marginRight: \"10px\" }}\r\n                    />\r\n                  </span>\r\n                  <label className=\"form-check-label\">{tag}</label>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newTag}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new tag...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                marginTop: \"10px\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n              autoFocus\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorTags;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EditorCollections from \"./EditorCollections\";\r\nimport EditorTags from \"./EditorTags\";\r\n\r\nclass EditorMenu extends Component {\r\n  state = {};\r\n\r\n  menuStyle = {\r\n    margin: \"auto\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"inline-flex\",\r\n    justifyContent: \"space-between\"\r\n  };\r\n\r\n  crudStyle = {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-around\",\r\n    width: \"200px\",\r\n    height: \"100%\",\r\n    fontSize: \"12px\"\r\n  };\r\n\r\n  metaDataStyle = {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    fontSize: \"12px\"\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      save,\r\n      handleDelete,\r\n      selectedNote,\r\n      collections,\r\n      editorState\r\n    } = this.props;\r\n\r\n    return (\r\n      <div style={this.menuStyle}>\r\n        <div id=\"crud-operations\" style={this.crudStyle}>\r\n          <Link to=\"/notes/new\">\r\n            <div className=\"clickable editor-menu-option\">\r\n              <i className=\"fa fa-plus\" aria-hidden=\"true\" />\r\n              <span> New Note</span>\r\n            </div>\r\n          </Link>\r\n          <div className=\"clickable editor-menu-option\" onClick={handleDelete}>\r\n            <i className=\"fa fa-trash\" aria-hidden=\"true\" />\r\n            <span> Delete</span>\r\n          </div>\r\n          <div\r\n            className=\"clickable editor-menu-option\"\r\n            onClick={() => save(selectedNote)}\r\n          >\r\n            <i className=\"fa fa-floppy-o\" aria-hidden=\"true\" />\r\n            <span> Save</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"notes-meta-data\" style={this.metaDataStyle}>\r\n          <EditorCollections\r\n            selectedNote={selectedNote}\r\n            collections={collections}\r\n            save={save}\r\n            editorState={editorState}\r\n          />\r\n          <EditorTags\r\n            selectedNote={selectedNote}\r\n            save={save}\r\n            editorState={editorState}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorMenu;\r\n","import React from \"react\";\r\nimport { Editor, RichUtils, convertToRaw } from \"draft-js\";\r\nimport Textarea from \"react-expanding-textarea\";\r\nimport EditorMenu from \"./EditorMenu\";\r\nimport \"../css/notes.css\";\r\nimport \"draft-js/dist/Draft.css\";\r\n\r\nclass DraftEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.focus = () => this.editor.focus();\r\n\r\n    this.handleKeyCommand = this._handleKeyCommand.bind(this);\r\n    this.toggleBlockType = this._toggleBlockType.bind(this);\r\n    this.toggleInlineStyle = this._toggleInlineStyle.bind(this);\r\n  }\r\n\r\n  handleTitle = title => {\r\n    if (this.props.selectedNote) {\r\n      const note = { ...this.props.selectedNote };\r\n      note.title = title;\r\n      return this.props.updateSelectedNote(note);\r\n    } else {\r\n      const currentEditorContent = convertToRaw(\r\n        this.props.editorState.getCurrentContent()\r\n      );\r\n      const note = {\r\n        _id: Date.now().toString(),\r\n        title: title,\r\n        content: currentEditorContent,\r\n        tags: [],\r\n        collection: {}\r\n      };\r\n      return this.props.updateSelectedNote(note);\r\n    }\r\n  };\r\n\r\n  _handleKeyCommand(command, editorState) {\r\n    const newState = RichUtils.handleKeyCommand(editorState, command);\r\n    if (newState) {\r\n      this.props.onEditorChange(newState);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  _toggleBlockType(blockType) {\r\n    this.props.onEditorChange(\r\n      RichUtils.toggleBlockType(this.props.editorState, blockType)\r\n    );\r\n  }\r\n\r\n  _toggleInlineStyle(inlineStyle) {\r\n    this.props.onEditorChange(\r\n      RichUtils.toggleInlineStyle(this.props.editorState, inlineStyle)\r\n    );\r\n  }\r\n\r\n  controlsStyle = {\r\n    display: \"inline-flex\",\r\n    fontFamily: \"Arial, Helvetica, sans-serif\",\r\n    fontSize: \"14px\",\r\n    margin: \"auto 0px\"\r\n  };\r\n\r\n  verticalLine = {\r\n    width: \"1px\",\r\n    height: \"20px\",\r\n    borderRight: \"1px solid grey\",\r\n    margin: \"auto 5px\"\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"editor-window\">\r\n        <div className=\"editor-menu\">\r\n          <EditorMenu\r\n            save={this.props.save}\r\n            handleDelete={this.props.handleDelete}\r\n            selectedNote={this.props.selectedNote}\r\n            collections={this.props.collections}\r\n            updateSelectedNote={this.props.updateSelectedNote}\r\n            editorState={this.props.editorState}\r\n          />\r\n          <div id=\"stying-controls\" style={this.controlsStyle}>\r\n            <InlineStyleControls\r\n              editorState={this.props.editorState}\r\n              onToggle={this.toggleInlineStyle}\r\n            />\r\n            <div style={this.verticalLine}></div>\r\n            <BlockStyleControls\r\n              editorState={this.props.editorState}\r\n              onToggle={this.toggleBlockType}\r\n            />\r\n            <hr></hr>\r\n          </div>\r\n        </div>\r\n        <div id=\"rich-text-editor\">\r\n          <div>\r\n            <Textarea\r\n              className=\"textarea\"\r\n              id=\"title-textarea\"\r\n              placeholder=\"Title...\"\r\n              value={\r\n                this.props.selectedNote ? this.props.selectedNote.title : \"\"\r\n              }\r\n              onChange={e => this.handleTitle(e.target.value)}\r\n            />\r\n            <hr></hr>\r\n          </div>\r\n          <div className=\"editor-edit\" onClick={this.focus}>\r\n            <Editor\r\n              blockStyleFn={getBlockStyle}\r\n              customStyleMap={styleMap}\r\n              editorState={this.props.editorState}\r\n              handleKeyCommand={this.handleKeyCommand}\r\n              keyBindingFn={this.mapKeyToEditorCommand}\r\n              onChange={this.props.onEditorChange}\r\n              ref={ref => (this.editor = ref)}\r\n              spellCheck={true}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Custom overrides for \"code\" style.\r\nconst styleMap = {\r\n  CODE: {\r\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\r\n    fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\r\n    fontSize: 16,\r\n    padding: 2\r\n  }\r\n};\r\n\r\nfunction getBlockStyle(block) {\r\n  switch (block.getType()) {\r\n    case \"blockquote\":\r\n      return \"RichEditor-blockquote\";\r\n    case \"code-block\":\r\n      return \"editor-code\";\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nclass StyleButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onToggle = e => {\r\n      e.preventDefault();\r\n      props.onToggle(props.style);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let className = \"editor-styleButton\";\r\n    if (this.props.active) {\r\n      className += \" editor-activeButton\";\r\n    }\r\n\r\n    return (\r\n      <span className={className} onMouseDown={this.onToggle}>\r\n        {this.props.label}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n  { label: \"Title\", style: \"header-one\" },\r\n  { label: \"Header\", style: \"header-three\" },\r\n  {\r\n    label: <i className=\"fa fa-list-ul\" aria-hidden=\"true\"></i>,\r\n    style: \"unordered-list-item\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-list-ol\" aria-hidden=\"true\"></i>,\r\n    style: \"ordered-list-item\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-code\" aria-hidden=\"true\"></i>,\r\n    style: \"code-block\"\r\n  }\r\n];\r\n\r\nconst BlockStyleControls = ({ editorState, onToggle }) => {\r\n  const selection = editorState.getSelection();\r\n  const blockType = editorState\r\n    .getCurrentContent()\r\n    .getBlockForKey(selection.getStartKey())\r\n    .getType();\r\n\r\n  return (\r\n    <div className=\"editor-control-row\">\r\n      {BLOCK_TYPES.map(type => (\r\n        <StyleButton\r\n          key={type.style}\r\n          active={type.style === blockType}\r\n          label={type.label}\r\n          onToggle={onToggle}\r\n          style={type.style}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nvar INLINE_STYLES = [\r\n  { label: <i className=\"fa fa-bold\" aria-hidden=\"true\"></i>, style: \"BOLD\" },\r\n  {\r\n    label: <i className=\"fa fa-italic\" aria-hidden=\"true\"></i>,\r\n    style: \"ITALIC\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-underline\" aria-hidden=\"true\"></i>,\r\n    style: \"UNDERLINE\"\r\n  },\r\n  { label: \"Monospace\", style: \"CODE\" }\r\n];\r\n\r\nconst InlineStyleControls = ({ editorState, onToggle }) => {\r\n  var currentStyle = editorState.getCurrentInlineStyle();\r\n  return (\r\n    <div className=\"editor-control-row\">\r\n      {INLINE_STYLES.map(type => (\r\n        <StyleButton\r\n          key={type.style}\r\n          active={currentStyle.has(type.style)}\r\n          label={type.label}\r\n          onToggle={onToggle}\r\n          style={type.style}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraftEditor;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport TagsPreview from \"./common/TagsPreview\";\r\nimport config from \"../config\";\r\n\r\nclass NotesPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  listItemStyle = {\r\n    padding: \"0.5em 0.75em\",\r\n    background: \"white\"\r\n  };\r\n\r\n  previewStyle = {\r\n    fontSize: 12,\r\n    margin: \"3px 0px\",\r\n    lineHeight: 1.25\r\n  };\r\n\r\n  tagsStyle = {\r\n    fontSize: 11,\r\n    fontStyle: \"italic\",\r\n    marginLeft: \"5px\",\r\n    color: \"orangered\"\r\n  };\r\n\r\n  collectionStyle = {\r\n    margin: \"5px 5px 5px 0px\",\r\n    borderRadius: \"0 8px 8px 0\",\r\n    writingMode: \"vertical-rl\",\r\n    textAlign: \"center\",\r\n    fontSize: \"11px\",\r\n    letterSpacing: \"0.5px\",\r\n    fontWeight: \"bold\",\r\n    fontStyle: \"oblique\"\r\n  };\r\n\r\n  individualNotes = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"20px auto\",\r\n    width: \"100%\",\r\n    padding: \"1px\",\r\n    marginBottom: \"0px\"\r\n  };\r\n\r\n  filter = notes => {\r\n    let search = this.props.searchQuery.toLowerCase();\r\n\r\n    if (notes)\r\n      return notes.filter(\r\n        n =>\r\n          n.content.blocks.find(el => el.text.toLowerCase().includes(search)) ||\r\n          n.title.toLowerCase().includes(search)\r\n      );\r\n  };\r\n\r\n  generateSearchPreview = note => {\r\n    let searchQuery = this.props.searchQuery;\r\n\r\n    let previewText = note.content.blocks.map(n => n.text).join(\" \");\r\n    let startIndex = previewText\r\n      .toLowerCase()\r\n      .indexOf(searchQuery.toLowerCase());\r\n\r\n    if (startIndex === -1) return <div>{previewText}</div>;\r\n    let endIndex = startIndex + searchQuery.length;\r\n\r\n    const preLength = 20;\r\n    const previewLength = config.notesPreviewLength;\r\n\r\n    let pre = previewText.slice(0, startIndex);\r\n    let highlight = previewText.slice(startIndex, endIndex);\r\n    let post = previewText.slice(endIndex);\r\n\r\n    if (previewText.length > previewLength) {\r\n      if (pre.length >= previewLength + searchQuery.length + 3)\r\n        pre = pre.slice(pre.length - preLength);\r\n      if (post.length > previewLength - searchQuery.length - pre.length)\r\n        post = post.slice(0, previewLength - pre.length);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <span>{pre}</span>\r\n        <span style={{ backgroundColor: \"yellow\" }}>{highlight}</span>\r\n        <span>{post}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  generateTitle = note => {\r\n    let searchQuery = this.props.searchQuery;\r\n    let title = note.title;\r\n\r\n    let startIndex = title.toLowerCase().indexOf(searchQuery.toLowerCase());\r\n\r\n    if (startIndex === -1) return <div>{title}</div>;\r\n\r\n    let endIndex = startIndex + searchQuery.length;\r\n\r\n    let pre = title.slice(0, startIndex);\r\n    let highlight = title.slice(startIndex, endIndex);\r\n    let post = title.slice(endIndex);\r\n\r\n    return (\r\n      <div>\r\n        <span>{pre}</span>\r\n        <span style={{ backgroundColor: \"yellow\" }}>{highlight}</span>\r\n        <span>{post}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let filtered = this.filter(this.props.allNotes);\r\n\r\n    return (\r\n      <div className=\"list-group preview-section\">\r\n        {filtered &&\r\n          filtered.map(n => {\r\n            return (\r\n              <div\r\n                className=\"list-group-item\"\r\n                style={{\r\n                  ...this.individualNotes,\r\n                  background:\r\n                    this.props.selectedNote &&\r\n                    n._id === this.props.selectedNote._id\r\n                      ? n.collection.color\r\n                      : \"white\",\r\n                  border:\r\n                    this.props.selectedNote &&\r\n                    n._id === this.props.selectedNote._id\r\n                      ? `1px dotted ${n.collection.color}`\r\n                      : \"none\"\r\n                }}\r\n                key={n._id}\r\n              >\r\n                <div\r\n                  style={{\r\n                    ...this.collectionStyle,\r\n                    backgroundColor: n.collection.color\r\n                  }}\r\n                >\r\n                  <span>{n.collection.name}</span>\r\n                </div>\r\n                <Link\r\n                  key={n._id}\r\n                  to={`/notes/${n._id}`}\r\n                  style={this.listItemStyle}\r\n                  className=\"list-group-item-action\"\r\n                >\r\n                  <div>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                      <h5 className=\"mb-1\">{this.generateTitle(n)}</h5>\r\n                      <small>{moment(n.updated).format(\"MMM D 'YY\")}</small>\r\n                    </div>\r\n                    <div style={this.previewStyle}>\r\n                      {this.generateSearchPreview(n)}\r\n                    </div>\r\n                    <TagsPreview\r\n                      fontSize=\"11px\"\r\n                      tags={n.tags}\r\n                      style={{ marginTop: \"5px\" }}\r\n                      iconColor=\"darkslateblue\"\r\n                    />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotesPreview;\r\n","import React from \"react\";\r\n\r\nconst NotesSearch = ({ searchQuery, onSearch, onClear }) => {\r\n  return (\r\n    <div className=\"input-group mb-3\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        value={searchQuery}\r\n        onChange={e => onSearch(e.currentTarget.value)}\r\n        placeholder=\"Search...\"\r\n      />\r\n      <div className=\"input-group-prepend\">\r\n        <span\r\n          onClick={() => onClear()}\r\n          className=\"btn btn-outline-secondary\"\r\n          type=\"button\"\r\n        >\r\n          clear\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotesSearch;\r\n","import React, { Component } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faPlus,\r\n  faCaretRight,\r\n  faCaretDown,\r\n  faUserCircle,\r\n  faBook,\r\n  faTags,\r\n  faEdit,\r\n  faCheckCircle,\r\n  faMinusCircle,\r\n  faFillDrip\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { UncontrolledPopover, PopoverBody } from \"reactstrap\";\r\nimport randomColor from \"./../utils/randomColor\";\r\n\r\nclass NotesFilter extends Component {\r\n  state = {\r\n    collectionPopoverOpen: false,\r\n    newCollection: \"\",\r\n    editMode: false\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newCollection: event.target.value });\r\n  };\r\n\r\n  togglePopover = () => {\r\n    this.setState({\r\n      collectionPopoverOpen: !this.state.collectionPopoverOpen\r\n    });\r\n  };\r\n\r\n  toggleEditMode = () => {\r\n    this.setState({ editMode: !this.state.editMode });\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    if (this.state.newCollection === \"\") return;\r\n\r\n    const collection = {\r\n      _id: Date.now().toString(),\r\n      name: this.state.newCollection,\r\n      color: randomColor()\r\n    };\r\n    this.setState({ newCollection: \"\" });\r\n    this.props.updateCollections(collection, \"add\");\r\n  };\r\n\r\n  filterStyle = {\r\n    background: \"#112\",\r\n    display: \"grid\",\r\n    gridTemplateRows: \"40px 60px 200px 300px\",\r\n    overflow: \"auto\",\r\n    padding: \"15px 5px\",\r\n    height: \"100%\",\r\n    width: \"100%\"\r\n  };\r\n\r\n  profileDivStyle = {\r\n    background: \"black\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderRadius: \"10px\"\r\n  };\r\n\r\n  profileContentStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"20% auto\",\r\n    width: \"100%\",\r\n    cursor: \"pointer\"\r\n  };\r\n\r\n  buttonSectionStyle = {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"flex-end\",\r\n    padding: \"0 10px\",\r\n    justifyContent: \"space-around\"\r\n  };\r\n\r\n  collectionTagStyle = {\r\n    marginTop: \"10px\",\r\n    color: \"white\",\r\n    cursor: \"pointer\"\r\n  };\r\n\r\n  dropdownTitle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"15px auto\",\r\n    width: \"100%\",\r\n    alignItems: \"baseline\"\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      handleDropdownClick,\r\n      handleRadioSelect,\r\n      handleCheckboxSelect,\r\n      collectionsOpen,\r\n      tagsOpen,\r\n      collectionFilter,\r\n      tagsFilter,\r\n      collections,\r\n      tags\r\n    } = this.props;\r\n\r\n    return (\r\n      <div id=\"filterSection\" style={this.filterStyle}>\r\n        <div id=\"profile-preview\" style={this.profileDivStyle}>\r\n          <div style={this.profileContentStyle}>\r\n            <div style={{ display: \"flex\", margin: \"auto\" }}>\r\n              <FontAwesomeIcon icon={faUserCircle} />\r\n            </div>\r\n\r\n            <div style={{ fontSize: \"11px\" }}>lords.austin@gmail.com</div>\r\n          </div>\r\n        </div>\r\n        <div style={this.buttonSectionStyle}>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary btn-sm\"\r\n            style={{ height: \"25px\", fontSize: \"11px\" }}\r\n            padding=\"2px\"\r\n            id=\"add-collection\"\r\n          >\r\n            <FontAwesomeIcon icon={faPlus} />\r\n            <span> Collection</span>\r\n          </button>\r\n          {this.state.editMode ? (\r\n            <button\r\n              className=\"btn btn-primary btn-sm\"\r\n              style={{ height: \"25px\", fontSize: \"11px\" }}\r\n              padding=\"2px\"\r\n              onClick={this.toggleEditMode}\r\n            >\r\n              <FontAwesomeIcon icon={faCheckCircle} />\r\n              <span> Done</span>\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"btn btn-danger btn-sm\"\r\n              style={{ height: \"25px\", fontSize: \"11px\" }}\r\n              padding=\"2px\"\r\n              onClick={this.toggleEditMode}\r\n            >\r\n              <FontAwesomeIcon icon={faEdit} />\r\n              <span> Edit</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.collectionPopoverOpen}\r\n          target=\"add-collection\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverBody>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newCollection}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new collection...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                marginTop: \"10px\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n              autoFocus\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>{\" \"}\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n        <div id=\"collection-filter\" style={this.collectionTagStyle}>\r\n          <div className=\"list-group clickable\">\r\n            <div\r\n              style={this.dropdownTitle}\r\n              onClick={e => handleDropdownClick(e)}\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#collections\"\r\n              aria-expanded={collectionsOpen}\r\n              aria-controls=\"collections\"\r\n            >\r\n              <FontAwesomeIcon\r\n                icon={collectionsOpen ? faCaretDown : faCaretRight}\r\n                className=\"faCaretDropdown\"\r\n              />\r\n              <div>\r\n                <span>Collections </span>\r\n                <span style={{ paddingLeft: \"10px\" }}>\r\n                  {\" \"}\r\n                  <FontAwesomeIcon\r\n                    icon={faBook}\r\n                    style={{ fontSize: \"14px\", transform: \"rotate(-20deg)\" }}\r\n                  />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"collapse multi-collapse show\"\r\n            id=\"collections\"\r\n            style={{\r\n              marginLeft: \"10px\",\r\n              fontSize: \"14px\",\r\n              height: \"90%\",\r\n              overflow: \"auto\"\r\n            }}\r\n          >\r\n            {this.state.editMode ? (\r\n              <div></div>\r\n            ) : (\r\n              <div key=\"allCollections\" className=\"form-check clickable\">\r\n                <label className=\"form-check-label\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    type=\"radio\"\r\n                    name=\"collection-choices\"\r\n                    value=\"\"\r\n                    checked={collectionFilter === \"\"}\r\n                    onChange={e => handleRadioSelect(e)}\r\n                  />\r\n                  All\r\n                </label>\r\n              </div>\r\n            )}\r\n            {collections.map(c =>\r\n              this.state.editMode ? (\r\n                <div className=\"edit-group\">\r\n                  <div className=\"edit-group-prepend\">\r\n                    <FontAwesomeIcon\r\n                      icon={faMinusCircle}\r\n                      style={{\r\n                        color: \"red\",\r\n                        fontSize: \"14px\",\r\n                        margin: \"auto 10px auto 0px\"\r\n                      }}\r\n                      value={c._id}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"edit-form-control\"\r\n                    aria-label=\"Small\"\r\n                    value={c.name}\r\n                  />\r\n                  <div className=\"edit-group-prepend\">\r\n                    <FontAwesomeIcon\r\n                      icon={faFillDrip}\r\n                      style={{\r\n                        color: c.color,\r\n                        margin: \"auto 0px auto 10px\",\r\n                        fontSize: \"14px\"\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"form-check\" key={c._id}>\r\n                  <label className=\"form-check-label\">\r\n                    <input\r\n                      className=\"form-check-input\"\r\n                      type=\"radio\"\r\n                      name=\"collection-choices\"\r\n                      value={c.name}\r\n                      checked={collectionFilter === c.name}\r\n                      onChange={e => handleRadioSelect(e)}\r\n                    />\r\n                    {c.name}\r\n                  </label>\r\n                </div>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div id=\"tags-filter\" style={this.collectionTagStyle}>\r\n          <div className=\"list-group\">\r\n            <div\r\n              style={this.dropdownTitle}\r\n              onClick={e => handleDropdownClick(e)}\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#tags\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"tags\"\r\n            >\r\n              <FontAwesomeIcon\r\n                icon={tagsOpen ? faCaretDown : faCaretRight}\r\n                className=\"faCaretDropdown\"\r\n              />\r\n              <div>\r\n                <span>Tags </span>\r\n                <span style={{ paddingLeft: \"10px\" }}>\r\n                  {\" \"}\r\n                  <FontAwesomeIcon icon={faTags} style={{ fontSize: \"12px\" }} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"collapse multi-collapse show\"\r\n            id=\"tags\"\r\n            style={{\r\n              marginLeft: \"10px\",\r\n              fontSize: \"14px\",\r\n              height: \"90%\",\r\n              overflow: \"auto\"\r\n            }}\r\n          >\r\n            {tags.map(tag => (\r\n              <div className=\"form-check\" key={tag}>\r\n                <label className=\"form-check-label\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    name=\"tag-choices\"\r\n                    id={tag}\r\n                    value={tag}\r\n                    checked={tagsFilter !== [] && tagsFilter.includes(tag)}\r\n                    onChange={e => handleCheckboxSelect(e)}\r\n                  />\r\n                  {tag}\r\n                </label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotesFilter;\r\n","import React, { Component } from \"react\";\r\nimport NotesPreview from \"./NotesPreview\";\r\nimport NotesSearch from \"./NotesSearch\";\r\nimport NotesFilter from \"./NotesFilter\";\r\n\r\nclass SideBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      collectionsOpen: true,\r\n      tagsOpen: true,\r\n      collectionFilter: \"\",\r\n      tagsFilter: []\r\n    };\r\n\r\n    this.handleCheckboxSelect = this.handleCheckboxSelect.bind(this);\r\n    this.handleRadioSelect = this.handleRadioSelect.bind(this);\r\n    this.handleDropdownClick = this.handleDropdownClick.bind(this);\r\n  }\r\n\r\n  sidebarStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"200px auto\",\r\n    margin: 0,\r\n    background: \"salmon\",\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  };\r\n\r\n  handleDropdownClick(e) {\r\n    const dataTarget = e.currentTarget.getAttribute(\"data-target\");\r\n    const isExpanded = e.currentTarget.getAttribute(\"aria-expanded\");\r\n\r\n    switch (dataTarget) {\r\n      case \"#collections\":\r\n        if (isExpanded === \"false\") {\r\n          this.setState({ collectionsOpen: false });\r\n        } else {\r\n          this.setState({ collectionsOpen: true });\r\n        }\r\n        break;\r\n      case \"#tags\":\r\n        if (isExpanded === \"false\") {\r\n          this.setState({ tagsOpen: false });\r\n        } else {\r\n          this.setState({ tagsOpen: true });\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleRadioSelect(event) {\r\n    this.setState({\r\n      collectionFilter: event.target.value,\r\n      tagsFilter: []\r\n    });\r\n  }\r\n\r\n  handleCheckboxSelect(event) {\r\n    let selectedTags = this.state.tagsFilter;\r\n    let tag = event.target.value;\r\n\r\n    if (selectedTags.includes(tag)) {\r\n      let newTags = selectedTags;\r\n      newTags.splice(selectedTags.indexOf(tag), 1);\r\n      this.setState({\r\n        tagsFilter: newTags\r\n      });\r\n    } else {\r\n      this.setState({\r\n        tagsFilter: [...this.state.tagsFilter, tag]\r\n      });\r\n    }\r\n  }\r\n\r\n  filter(notes) {\r\n    let filteredNotes = notes;\r\n\r\n    if (this.state.collectionFilter)\r\n      filteredNotes = filteredNotes.filter(\r\n        n => n.collection.name === this.state.collectionFilter\r\n      );\r\n\r\n    let tags = [];\r\n    filteredNotes.forEach(n => tags.push(...n.tags));\r\n    tags = [...new Set(tags)];\r\n\r\n    if (this.state.tagsFilter.length > 0) {\r\n      let lowerTags = this.state.tagsFilter.map(t => t.toLowerCase());\r\n\r\n      filteredNotes = filteredNotes.filter(n => {\r\n        let combinedTags = [...n.tags.map(n => n.toLowerCase()), ...lowerTags];\r\n        let setTags = [...new Set(combinedTags)];\r\n        return setTags.length !== combinedTags.length;\r\n      });\r\n    }\r\n\r\n    return { filteredNotes, tags };\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      searchQuery,\r\n      allNotes,\r\n      selectedNote,\r\n      onSearch,\r\n      onClear,\r\n      collections,\r\n      updateCollections\r\n    } = this.props;\r\n\r\n    let tags = [];\r\n\r\n    if (allNotes) {\r\n      let notes = this.filter(allNotes);\r\n      allNotes = notes.filteredNotes;\r\n      tags = notes.tags;\r\n    }\r\n\r\n    return (\r\n      <div style={this.sidebarStyle}>\r\n        <NotesFilter\r\n          handleDropdownClick={this.handleDropdownClick}\r\n          handleRadioSelect={this.handleRadioSelect}\r\n          handleCheckboxSelect={this.handleCheckboxSelect}\r\n          collectionsOpen={this.state.collectionsOpen}\r\n          tagsOpen={this.state.tagsOpen}\r\n          collectionFilter={this.state.collectionFilter}\r\n          tagsFilter={this.state.tagsFilter}\r\n          collections={collections}\r\n          tags={tags}\r\n          key={collections.length}\r\n          updateCollections={updateCollections}\r\n        />\r\n        <div className=\"sidebar-preview\">\r\n          <NotesSearch\r\n            onSearch={onSearch}\r\n            searchQuery={searchQuery}\r\n            onClear={onClear}\r\n          />\r\n          <NotesPreview\r\n            allNotes={allNotes}\r\n            selectedNote={selectedNote}\r\n            searchQuery={searchQuery}\r\n            collections={collections}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideBar;\r\n","export const NOTES = [\r\n  {\r\n    _id: \"fg0gr34hgioa98g4\",\r\n    title: \"Portland Trail Blazers\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"rhc1\",\r\n          text: \"Just some notes....\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"81bq5\",\r\n          text: \"\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"20eqn\",\r\n          text: \"Lineup\",\r\n          type: \"header-three\",\r\n          depth: 0,\r\n          inlineStyleRanges: [\r\n            {\r\n              offset: 0,\r\n              length: 6,\r\n              style: \"UNDERLINE\"\r\n            }\r\n          ],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"46tkh\",\r\n          text: \"Damian Lillard\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"aboo4\",\r\n          text: \"CJ McCollum\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"fupsb\",\r\n          text: \"Jusif Nurkic\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"c3u3r\",\r\n          text: \"Kent Bazemore\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"5cr5i\",\r\n          text: \"Rodney Hood\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    preview:\r\n      \"Just some notes....  Lineup Damian Lillard CJ McCollum Jusif Nurkic Kent Ba...\",\r\n    tags: [\"Portland\", \"Sports\", \"Basketball\"],\r\n    collection: {\r\n      _id: \"rht5wsbsgnw\",\r\n      name: \"Sports\",\r\n      color: \"greenyellow\"\r\n    },\r\n    updated: \"2019-07-11T04:05:42.426Z\"\r\n  },\r\n  {\r\n    _id: \"yh533g54yh5335y4gs4\",\r\n    title: \"Sapiens\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"6ef7d\",\r\n          text: \"Insert some book notes here. Nothing much...\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    preview: \"Insert some book notes here. Nothing much...\",\r\n    tags: [\"Books\", \"History\"],\r\n    collection: {\r\n      _id: \"adsfasdfadsf\",\r\n      name: \"Books\",\r\n      color: \"cyan\"\r\n    },\r\n    updated: \"2019-03-11T04:05:42.426Z\"\r\n  },\r\n  {\r\n    _id: \"thtrjsbehrytu5667s5335y\",\r\n    title: \"Sandy Ridge Trails\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"rhc1\",\r\n          text: \"Some of the best mountain biking in Oregon\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    preview: \"Some of the best mountain biking in Oregon.\",\r\n    tags: [\"Portland\", \"Mountain Biking\"],\r\n    collection: {\r\n      _id: \"nvcxcbvtsasdg\",\r\n      name: \"Other\",\r\n      color: \"lightgray\"\r\n    },\r\n    updated: \"2019-08-11T04:05:42.426Z\"\r\n  }\r\n];\r\n\r\nexport function getNote(id) {\r\n  return NOTES.find(n => n._id === id);\r\n}\r\n","export const COLLECTIONS = [\r\n  {\r\n    _id: \"adsfasdfadsf\",\r\n    name: \"Books\",\r\n    color: \"cyan\"\r\n  },\r\n  {\r\n    _id: \"rht5wsbsgnw\",\r\n    name: \"Sports\",\r\n    color: \"greenyellow\"\r\n  },\r\n  {\r\n    _id: \"nvcxcbvtsasdg\",\r\n    name: \"Other\",\r\n    color: \"lightgray\"\r\n  }\r\n];\r\n\r\nexport function getCollection(id) {\r\n  return COLLECTIONS.find(c => c._id === id);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport DraftEditor from \"./DraftEditor\";\r\nimport { EditorState, convertToRaw, convertFromRaw } from \"draft-js\";\r\nimport SideBar from \"./SideBar\";\r\nimport { NOTES } from \"../services/fakePostsService\";\r\nimport { COLLECTIONS } from \"../services/fakeCollectionsService\";\r\nimport \"../css/notes.css\";\r\n\r\nclass Notes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allNotes: null,\r\n      errors: {},\r\n      editorState: EditorState.createEmpty(),\r\n      selectedNote: null,\r\n      searchQuery: \"\",\r\n      collections: []\r\n    };\r\n\r\n    this.onEditorChange = editorState => {\r\n      this.setState({ editorState });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id || null;\r\n\r\n    if (!id || !NOTES)\r\n      return this.setState({ allNotes: NOTES, collections: COLLECTIONS });\r\n\r\n    const note = NOTES.find(n => n._id === id) || null;\r\n    const editorState = note\r\n      ? EditorState.createWithContent(convertFromRaw(note.content))\r\n      : EditorState.createEmpty();\r\n\r\n    this.setState({\r\n      allNotes: NOTES,\r\n      collections: COLLECTIONS,\r\n      selectedNote: note,\r\n      editorState\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const id = this.props.match.params.id;\r\n\r\n    if (!id || !this.state.allNotes) return;\r\n\r\n    if (id === \"new\") {\r\n      this.setState({\r\n        editorState: EditorState.createEmpty(),\r\n        selectedNote: null,\r\n        title: \"\"\r\n      });\r\n      return this.props.history.replace(\"/notes\");\r\n    }\r\n\r\n    const note = this.state.allNotes.find(n => n._id === id);\r\n    if (!note) return this.props.history.replace(\"/notes\");\r\n    const editorState = EditorState.createWithContent(\r\n      convertFromRaw(note.content)\r\n    );\r\n\r\n    if (this.state.selectedNote && id !== this.state.selectedNote._id)\r\n      return this.setState({ selectedNote: note, editorState });\r\n\r\n    if (!this.state.selectedNote)\r\n      return this.setState({ selectedNote: note, editorState });\r\n  }\r\n\r\n  handleSearch = query => {\r\n    this.setState({ searchQuery: query });\r\n  };\r\n\r\n  handleClear = () => {\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  updateSelectedNote = note => {\r\n    this.setState({ selectedNote: note });\r\n  };\r\n\r\n  updateCollections = (collection, action) => {\r\n    let collections = [...this.state.collections];\r\n\r\n    if (collections.includes(collection) && action === \"delete\")\r\n      return this.setState({\r\n        collections: collections.splice(\r\n          collections.findIndex(c => c._id === collection._id),\r\n          1\r\n        )\r\n      });\r\n\r\n    if (!collections.includes(collection) && action === \"add\")\r\n      return this.setState({ collections: [...collections, collection] });\r\n  };\r\n\r\n  save = selectedNote => {\r\n    const { allNotes, editorState } = this.state;\r\n    const currentEditorContent = convertToRaw(editorState.getCurrentContent());\r\n\r\n    const newNote = {\r\n      _id: (selectedNote && selectedNote._id) || Date.now().toString(),\r\n      title: (selectedNote && selectedNote.title) || \"\",\r\n      content: currentEditorContent,\r\n      tags: (selectedNote && selectedNote.tags) || [],\r\n      collection: (selectedNote && selectedNote.collection) || {}\r\n    };\r\n\r\n    try {\r\n      const existingIndex = allNotes.findIndex(n => n._id === selectedNote._id);\r\n      if (existingIndex !== -1) {\r\n        allNotes.splice(existingIndex, 1, newNote);\r\n        this.setState({ allNotes, selectedNote: newNote });\r\n      } else {\r\n        allNotes.push(newNote);\r\n        this.setState({ allNotes, selectedNote: newNote });\r\n        this.props.history.replace(`/notes/${newNote._id}`);\r\n      }\r\n    } catch {\r\n      allNotes.push(newNote);\r\n      this.setState({ allNotes, selectedNote: newNote });\r\n      this.props.history.replace(`/notes/${newNote._id}`);\r\n    }\r\n\r\n    if (\r\n      newNote.collection._id &&\r\n      this.state.collections.filter(c => c._id === newNote.collection._id)\r\n        .length === 0\r\n    ) {\r\n      let collections = this.state.collections;\r\n      collections.push(newNote.collection);\r\n      this.setState({ collections });\r\n    }\r\n  };\r\n\r\n  handleDelete = () => {\r\n    let id = this.props.match.params.id;\r\n\r\n    this.setState({\r\n      allNotes: this.state.allNotes.filter(n => n._id !== id),\r\n      editorState: EditorState.createEmpty(),\r\n      selectedNote: null,\r\n      title: \"\"\r\n    });\r\n    this.props.history.replace(\"/notes\");\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      editorState,\r\n      allNotes,\r\n      searchQuery,\r\n      collections,\r\n      selectedNote,\r\n      title\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"app-page\">\r\n        <SideBar\r\n          editorState={editorState}\r\n          allNotes={allNotes}\r\n          onSearch={this.handleSearch}\r\n          searchQuery={searchQuery}\r\n          onClear={this.handleClear}\r\n          collections={collections}\r\n          selectedNote={selectedNote}\r\n          updateCollections={this.updateCollections}\r\n        />\r\n        <DraftEditor\r\n          onEditorChange={this.onEditorChange}\r\n          handleTitle={this.handleTitle}\r\n          title={title}\r\n          save={this.save}\r\n          handleDelete={this.handleDelete}\r\n          updateSelectedNote={this.updateSelectedNote}\r\n          collections={collections}\r\n          editorState={editorState}\r\n          selectedNote={selectedNote}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notes;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport Notes from \"./components/Notes\";\r\nimport \"./css/App.css\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <NavBar />\r\n        <main className=\"app-background\">\r\n          <Switch>\r\n            <Route path=\"/notes/:id\" component={Notes} />\r\n            <Route path=\"/notes\" component={Notes} />\r\n            <Redirect from=\"/\" exact to=\"/notes\" />\r\n          </Switch>\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/js/dist/collapse\";\r\nimport \"font-awesome/css/font-awesome.css\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}