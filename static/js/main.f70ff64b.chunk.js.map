{"version":3,"sources":["config.js","components/NavBar.jsx","components/common/CollectionPreview.jsx","utils/randomColor.js","components/EditorCollections.jsx","components/common/TagsPreview.jsx","components/EditorTags.jsx","components/EditorMenu.jsx","components/DraftEditor.jsx","components/NotesPreview.jsx","components/NotesSearch.jsx","components/NotesFilter.jsx","components/SideBar.jsx","services/fakePostsService.js","services/fakeCollectionsService.js","components/Notes.jsx","App.js","index.js"],"names":["module","exports","apiUrl","notesPreviewLength","NavBar","className","to","CollectionPreview","fontSize","collection","style","len","length","colStr","hasOwnProperty","name","slice","linkStyle","color","fontStyle","cursor","icon","faBook","marginRight","transform","randomColor","Math","random","toString","substr","EditorCollections","state","collectionPopoverOpen","newCollection","onChange","event","setState","target","value","togglePopover","handleCollectionSelect","note","props","selectedNote","currentTarget","getAttribute","save","collections","find","c","_id","pressEnter","keyCode","Date","now","title","content","convertToRaw","editorState","getCurrentContent","tags","this","textAlign","padding","id","UncontrolledPopover","placement","isOpen","trigger","toggle","PopoverHeader","PopoverBody","key","map","type","checked","e","onClick","data","faMinusCircle","placeholder","marginTop","lineHeight","width","height","onKeyDown","Component","TagsPreview","iconColor","tagLen","tagsStr","join","faTags","EditorTags","tagsPopoverOpen","newTag","handleTagsDelete","tag","filter","t","includes","push","autoFocus","EditorMenu","menuStyle","margin","display","justifyContent","crudStyle","alignItems","metaDataStyle","handleDelete","aria-hidden","DraftEditor","handleTitle","updateSelectedNote","currentEditorContent","controlsStyle","fontFamily","verticalLine","borderRight","focus","editor","handleKeyCommand","_handleKeyCommand","bind","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","command","newState","RichUtils","onEditorChange","blockType","inlineStyle","onToggle","blockStyleFn","getBlockStyle","customStyleMap","styleMap","keyBindingFn","mapKeyToEditorCommand","ref","spellCheck","React","CODE","backgroundColor","block","getType","StyleButton","preventDefault","active","onMouseDown","label","BLOCK_TYPES","BlockStyleControls","selection","getSelection","getBlockForKey","getStartKey","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","NotesPreview","listItemStyle","background","previewStyle","tagsStyle","marginLeft","collectionStyle","borderRadius","writingMode","letterSpacing","fontWeight","individualNotes","gridTemplateColumns","marginBottom","notes","search","searchQuery","toLowerCase","n","blocks","el","text","generateSearchPreview","previewText","startIndex","indexOf","endIndex","previewLength","config","pre","highlight","post","generateTitle","filtered","allNotes","moment","updated","format","NotesSearch","onSearch","onClear","NotesFilter","editMode","collectionsToEdit","toggleEditMode","currentCollections","index","forEach","updateCollections","handleCollectionDelete","collectionId","handleCollectionEdit","collectionToUpdate","splice","handleColorChange","colorChange","hex","filterStyle","gridTemplateRows","overflow","handleRadioSelect","handleCheckboxSelect","collectionFilter","tagsFilter","Profile","faUserCircle","Buttons","useState","popoverOpen","setNewCollection","buttonStyle","faPlus","faCheckCircle","faEdit","collectionTagStyle","dropdownTitle","CollectionFilter","dropdownOpen","setDropdownOpen","data-toggle","data-target","aria-expanded","aria-controls","faCaretDown","faCaretRight","paddingLeft","TagFilter","EditCollections","i","aria-label","EditColor","colors","setColors","newColor","setNewColor","swatchStyle","OverlayTrigger","rootClose","overlay","Popover","border","Title","Content","maxLength","position","left","faFillDrip","SideBar","sidebarStyle","tagsOpen","handleDropdownClick","dataTarget","isExpanded","collectionsOpen","selectedTags","newTags","filteredNotes","Set","lowerTags","combinedTags","NOTES","depth","inlineStyleRanges","entityRanges","offset","entityMap","COLLECTIONS","Notes","handleSearch","query","handleClear","action","indexToUpdate","findIndex","newNote","oldNote","existingIndex","history","replace","match","params","EditorState","createEmpty","errors","createWithContent","convertFromRaw","App","Fragment","path","component","from","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f70ff64b.chunk.js","sourcesContent":["module.exports = {\r\n  apiUrl: \"http://localhost:4000/api\",\r\n  notesPreviewLength: 75\r\n};\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <nav className=\"app-navbar\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        Notable\r\n      </Link>\r\n      <div className=\"\">\r\n        <NavLink className=\"navBar-link\" to=\"/login\">\r\n          Login\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBook } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst CollectionPreview = ({ fontSize, collection, style, length }) => {\r\n  let len = length || 20;\r\n  let colStr = collection.hasOwnProperty(\"name\")\r\n    ? collection.name\r\n    : \"(collection)\";\r\n\r\n  if (colStr.length > len) colStr = colStr.slice(0, len) + \"...\";\r\n\r\n  const linkStyle = {\r\n    color: \"blue\",\r\n    fontStyle: \"italic\",\r\n    cursor: \"pointer\",\r\n    fontSize\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...linkStyle, ...style }}>\r\n      <FontAwesomeIcon\r\n        icon={faBook}\r\n        style={{\r\n          color: \"black\",\r\n          marginRight: \"10px\",\r\n          transform: \"rotate(-20deg)\"\r\n        }}\r\n      />\r\n      <span>{colStr}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectionPreview;\r\n","export default function randomColor() {\r\n  return (\r\n    \"#\" +\r\n    Math.random()\r\n      .toString(16)\r\n      .substr(-6)\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport { UncontrolledPopover, PopoverBody, PopoverHeader } from \"reactstrap\";\r\nimport CollectionPreview from \"./common/CollectionPreview\";\r\nimport randomColor from \"./../utils/randomColor\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nclass EditorCollections extends Component {\r\n  state = {\r\n    collectionPopoverOpen: false,\r\n    newCollection: \"\"\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newCollection: event.target.value });\r\n  };\r\n\r\n  togglePopover = () => {\r\n    this.setState({\r\n      collectionPopoverOpen: !this.state.collectionPopoverOpen\r\n    });\r\n  };\r\n\r\n  handleCollectionSelect = event => {\r\n    const note = { ...this.props.selectedNote };\r\n\r\n    if (event.currentTarget.getAttribute(\"data\") === \"delete\") {\r\n      note.collection = {};\r\n      this.props.save(note);\r\n    } else {\r\n      let { color, _id, name } = this.props.collections.find(\r\n        c => c._id === event.target.value\r\n      );\r\n      note.collection = { _id, name, color };\r\n      this.props.save(note);\r\n    }\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    let note = this.props.selectedNote\r\n      ? { ...this.props.selectedNote }\r\n      : {\r\n          _id: Date.now().toString(),\r\n          title: \"\",\r\n          content: convertToRaw(this.props.editorState.getCurrentContent()),\r\n          tags: [],\r\n          collection: {}\r\n        };\r\n    // don't allow duplicate collections\r\n    if (note.collection.name === this.state.newCollection) return;\r\n\r\n    note.collection = {\r\n      _id: Date.now().toString(),\r\n      name: this.state.newCollection,\r\n      color: randomColor()\r\n    };\r\n    this.setState({ newCollection: \"\" });\r\n    this.props.save(note);\r\n  };\r\n\r\n  render() {\r\n    const { selectedNote, collections } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{ textAlign: \"right\", padding: \"0px 10px\" }}\r\n        id=\"collection-popover-link\"\r\n        className=\"link-no-underline\"\r\n      >\r\n        <CollectionPreview\r\n          fontSize=\"12px\"\r\n          collection={selectedNote ? selectedNote.collection : {}}\r\n        />\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.collectionPopoverOpen}\r\n          target=\"collection-popover-link\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverHeader>select collection:</PopoverHeader>\r\n          <PopoverBody key={selectedNote ? selectedNote.collection.name : \"\"}>\r\n            {collections ? (\r\n              collections.map(c => (\r\n                <div className=\"form-check clickable\" key={c._id}>\r\n                  <label className=\"form-check-label\">\r\n                    <input\r\n                      className=\"form-check-input\"\r\n                      type=\"radio\"\r\n                      name=\"select-collection-choices\"\r\n                      value={c._id}\r\n                      checked={\r\n                        selectedNote\r\n                          ? selectedNote.collection.name === c.name\r\n                          : false\r\n                      }\r\n                      onChange={e => this.handleCollectionSelect(e)}\r\n                    />\r\n                    {c.name}\r\n                  </label>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            {collections.length > 0 &&\r\n            selectedNote &&\r\n            selectedNote.collection.hasOwnProperty(\"_id\") ? (\r\n              <div\r\n                className=\"clickable\"\r\n                style={{ color: \"red\" }}\r\n                onClick={e => this.handleCollectionSelect(e)}\r\n                data=\"delete\"\r\n              >\r\n                <FontAwesomeIcon icon={faMinusCircle} />{\" \"}\r\n                <span>\r\n                  <em>clear collection</em>\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newCollection}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new collection...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                marginTop: \"10px\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>{\" \"}\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorCollections;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTags } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst TagsPreview = ({ fontSize, tags, style, length, iconColor }) => {\r\n  let tagLen = length || 40;\r\n  let tagsStr = tags.length > 0 ? tags.join(\", \") : \"(tags)\";\r\n\r\n  if (tagsStr.length > tagLen) tagsStr = tagsStr.slice(0, tagLen) + \"...\";\r\n\r\n  const linkStyle = {\r\n    color: \"orangered\",\r\n    fontStyle: \"italic\",\r\n    cursor: \"pointer\",\r\n    fontSize\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...linkStyle, ...style }}>\r\n      <FontAwesomeIcon\r\n        icon={faTags}\r\n        style={{ color: iconColor, marginRight: \"10px\" }}\r\n      />\r\n      <span>{tagsStr}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagsPreview;\r\n","import React, { Component } from \"react\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { UncontrolledPopover, PopoverBody, PopoverHeader } from \"reactstrap\";\r\nimport TagsPreview from \"./common/TagsPreview\";\r\n\r\nclass EditorTags extends Component {\r\n  state = { tagsPopoverOpen: false, newTag: \"\" };\r\n\r\n  togglePopover = () => {\r\n    this.setState({ tagsPopoverOpen: !this.state.tagsPopoverOpen });\r\n  };\r\n\r\n  handleTagsDelete = event => {\r\n    const tag = event.currentTarget.getAttribute(\"data\");\r\n    let note = { ...this.props.selectedNote };\r\n    note.tags = note.tags.filter(t => t !== tag);\r\n    this.props.save(note);\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newTag: event.target.value });\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    let note = this.props.selectedNote\r\n      ? { ...this.props.selectedNote }\r\n      : {\r\n          _id: Date.now().toString(),\r\n          title: \"\",\r\n          content: convertToRaw(this.props.editorState.getCurrentContent()),\r\n          tags: [],\r\n          collection: {}\r\n        };\r\n    // don't allow duplicate tags\r\n    if (note.tags.includes(this.state.newTag)) return;\r\n\r\n    note.tags.push(this.state.newTag);\r\n    this.setState({ newTag: \"\" });\r\n    this.props.save(note);\r\n  };\r\n\r\n  render() {\r\n    const { selectedNote } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{ textAlign: \"right\", padding: \"0px 10px\" }}\r\n        id=\"tags-popover-link\"\r\n      >\r\n        <TagsPreview\r\n          fontSize=\"12px\"\r\n          tags={selectedNote ? selectedNote.tags : {}}\r\n          iconColor=\"black\"\r\n        />\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.tagsPopoverOpen}\r\n          target=\"tags-popover-link\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverHeader>edit tags:</PopoverHeader>\r\n          <PopoverBody key={selectedNote ? selectedNote.tags.length : 0}>\r\n            {selectedNote ? (\r\n              selectedNote.tags.map(tag => (\r\n                <div key={tag}>\r\n                  <span data={tag} onClick={e => this.handleTagsDelete(e)}>\r\n                    <FontAwesomeIcon\r\n                      icon={faMinusCircle}\r\n                      style={{ color: \"red\", marginRight: \"10px\" }}\r\n                    />\r\n                  </span>\r\n                  <label className=\"form-check-label\">{tag}</label>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newTag}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new tag...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                marginTop: \"10px\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n              autoFocus\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorTags;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EditorCollections from \"./EditorCollections\";\r\nimport EditorTags from \"./EditorTags\";\r\n\r\nclass EditorMenu extends Component {\r\n  state = {};\r\n\r\n  menuStyle = {\r\n    margin: \"auto\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"inline-flex\",\r\n    justifyContent: \"space-between\"\r\n  };\r\n\r\n  crudStyle = {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-around\",\r\n    width: \"200px\",\r\n    height: \"100%\",\r\n    fontSize: \"12px\"\r\n  };\r\n\r\n  metaDataStyle = {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    fontSize: \"12px\"\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      save,\r\n      handleDelete,\r\n      selectedNote,\r\n      collections,\r\n      editorState\r\n    } = this.props;\r\n\r\n    return (\r\n      <div style={this.menuStyle}>\r\n        <div id=\"crud-operations\" style={this.crudStyle}>\r\n          <Link to=\"/notes/new\">\r\n            <div className=\"clickable editor-menu-option\">\r\n              <i className=\"fa fa-plus\" aria-hidden=\"true\" />\r\n              <span> New Note</span>\r\n            </div>\r\n          </Link>\r\n          <div className=\"clickable editor-menu-option\" onClick={handleDelete}>\r\n            <i className=\"fa fa-trash\" aria-hidden=\"true\" />\r\n            <span> Delete</span>\r\n          </div>\r\n          <div\r\n            className=\"clickable editor-menu-option\"\r\n            onClick={() => save(selectedNote)}\r\n          >\r\n            <i className=\"fa fa-floppy-o\" aria-hidden=\"true\" />\r\n            <span> Save</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"notes-meta-data\" style={this.metaDataStyle}>\r\n          <EditorCollections\r\n            selectedNote={selectedNote}\r\n            collections={collections}\r\n            save={save}\r\n            editorState={editorState}\r\n          />\r\n          <EditorTags\r\n            selectedNote={selectedNote}\r\n            save={save}\r\n            editorState={editorState}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorMenu;\r\n","import React from \"react\";\r\nimport { Editor, RichUtils, convertToRaw } from \"draft-js\";\r\nimport Textarea from \"react-expanding-textarea\";\r\nimport EditorMenu from \"./EditorMenu\";\r\nimport \"../css/notes.css\";\r\nimport \"draft-js/dist/Draft.css\";\r\n\r\nclass DraftEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.focus = () => this.editor.focus();\r\n\r\n    this.handleKeyCommand = this._handleKeyCommand.bind(this);\r\n    this.toggleBlockType = this._toggleBlockType.bind(this);\r\n    this.toggleInlineStyle = this._toggleInlineStyle.bind(this);\r\n  }\r\n\r\n  handleTitle = title => {\r\n    if (this.props.selectedNote) {\r\n      const note = { ...this.props.selectedNote };\r\n      note.title = title;\r\n      return this.props.updateSelectedNote(note);\r\n    } else {\r\n      const currentEditorContent = convertToRaw(\r\n        this.props.editorState.getCurrentContent()\r\n      );\r\n      const note = {\r\n        _id: Date.now().toString(),\r\n        title: title,\r\n        content: currentEditorContent,\r\n        tags: [],\r\n        collection: {}\r\n      };\r\n      return this.props.updateSelectedNote(note);\r\n    }\r\n  };\r\n\r\n  _handleKeyCommand(command, editorState) {\r\n    const newState = RichUtils.handleKeyCommand(editorState, command);\r\n    if (newState) {\r\n      this.props.onEditorChange(newState);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  _toggleBlockType(blockType) {\r\n    this.props.onEditorChange(\r\n      RichUtils.toggleBlockType(this.props.editorState, blockType)\r\n    );\r\n  }\r\n\r\n  _toggleInlineStyle(inlineStyle) {\r\n    this.props.onEditorChange(\r\n      RichUtils.toggleInlineStyle(this.props.editorState, inlineStyle)\r\n    );\r\n  }\r\n\r\n  controlsStyle = {\r\n    display: \"inline-flex\",\r\n    fontFamily: \"Arial, Helvetica, sans-serif\",\r\n    fontSize: \"14px\",\r\n    margin: \"auto 0px\"\r\n  };\r\n\r\n  verticalLine = {\r\n    width: \"1px\",\r\n    height: \"20px\",\r\n    borderRight: \"1px solid grey\",\r\n    margin: \"auto 5px\"\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"editor-window\">\r\n        <div className=\"editor-menu\">\r\n          <EditorMenu\r\n            save={this.props.save}\r\n            handleDelete={this.props.handleDelete}\r\n            selectedNote={this.props.selectedNote}\r\n            collections={this.props.collections}\r\n            updateSelectedNote={this.props.updateSelectedNote}\r\n            editorState={this.props.editorState}\r\n          />\r\n          <div id=\"stying-controls\" style={this.controlsStyle}>\r\n            <InlineStyleControls\r\n              editorState={this.props.editorState}\r\n              onToggle={this.toggleInlineStyle}\r\n            />\r\n            <div style={this.verticalLine}></div>\r\n            <BlockStyleControls\r\n              editorState={this.props.editorState}\r\n              onToggle={this.toggleBlockType}\r\n            />\r\n            <hr></hr>\r\n          </div>\r\n        </div>\r\n        <div id=\"rich-text-editor\">\r\n          <div>\r\n            <Textarea\r\n              className=\"textarea\"\r\n              id=\"title-textarea\"\r\n              placeholder=\"Title...\"\r\n              value={\r\n                this.props.selectedNote ? this.props.selectedNote.title : \"\"\r\n              }\r\n              onChange={e => this.handleTitle(e.target.value)}\r\n            />\r\n            <hr></hr>\r\n          </div>\r\n          <div className=\"editor-edit\" onClick={this.focus}>\r\n            <Editor\r\n              blockStyleFn={getBlockStyle}\r\n              customStyleMap={styleMap}\r\n              editorState={this.props.editorState}\r\n              handleKeyCommand={this.handleKeyCommand}\r\n              keyBindingFn={this.mapKeyToEditorCommand}\r\n              onChange={this.props.onEditorChange}\r\n              ref={ref => (this.editor = ref)}\r\n              spellCheck={true}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Custom overrides for \"code\" style.\r\nconst styleMap = {\r\n  CODE: {\r\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\r\n    fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\r\n    fontSize: 16,\r\n    padding: 2\r\n  }\r\n};\r\n\r\nfunction getBlockStyle(block) {\r\n  switch (block.getType()) {\r\n    case \"blockquote\":\r\n      return \"RichEditor-blockquote\";\r\n    case \"code-block\":\r\n      return \"editor-code\";\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nclass StyleButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onToggle = e => {\r\n      e.preventDefault();\r\n      props.onToggle(props.style);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let className = \"editor-styleButton\";\r\n    if (this.props.active) {\r\n      className += \" editor-activeButton\";\r\n    }\r\n\r\n    return (\r\n      <span className={className} onMouseDown={this.onToggle}>\r\n        {this.props.label}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n  { label: \"Title\", style: \"header-one\" },\r\n  { label: \"Header\", style: \"header-three\" },\r\n  {\r\n    label: <i className=\"fa fa-list-ul\" aria-hidden=\"true\"></i>,\r\n    style: \"unordered-list-item\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-list-ol\" aria-hidden=\"true\"></i>,\r\n    style: \"ordered-list-item\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-code\" aria-hidden=\"true\"></i>,\r\n    style: \"code-block\"\r\n  }\r\n];\r\n\r\nconst BlockStyleControls = ({ editorState, onToggle }) => {\r\n  const selection = editorState.getSelection();\r\n  const blockType = editorState\r\n    .getCurrentContent()\r\n    .getBlockForKey(selection.getStartKey())\r\n    .getType();\r\n\r\n  return (\r\n    <div className=\"editor-control-row\">\r\n      {BLOCK_TYPES.map(type => (\r\n        <StyleButton\r\n          key={type.style}\r\n          active={type.style === blockType}\r\n          label={type.label}\r\n          onToggle={onToggle}\r\n          style={type.style}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nvar INLINE_STYLES = [\r\n  { label: <i className=\"fa fa-bold\" aria-hidden=\"true\"></i>, style: \"BOLD\" },\r\n  {\r\n    label: <i className=\"fa fa-italic\" aria-hidden=\"true\"></i>,\r\n    style: \"ITALIC\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-underline\" aria-hidden=\"true\"></i>,\r\n    style: \"UNDERLINE\"\r\n  },\r\n  { label: \"Monospace\", style: \"CODE\" }\r\n];\r\n\r\nconst InlineStyleControls = ({ editorState, onToggle }) => {\r\n  var currentStyle = editorState.getCurrentInlineStyle();\r\n  return (\r\n    <div className=\"editor-control-row\">\r\n      {INLINE_STYLES.map(type => (\r\n        <StyleButton\r\n          key={type.style}\r\n          active={currentStyle.has(type.style)}\r\n          label={type.label}\r\n          onToggle={onToggle}\r\n          style={type.style}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraftEditor;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport TagsPreview from \"./common/TagsPreview\";\r\nimport config from \"../config\";\r\n\r\nclass NotesPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  listItemStyle = {\r\n    padding: \"0.5em 0.75em\",\r\n    background: \"white\"\r\n  };\r\n\r\n  previewStyle = {\r\n    fontSize: 12,\r\n    margin: \"3px 0px\",\r\n    lineHeight: 1.25\r\n  };\r\n\r\n  tagsStyle = {\r\n    fontSize: 11,\r\n    fontStyle: \"italic\",\r\n    marginLeft: \"5px\",\r\n    color: \"orangered\"\r\n  };\r\n\r\n  collectionStyle = {\r\n    margin: \"5px 5px 5px 0px\",\r\n    borderRadius: \"0 8px 8px 0\",\r\n    writingMode: \"vertical-rl\",\r\n    textAlign: \"center\",\r\n    fontSize: \"11px\",\r\n    letterSpacing: \"0.5px\",\r\n    fontWeight: \"bold\",\r\n    fontStyle: \"oblique\"\r\n  };\r\n\r\n  individualNotes = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"20px auto\",\r\n    width: \"100%\",\r\n    padding: \"1px\",\r\n    marginBottom: \"0px\"\r\n  };\r\n\r\n  filter = notes => {\r\n    let search = this.props.searchQuery.toLowerCase();\r\n\r\n    if (notes)\r\n      return notes.filter(\r\n        n =>\r\n          n.content.blocks.find(el => el.text.toLowerCase().includes(search)) ||\r\n          n.title.toLowerCase().includes(search)\r\n      );\r\n  };\r\n\r\n  generateSearchPreview = note => {\r\n    let searchQuery = this.props.searchQuery;\r\n\r\n    let previewText = note.content.blocks.map(n => n.text).join(\" \");\r\n    let startIndex = previewText\r\n      .toLowerCase()\r\n      .indexOf(searchQuery.toLowerCase());\r\n\r\n    if (startIndex === -1) return <div>{previewText}</div>;\r\n    let endIndex = startIndex + searchQuery.length;\r\n\r\n    const preLength = 20;\r\n    const previewLength = config.notesPreviewLength;\r\n\r\n    let pre = previewText.slice(0, startIndex);\r\n    let highlight = previewText.slice(startIndex, endIndex);\r\n    let post = previewText.slice(endIndex);\r\n\r\n    if (previewText.length > previewLength) {\r\n      if (pre.length >= previewLength + searchQuery.length + 3)\r\n        pre = pre.slice(pre.length - preLength);\r\n      if (post.length > previewLength - searchQuery.length - pre.length)\r\n        post = post.slice(0, previewLength - pre.length);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <span>{pre}</span>\r\n        <span style={{ backgroundColor: \"yellow\" }}>{highlight}</span>\r\n        <span>{post}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  generateTitle = note => {\r\n    let searchQuery = this.props.searchQuery;\r\n    let title = note.title;\r\n\r\n    let startIndex = title.toLowerCase().indexOf(searchQuery.toLowerCase());\r\n\r\n    if (startIndex === -1) return <div>{title}</div>;\r\n\r\n    let endIndex = startIndex + searchQuery.length;\r\n\r\n    let pre = title.slice(0, startIndex);\r\n    let highlight = title.slice(startIndex, endIndex);\r\n    let post = title.slice(endIndex);\r\n\r\n    return (\r\n      <div>\r\n        <span>{pre}</span>\r\n        <span style={{ backgroundColor: \"yellow\" }}>{highlight}</span>\r\n        <span>{post}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let filtered = this.filter(this.props.allNotes);\r\n\r\n    return (\r\n      <div className=\"list-group preview-section\">\r\n        {filtered &&\r\n          filtered.map(n => {\r\n            return (\r\n              <div\r\n                className=\"list-group-item\"\r\n                style={{\r\n                  ...this.individualNotes,\r\n                  background:\r\n                    this.props.selectedNote &&\r\n                    n._id === this.props.selectedNote._id\r\n                      ? (n.collection.color && n.collection.color) ||\r\n                        \"lightgray\"\r\n                      : \"white\"\r\n                }}\r\n                key={n._id}\r\n              >\r\n                <div\r\n                  style={{\r\n                    ...this.collectionStyle,\r\n                    backgroundColor: n.collection.color\r\n                  }}\r\n                >\r\n                  <span>{n.collection.name}</span>\r\n                </div>\r\n                <Link\r\n                  key={n._id}\r\n                  to={`/notes/${n._id}`}\r\n                  style={this.listItemStyle}\r\n                  className=\"list-group-item-action\"\r\n                >\r\n                  <div>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                      <h5 className=\"mb-1\">{this.generateTitle(n)}</h5>\r\n                      <small>{moment(n.updated).format(\"MMM D 'YY\")}</small>\r\n                    </div>\r\n                    <div style={this.previewStyle}>\r\n                      {this.generateSearchPreview(n)}\r\n                    </div>\r\n                    <TagsPreview\r\n                      fontSize=\"11px\"\r\n                      tags={n.tags}\r\n                      style={{ marginTop: \"5px\" }}\r\n                      iconColor=\"darkslateblue\"\r\n                    />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotesPreview;\r\n","import React from \"react\";\r\n\r\nconst NotesSearch = ({ searchQuery, onSearch, onClear }) => {\r\n  return (\r\n    <div className=\"input-group mb-3\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        value={searchQuery}\r\n        onChange={e => onSearch(e.currentTarget.value)}\r\n        placeholder=\"Search...\"\r\n      />\r\n      <div className=\"input-group-prepend\">\r\n        <span\r\n          onClick={() => onClear()}\r\n          className=\"btn btn-outline-secondary\"\r\n          type=\"button\"\r\n        >\r\n          clear\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotesSearch;\r\n","import React, { Component, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faPlus,\r\n  faCaretRight,\r\n  faCaretDown,\r\n  faUserCircle,\r\n  faBook,\r\n  faTags,\r\n  faEdit,\r\n  faCheckCircle,\r\n  faMinusCircle,\r\n  faFillDrip\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { UncontrolledPopover, PopoverBody } from \"reactstrap\";\r\nimport { Popover, OverlayTrigger } from \"react-bootstrap\";\r\nimport randomColor from \"./../utils/randomColor\";\r\n\r\nclass NotesFilter extends Component {\r\n  state = {\r\n    editMode: false,\r\n    collectionsToEdit: []\r\n  };\r\n\r\n  toggleEditMode = () => {\r\n    const currentCollections = [...this.props.collections];\r\n    if (!this.state.editMode) {\r\n      this.setState({ editMode: true, collectionsToEdit: currentCollections });\r\n    } else {\r\n      let collectionsToUpdate = this.state.collectionsToEdit.filter(\r\n        (c, index) => {\r\n          return (\r\n            c.name !== currentCollections[index].name ||\r\n            c.color !== currentCollections[index].color\r\n          );\r\n        }\r\n      );\r\n      collectionsToUpdate.forEach(c => this.props.updateCollections(c, \"edit\"));\r\n      this.setState({ editMode: !this.state.editMode });\r\n    }\r\n  };\r\n\r\n  handleCollectionDelete = event => {\r\n    const collectionId = event.currentTarget.getAttribute(\"data\");\r\n    let allCollections = [...this.props.collections];\r\n\r\n    let collection = allCollections.filter(c => c._id === collectionId);\r\n    this.props.updateCollections(collection[0], \"delete\");\r\n  };\r\n\r\n  handleCollectionEdit = (type, collection, index, value) => {\r\n    const collectionsToEdit = [...this.state.collectionsToEdit];\r\n    const collectionToUpdate = { ...collection };\r\n\r\n    if (type === \"name\") collectionToUpdate.name = value;\r\n\r\n    if (type === \"color\") collectionToUpdate.color = value;\r\n\r\n    collectionsToEdit.splice(index, 1, collectionToUpdate);\r\n\r\n    this.setState({ collectionsToEdit });\r\n  };\r\n\r\n  handleColorChange = (color, event) => {\r\n    this.setState({ colorChange: color.hex });\r\n  };\r\n\r\n  filterStyle = {\r\n    display: \"grid\",\r\n    gridTemplateRows: \"40px 60px 200px 300px\",\r\n    overflow: \"auto\",\r\n    padding: \"15px 5px\",\r\n    height: \"100%\",\r\n    width: \"100%\"\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      handleRadioSelect,\r\n      handleCheckboxSelect,\r\n      collectionFilter,\r\n      tagsFilter,\r\n      collections,\r\n      tags\r\n    } = this.props;\r\n\r\n    return (\r\n      <div id=\"filterSection\" style={this.filterStyle} className=\"bg-dark-blue\">\r\n        <Profile />\r\n        <Buttons\r\n          updateCollections={this.props.updateCollections}\r\n          editMode={this.state.editMode}\r\n          toggleEditMode={this.toggleEditMode}\r\n        />\r\n        <CollectionFilter\r\n          toggleEditMode={this.toggleEditMode}\r\n          editMode={this.state.editMode}\r\n          handleRadioSelect={handleRadioSelect}\r\n          handleCollectionEdit={this.handleCollectionEdit}\r\n          handleCollectionDelete={this.handleCollectionDelete}\r\n          collections={collections}\r\n          collectionFilter={collectionFilter}\r\n          collectionsToEdit={this.state.collectionsToEdit}\r\n        />\r\n        <TagFilter\r\n          tags={tags}\r\n          tagsFilter={tagsFilter}\r\n          handleCheckboxSelect={handleCheckboxSelect}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Profile = () => {\r\n  let profileDivStyle = {\r\n    background: \"black\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderRadius: \"10px\"\r\n  };\r\n\r\n  let profileContentStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"20% auto\",\r\n    width: \"100%\",\r\n    cursor: \"pointer\"\r\n  };\r\n\r\n  return (\r\n    <div id=\"profile-preview\" style={profileDivStyle}>\r\n      <div style={profileContentStyle}>\r\n        <div style={{ display: \"flex\", margin: \"auto\" }}>\r\n          <FontAwesomeIcon icon={faUserCircle} />\r\n        </div>\r\n        <div style={{ fontSize: \"11px\" }}>lords.austin@gmail.com</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Buttons = ({ updateCollections, toggleEditMode, editMode }) => {\r\n  let [popoverOpen, togglePopover] = useState(false);\r\n  let [newCollection, setNewCollection] = useState(\"\");\r\n\r\n  let pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    if (newCollection === \"\") return;\r\n\r\n    const collection = {\r\n      _id: Date.now().toString(),\r\n      name: newCollection,\r\n      color: randomColor()\r\n    };\r\n    setNewCollection(\"\");\r\n    updateCollections(collection, \"add\");\r\n  };\r\n\r\n  let style = {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"flex-end\",\r\n    padding: \"0 10px\",\r\n    justifyContent: \"space-around\"\r\n  };\r\n\r\n  let buttonStyle = {\r\n    height: \"25px\",\r\n    fontSize: \"11px\",\r\n    padding: \"2px 5px\"\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={style}>\r\n        <button\r\n          className=\"btn btn-secondary btn-sm\"\r\n          style={buttonStyle}\r\n          id=\"add-collection\"\r\n        >\r\n          <FontAwesomeIcon icon={faPlus} />\r\n          <span> Collection</span>\r\n        </button>\r\n        {editMode ? (\r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            style={buttonStyle}\r\n            onClick={() => toggleEditMode()}\r\n          >\r\n            <FontAwesomeIcon icon={faCheckCircle} />\r\n            <span> Done</span>\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-danger btn-sm\"\r\n            style={buttonStyle}\r\n            onClick={() => toggleEditMode()}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n            <span> Edit</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n      <UncontrolledPopover\r\n        placement=\"bottom\"\r\n        isOpen={popoverOpen}\r\n        target=\"add-collection\"\r\n        trigger=\"legacy\"\r\n        toggle={() => togglePopover(!popoverOpen)}\r\n      >\r\n        <PopoverBody>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={newCollection}\r\n            onChange={e => setNewCollection(e.target.value)}\r\n            placeholder=\"new collection...\"\r\n            style={{\r\n              fontSize: \".9rem\",\r\n              marginTop: \"10px\",\r\n              lineHeight: \"1\",\r\n              padding: \"0px .75rem\",\r\n              width: \"150px\",\r\n              height: \"calc(2rem + 2px)\"\r\n            }}\r\n            onKeyDown={pressEnter}\r\n            autoFocus\r\n          />\r\n          <small>\r\n            <em>press Enter to save</em>\r\n          </small>{\" \"}\r\n        </PopoverBody>\r\n      </UncontrolledPopover>\r\n    </div>\r\n  );\r\n};\r\n\r\nlet collectionTagStyle = {\r\n  marginTop: \"10px\",\r\n  color: \"white\"\r\n};\r\n\r\nlet dropdownTitle = {\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"15px auto\",\r\n  width: \"100%\",\r\n  alignItems: \"baseline\"\r\n};\r\n\r\nconst CollectionFilter = ({\r\n  editMode,\r\n  handleRadioSelect,\r\n  handleCollectionEdit,\r\n  handleCollectionDelete,\r\n  collections,\r\n  collectionFilter,\r\n  collectionsToEdit\r\n}) => {\r\n  let [dropdownOpen, setDropdownOpen] = useState(true);\r\n\r\n  return (\r\n    <div id=\"collection-filter\" style={collectionTagStyle}>\r\n      <div className=\"list-group clickable\">\r\n        <div\r\n          style={dropdownTitle}\r\n          onClick={() => setDropdownOpen(!dropdownOpen)}\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#collections\"\r\n          aria-expanded={dropdownOpen}\r\n          aria-controls=\"collections\"\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={dropdownOpen ? faCaretDown : faCaretRight}\r\n            className=\"faCaretDropdown\"\r\n          />\r\n          <div>\r\n            <span>Collections </span>\r\n            <span style={{ paddingLeft: \"10px\" }}>\r\n              {\" \"}\r\n              <FontAwesomeIcon\r\n                icon={faBook}\r\n                style={{ fontSize: \"14px\", transform: \"rotate(-20deg)\" }}\r\n              />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"collapse multi-collapse show\"\r\n        id=\"collections\"\r\n        style={{\r\n          marginLeft: \"10px\",\r\n          fontSize: \"14px\",\r\n          height: \"95%\",\r\n          overflow: \"auto\"\r\n        }}\r\n      >\r\n        {editMode ? (\r\n          <div></div>\r\n        ) : (\r\n          <div key=\"allCollections\" className=\"form-check clickable\">\r\n            <label className=\"form-check-label\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"collection-choices\"\r\n                value=\"\"\r\n                checked={collectionFilter === \"\"}\r\n                onChange={e => handleRadioSelect(e)}\r\n              />\r\n              All\r\n            </label>\r\n          </div>\r\n        )}\r\n        {editMode ? (\r\n          <EditCollections\r\n            collectionsToEdit={collectionsToEdit}\r\n            handleCollectionEdit={handleCollectionEdit}\r\n            handleCollectionDelete={handleCollectionDelete}\r\n          />\r\n        ) : (\r\n          collections.map(c => (\r\n            <div className=\"form-check\" key={c._id}>\r\n              <label className=\"form-check-label\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  name=\"collection-choices\"\r\n                  value={c.name}\r\n                  checked={collectionFilter === c.name}\r\n                  onChange={e => handleRadioSelect(e)}\r\n                />\r\n                {c.name}\r\n              </label>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TagFilter = ({ tags, tagsFilter, handleCheckboxSelect }) => {\r\n  let [dropdownOpen, setDropdownOpen] = useState(true);\r\n\r\n  return (\r\n    <div id=\"tags-filter\" style={collectionTagStyle}>\r\n      <div className=\"list-group clickable\">\r\n        <div\r\n          style={dropdownTitle}\r\n          onClick={() => setDropdownOpen(!dropdownOpen)}\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#tags\"\r\n          aria-expanded={dropdownOpen}\r\n          aria-controls=\"tags\"\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={dropdownOpen ? faCaretDown : faCaretRight}\r\n            className=\"faCaretDropdown\"\r\n          />\r\n          <div>\r\n            <span>Tags </span>\r\n            <span style={{ paddingLeft: \"10px\" }}>\r\n              {\" \"}\r\n              <FontAwesomeIcon icon={faTags} style={{ fontSize: \"12px\" }} />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"collapse multi-collapse show\"\r\n        id=\"tags\"\r\n        style={{\r\n          marginLeft: \"10px\",\r\n          fontSize: \"14px\",\r\n          height: \"90%\",\r\n          overflow: \"auto\"\r\n        }}\r\n      >\r\n        {tags.map(tag => (\r\n          <div className=\"form-check\" key={tag}>\r\n            <label className=\"form-check-label\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                name=\"tag-choices\"\r\n                id={tag}\r\n                value={tag}\r\n                checked={tagsFilter !== [] && tagsFilter.includes(tag)}\r\n                onChange={e => handleCheckboxSelect(e)}\r\n              />\r\n              {tag}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EditCollections = ({\r\n  collectionsToEdit,\r\n  handleCollectionEdit,\r\n  handleCollectionDelete\r\n}) => {\r\n  return (\r\n    <div>\r\n      {collectionsToEdit.map((c, i) => (\r\n        <div key={c._id} className=\"edit-group\">\r\n          <div\r\n            className=\"edit-group-prepend\"\r\n            data={c._id}\r\n            onClick={e => handleCollectionDelete(e)}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faMinusCircle}\r\n              style={{\r\n                color: \"red\",\r\n                fontSize: \"14px\",\r\n                margin: \"auto 10px auto 0px\"\r\n              }}\r\n              className=\"clickable\"\r\n            />\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"edit-form-control\"\r\n            aria-label=\"Small\"\r\n            value={c.name}\r\n            onChange={e => handleCollectionEdit(\"name\", c, i, e.target.value)}\r\n          />\r\n          <EditColor\r\n            color={c.color}\r\n            collection={c}\r\n            handleCollectionEdit={handleCollectionEdit}\r\n            index={i}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EditColor = ({ color, collection, handleCollectionEdit, index }) => {\r\n  const [colors, setColors] = useState([\r\n    \"#BCAAA4\",\r\n    \"#EF9A9A\",\r\n    \"#C5E1A5\",\r\n    \"#FFCC80\",\r\n    \"#CE93D8\",\r\n    \"#4FC3F7\"\r\n  ]);\r\n  const [newColor, setNewColor] = useState(\"\");\r\n\r\n  const componentStyle = {\r\n    width: \"180px\",\r\n    height: \"70px\",\r\n    display: \"grid\",\r\n    gridTemplateRows: \"30px 40px\",\r\n    gridTemplateColumns: \"auto\"\r\n  };\r\n\r\n  const divStyle = {\r\n    width: \"180px\",\r\n    height: \"30px\",\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(6, 30px)\"\r\n  };\r\n\r\n  const swatchStyle = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: \"2px\"\r\n  };\r\n\r\n  return (\r\n    <OverlayTrigger\r\n      trigger=\"click\"\r\n      placement=\"top\"\r\n      rootClose\r\n      overlay={\r\n        <div>\r\n          <Popover id={collection._id} style={{ border: `3px solid ${color}` }}>\r\n            <Popover.Title>\r\n              selected: <em>{color}</em>\r\n            </Popover.Title>\r\n            <Popover.Content>\r\n              <div style={componentStyle}>\r\n                <div style={divStyle}>\r\n                  {colors.map(c => (\r\n                    <div style={swatchStyle} key={c}>\r\n                      <div\r\n                        style={{ backgroundColor: c }}\r\n                        className=\"w100 h100 hover-grow-10 clickable\"\r\n                        onClick={() =>\r\n                          handleCollectionEdit(\"color\", collection, index, c)\r\n                        }\r\n                      ></div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    display: \"grid\",\r\n                    gridTemplateColumns: \"40% 60% auto\"\r\n                  }}\r\n                >\r\n                  <button\r\n                    className=\"btn btn-small btn-info\"\r\n                    style={{\r\n                      padding: \"2px 5px\",\r\n                      fontSize: \"12px\",\r\n                      margin: \"auto\"\r\n                    }}\r\n                    onClick={() => setColors(colors.map(() => randomColor()))}\r\n                  >\r\n                    random!\r\n                  </button>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    placeholder=\"hex key...\"\r\n                    value={newColor}\r\n                    onChange={e => setNewColor(e.target.value)}\r\n                    type=\"text\"\r\n                    maxLength=\"6\"\r\n                    style={{\r\n                      margin: \"auto\",\r\n                      padding: \"2px 25px 2px 5px\",\r\n                      height: \"auto\",\r\n                      fontSize: \"12px\"\r\n                    }}\r\n                  />\r\n                  <FontAwesomeIcon\r\n                    icon={faCheckCircle}\r\n                    style={{\r\n                      margin: \"auto\",\r\n                      position: \"relative\",\r\n                      left: \"-20px\",\r\n                      color: \"blue\",\r\n                      fontSize: \"16px\"\r\n                    }}\r\n                    className=\"clickable hover-grow-10\"\r\n                    onClick={() =>\r\n                      handleCollectionEdit(\r\n                        \"color\",\r\n                        collection,\r\n                        index,\r\n                        \"#\" + newColor\r\n                      )\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Popover.Content>\r\n          </Popover>\r\n        </div>\r\n      }\r\n    >\r\n      <div className=\"edit-group-prepend\">\r\n        <FontAwesomeIcon\r\n          icon={faFillDrip}\r\n          style={{\r\n            color: collection.color,\r\n            margin: \"auto 0px auto 10px\",\r\n            fontSize: \"14px\"\r\n          }}\r\n          className=\"clickable\"\r\n        />\r\n      </div>\r\n    </OverlayTrigger>\r\n  );\r\n};\r\n\r\nexport default NotesFilter;\r\n","import React, { Component } from \"react\";\r\nimport NotesPreview from \"./NotesPreview\";\r\nimport NotesSearch from \"./NotesSearch\";\r\nimport NotesFilter from \"./NotesFilter\";\r\n\r\nclass SideBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tagsOpen: true,\r\n      collectionFilter: \"\",\r\n      tagsFilter: []\r\n    };\r\n\r\n    this.handleCheckboxSelect = this.handleCheckboxSelect.bind(this);\r\n    this.handleRadioSelect = this.handleRadioSelect.bind(this);\r\n    this.handleDropdownClick = this.handleDropdownClick.bind(this);\r\n  }\r\n\r\n  sidebarStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"200px auto\",\r\n    margin: 0,\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  };\r\n\r\n  handleDropdownClick(e) {\r\n    const dataTarget = e.currentTarget.getAttribute(\"data-target\");\r\n    const isExpanded = e.currentTarget.getAttribute(\"aria-expanded\");\r\n\r\n    switch (dataTarget) {\r\n      case \"#collections\":\r\n        if (isExpanded === \"false\") {\r\n          this.setState({ collectionsOpen: false });\r\n        } else {\r\n          this.setState({ collectionsOpen: true });\r\n        }\r\n        break;\r\n      case \"#tags\":\r\n        if (isExpanded === \"false\") {\r\n          this.setState({ tagsOpen: false });\r\n        } else {\r\n          this.setState({ tagsOpen: true });\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleRadioSelect(event) {\r\n    this.setState({\r\n      collectionFilter: event.target.value,\r\n      tagsFilter: []\r\n    });\r\n  }\r\n\r\n  handleCheckboxSelect(event) {\r\n    let selectedTags = this.state.tagsFilter;\r\n    let tag = event.target.value;\r\n\r\n    if (selectedTags.includes(tag)) {\r\n      let newTags = selectedTags;\r\n      newTags.splice(selectedTags.indexOf(tag), 1);\r\n      this.setState({\r\n        tagsFilter: newTags\r\n      });\r\n    } else {\r\n      this.setState({\r\n        tagsFilter: [...this.state.tagsFilter, tag]\r\n      });\r\n    }\r\n  }\r\n\r\n  filter(notes) {\r\n    let filteredNotes = notes;\r\n\r\n    if (this.state.collectionFilter)\r\n      filteredNotes = filteredNotes.filter(\r\n        n => n.collection.name === this.state.collectionFilter\r\n      );\r\n\r\n    let tags = [];\r\n    filteredNotes.forEach(n => tags.push(...n.tags));\r\n    tags = [...new Set(tags)];\r\n\r\n    if (this.state.tagsFilter.length > 0) {\r\n      let lowerTags = this.state.tagsFilter.map(t => t.toLowerCase());\r\n\r\n      filteredNotes = filteredNotes.filter(n => {\r\n        let combinedTags = [...n.tags.map(n => n.toLowerCase()), ...lowerTags];\r\n        let setTags = [...new Set(combinedTags)];\r\n        return setTags.length !== combinedTags.length;\r\n      });\r\n    }\r\n\r\n    return { filteredNotes, tags };\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      searchQuery,\r\n      allNotes,\r\n      selectedNote,\r\n      onSearch,\r\n      onClear,\r\n      collections,\r\n      updateCollections\r\n    } = this.props;\r\n\r\n    let tags = [];\r\n\r\n    if (allNotes) {\r\n      let notes = this.filter(allNotes);\r\n      allNotes = notes.filteredNotes;\r\n      tags = notes.tags;\r\n    }\r\n\r\n    return (\r\n      <div style={this.sidebarStyle}>\r\n        <NotesFilter\r\n          handleDropdownClick={this.handleDropdownClick}\r\n          handleRadioSelect={this.handleRadioSelect}\r\n          handleCheckboxSelect={this.handleCheckboxSelect}\r\n          collectionFilter={this.state.collectionFilter}\r\n          tagsFilter={this.state.tagsFilter}\r\n          collections={collections}\r\n          tags={tags}\r\n          key={collections.length}\r\n          updateCollections={updateCollections}\r\n          allNotes={allNotes}\r\n        />\r\n        <div className=\"sidebar-preview bg-light-gray\">\r\n          <NotesSearch\r\n            onSearch={onSearch}\r\n            searchQuery={searchQuery}\r\n            onClear={onClear}\r\n          />\r\n          <NotesPreview\r\n            allNotes={allNotes}\r\n            selectedNote={selectedNote}\r\n            searchQuery={searchQuery}\r\n            collections={collections}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideBar;\r\n","export const NOTES = [\r\n  {\r\n    _id: \"fg0gr34hgioa98g4\",\r\n    title: \"Portland Trail Blazers\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"rhc1\",\r\n          text: \"Just some notes....\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"81bq5\",\r\n          text: \"\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"20eqn\",\r\n          text: \"Lineup\",\r\n          type: \"header-three\",\r\n          depth: 0,\r\n          inlineStyleRanges: [\r\n            {\r\n              offset: 0,\r\n              length: 6,\r\n              style: \"UNDERLINE\"\r\n            }\r\n          ],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"46tkh\",\r\n          text: \"Damian Lillard\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"aboo4\",\r\n          text: \"CJ McCollum\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"fupsb\",\r\n          text: \"Jusif Nurkic\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"c3u3r\",\r\n          text: \"Kent Bazemore\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"5cr5i\",\r\n          text: \"Rodney Hood\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    tags: [\"Portland\", \"Sports\", \"Basketball\"],\r\n    collection: {\r\n      _id: \"rht5wsbsgnw\",\r\n      name: \"Sports\",\r\n      color: \"greenyellow\"\r\n    },\r\n    updated: \"2019-07-11T04:05:42.426Z\"\r\n  },\r\n  {\r\n    _id: \"yh533g54yh5335y4gs4\",\r\n    title: \"Sapiens\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"6ef7d\",\r\n          text: \"Insert some book notes here. Nothing much...\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    tags: [\"Books\", \"History\"],\r\n    collection: {\r\n      _id: \"adsfasdfadsf\",\r\n      name: \"Books\",\r\n      color: \"cyan\"\r\n    },\r\n    updated: \"2019-03-11T04:05:42.426Z\"\r\n  },\r\n  {\r\n    _id: \"thtrjsbehrytu5667s5335y\",\r\n    title: \"Sandy Ridge Trails\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"rhc1\",\r\n          text: \"Some of the best mountain biking in Oregon\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    tags: [\"Portland\", \"Mountain Biking\"],\r\n    collection: {\r\n      _id: \"nvcxcbvtsasdg\",\r\n      name: \"Other\",\r\n      color: \"lightgray\"\r\n    },\r\n    updated: \"2019-08-11T04:05:42.426Z\"\r\n  }\r\n];\r\n\r\nexport function getNote(id) {\r\n  return NOTES.find(n => n._id === id);\r\n}\r\n","export const COLLECTIONS = [\r\n  {\r\n    _id: \"adsfasdfadsf\",\r\n    name: \"Books\",\r\n    color: \"cyan\"\r\n  },\r\n  {\r\n    _id: \"rht5wsbsgnw\",\r\n    name: \"Sports\",\r\n    color: \"greenyellow\"\r\n  },\r\n  {\r\n    _id: \"nvcxcbvtsasdg\",\r\n    name: \"Other\",\r\n    color: \"lightgray\"\r\n  }\r\n];\r\n\r\nexport function getCollection(id) {\r\n  return COLLECTIONS.find(c => c._id === id);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport DraftEditor from \"./DraftEditor\";\r\nimport { EditorState, convertToRaw, convertFromRaw } from \"draft-js\";\r\nimport SideBar from \"./SideBar\";\r\nimport { NOTES } from \"../services/fakePostsService\";\r\nimport { COLLECTIONS } from \"../services/fakeCollectionsService\";\r\nimport \"../css/notes.css\";\r\n\r\nclass Notes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allNotes: null,\r\n      errors: {},\r\n      editorState: EditorState.createEmpty(),\r\n      selectedNote: null,\r\n      searchQuery: \"\",\r\n      collections: []\r\n    };\r\n\r\n    this.onEditorChange = editorState => {\r\n      this.setState({ editorState });\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id || null;\r\n\r\n    if (!id || !NOTES)\r\n      return this.setState({ allNotes: NOTES, collections: COLLECTIONS });\r\n\r\n    const note = NOTES.find(n => n._id === id) || null;\r\n    const editorState = note\r\n      ? EditorState.createWithContent(convertFromRaw(note.content))\r\n      : EditorState.createEmpty();\r\n\r\n    this.setState({\r\n      allNotes: NOTES,\r\n      collections: COLLECTIONS,\r\n      selectedNote: note,\r\n      editorState\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const id = this.props.match.params.id;\r\n\r\n    if (!id || !this.state.allNotes) return;\r\n\r\n    if (id === \"new\") {\r\n      this.setState({\r\n        editorState: EditorState.createEmpty(),\r\n        selectedNote: null,\r\n        title: \"\"\r\n      });\r\n      return this.props.history.replace(\"/notes\");\r\n    }\r\n\r\n    const note = this.state.allNotes.find(n => n._id === id);\r\n    if (!note) return this.props.history.replace(\"/notes\");\r\n    const editorState = EditorState.createWithContent(\r\n      convertFromRaw(note.content)\r\n    );\r\n\r\n    if (this.state.selectedNote && id !== this.state.selectedNote._id)\r\n      return this.setState({ selectedNote: note, editorState });\r\n\r\n    if (!this.state.selectedNote)\r\n      return this.setState({ selectedNote: note, editorState });\r\n  }\r\n\r\n  handleSearch = query => {\r\n    this.setState({ searchQuery: query });\r\n  };\r\n\r\n  handleClear = () => {\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  updateSelectedNote = note => {\r\n    this.setState({ selectedNote: note });\r\n  };\r\n\r\n  updateCollections = (newCollection, action) => {\r\n    let collections = [...this.state.collections];\r\n    let allNotes = [...this.state.allNotes];\r\n    let indexToUpdate = collections.findIndex(c => c._id === newCollection._id);\r\n\r\n    if (action === \"delete\") {\r\n      collections.splice(indexToUpdate, 1);\r\n    } else if (action === \"edit\") {\r\n      collections.splice(indexToUpdate, 1, newCollection);\r\n    }\r\n    let notesToChange = allNotes\r\n      .filter(n => n.collection._id === newCollection._id)\r\n      .map(n => ({\r\n        _id: n._id,\r\n        title: n.title,\r\n        content: n.content,\r\n        tags: n.tags,\r\n        collection: action === \"edit\" ? newCollection : {},\r\n        updated: n.updated\r\n      }));\r\n\r\n    notesToChange.forEach(newNote => {\r\n      allNotes.splice(\r\n        allNotes.findIndex(oldNote => newNote._id === oldNote._id),\r\n        1,\r\n        newNote\r\n      );\r\n    });\r\n\r\n    if (!collections.includes(newCollection) && action === \"add\")\r\n      collections.push(newCollection);\r\n\r\n    return this.setState({ collections, allNotes });\r\n  };\r\n\r\n  save = selectedNote => {\r\n    const { allNotes, editorState } = this.state;\r\n    const currentEditorContent = convertToRaw(editorState.getCurrentContent());\r\n\r\n    const newNote = {\r\n      _id: (selectedNote && selectedNote._id) || Date.now().toString(),\r\n      title: (selectedNote && selectedNote.title) || \"\",\r\n      content: currentEditorContent,\r\n      tags: (selectedNote && selectedNote.tags) || [],\r\n      collection: (selectedNote && selectedNote.collection) || {}\r\n    };\r\n\r\n    try {\r\n      const existingIndex = allNotes.findIndex(n => n._id === selectedNote._id);\r\n      if (existingIndex !== -1) {\r\n        allNotes.splice(existingIndex, 1, newNote);\r\n        this.setState({ allNotes, selectedNote: newNote });\r\n      } else {\r\n        allNotes.push(newNote);\r\n        this.setState({ allNotes, selectedNote: newNote });\r\n        this.props.history.replace(`/notes/${newNote._id}`);\r\n      }\r\n    } catch {\r\n      allNotes.push(newNote);\r\n      this.setState({ allNotes, selectedNote: newNote });\r\n      this.props.history.replace(`/notes/${newNote._id}`);\r\n    }\r\n\r\n    if (\r\n      newNote.collection._id &&\r\n      this.state.collections.filter(c => c._id === newNote.collection._id)\r\n        .length === 0\r\n    ) {\r\n      let collections = this.state.collections;\r\n      collections.push(newNote.collection);\r\n      this.setState({ collections });\r\n    }\r\n  };\r\n\r\n  handleDelete = () => {\r\n    let id = this.props.match.params.id;\r\n\r\n    this.setState({\r\n      allNotes: this.state.allNotes.filter(n => n._id !== id),\r\n      editorState: EditorState.createEmpty(),\r\n      selectedNote: null,\r\n      title: \"\"\r\n    });\r\n    this.props.history.replace(\"/notes\");\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      editorState,\r\n      allNotes,\r\n      searchQuery,\r\n      collections,\r\n      selectedNote,\r\n      title\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"app-page\">\r\n        <SideBar\r\n          editorState={editorState}\r\n          allNotes={allNotes}\r\n          onSearch={this.handleSearch}\r\n          searchQuery={searchQuery}\r\n          onClear={this.handleClear}\r\n          collections={collections}\r\n          selectedNote={selectedNote}\r\n          updateCollections={this.updateCollections}\r\n        />\r\n        <DraftEditor\r\n          onEditorChange={this.onEditorChange}\r\n          handleTitle={this.handleTitle}\r\n          title={title}\r\n          save={this.save}\r\n          handleDelete={this.handleDelete}\r\n          updateSelectedNote={this.updateSelectedNote}\r\n          collections={collections}\r\n          editorState={editorState}\r\n          selectedNote={selectedNote}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notes;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport Notes from \"./components/Notes\";\r\nimport \"./css/App.css\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <NavBar />\r\n        <main className=\"app-background\">\r\n          <Switch>\r\n            <Route path=\"/notes/:id\" component={Notes} />\r\n            <Route path=\"/notes\" component={Notes} />\r\n            <Redirect from=\"/\" exact to=\"/notes\" />\r\n          </Switch>\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/js/dist/collapse\";\r\nimport \"font-awesome/css/font-awesome.css\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}