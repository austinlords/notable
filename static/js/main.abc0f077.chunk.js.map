{"version":3,"sources":["config.js","services/auth.js","context/AppContext.js","components/NavBar.jsx","components/common/CollectionPreview.jsx","utils/randomColor.js","components/EditorCollections.jsx","components/common/TagsPreview.jsx","components/EditorTags.jsx","components/EditorMenu.jsx","components/DraftEditor.jsx","components/NotesPreview.jsx","components/NotesSearch.jsx","components/NotesFilter.jsx","components/SideBar.jsx","services/notesService.js","services/collectionsService.js","services/demoNotesService.js","services/demoCollectionsService.js","components/Notes.jsx","components/Login/Login.jsx","components/Login/Register.jsx","App.js","index.js"],"names":["module","exports","apiUrl","notesPreviewLength","logout","a","fetch","config","method","credentials","response","status","json","body","toast","message","Error","error","validateUser","user","login","email","password","JSON","stringify","trim","toLowerCase","mode","headers","register","React","createContext","NavBar","AppContext","Consumer","value","e","updateUser","className","to","onClick","style","color","CollectionPreview","fontSize","collection","len","length","colStr","hasOwnProperty","name","slice","linkStyle","fontStyle","cursor","icon","faBook","marginRight","transform","randomColor","Math","random","toString","substr","EditorCollections","state","collectionPopoverOpen","newCollection","onChange","event","setState","target","togglePopover","handleCollectionSelect","note","props","selectedNote","currentTarget","getAttribute","save","collections","find","c","_id","pressEnter","keyCode","Date","now","title","content","convertToRaw","editorState","getCurrentContent","tags","this","textAlign","padding","id","UncontrolledPopover","placement","isOpen","trigger","toggle","PopoverHeader","PopoverBody","key","map","type","checked","data","faMinusCircle","placeholder","marginTop","lineHeight","width","height","onKeyDown","Component","TagsPreview","iconColor","tagLen","tagsStr","join","faTags","EditorTags","tagsPopoverOpen","newTag","handleTagsDelete","tag","filter","t","includes","push","autoFocus","EditorMenu","menuStyle","margin","display","justifyContent","crudStyle","alignItems","metaDataStyle","handleDelete","aria-hidden","DraftEditor","handleTitle","updateSelectedNote","currentEditorContent","controlsStyle","fontFamily","verticalLine","borderRight","focus","editor","handleKeyCommand","_handleKeyCommand","bind","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","command","newState","RichUtils","onEditorChange","blockType","inlineStyle","onToggle","blockStyleFn","getBlockStyle","customStyleMap","styleMap","keyBindingFn","mapKeyToEditorCommand","ref","spellCheck","CODE","backgroundColor","block","getType","StyleButton","preventDefault","active","onMouseDown","label","BLOCK_TYPES","BlockStyleControls","selection","getSelection","getBlockForKey","getStartKey","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","NotesPreview","listItemStyle","background","previewStyle","tagsStyle","marginLeft","collectionStyle","borderRadius","writingMode","letterSpacing","fontWeight","individualNotes","gridTemplateColumns","marginBottom","notes","search","searchQuery","n","blocks","el","text","generateSearchPreview","previewText","startIndex","indexOf","endIndex","previewLength","pre","highlight","post","generateTitle","runRender","prevProps","allNotes","filtered","moment","updated","format","NotesSearch","onSearch","onClear","NotesFilter","editMode","collectionsToEdit","toggleEditMode","currentCollections","index","forEach","updateCollections","handleCollectionDelete","collectionId","handleCollectionEdit","collectionToUpdate","splice","handleColorChange","colorChange","hex","filterStyle","gridTemplateRows","overflow","handleRadioSelect","handleCheckboxSelect","collectionFilter","tagsFilter","Profile","profileDivStyle","profileContentStyle","faUserCircle","Buttons","useState","popoverOpen","setNewCollection","buttonStyle","faPlus","faCheckCircle","faEdit","collectionTagStyle","dropdownTitle","CollectionFilter","dropdownOpen","setDropdownOpen","data-toggle","data-target","aria-expanded","aria-controls","faCaretDown","faCaretRight","paddingLeft","TagFilter","EditCollections","i","aria-label","EditColor","colors","setColors","newColor","setNewColor","swatchStyle","OverlayTrigger","rootClose","overlay","Popover","border","Title","Content","maxLength","position","left","faFillDrip","SideBar","sidebarStyle","tagsOpen","handleDropdownClick","dataTarget","isExpanded","collectionsOpen","selectedTags","newTags","filteredNotes","Set","lowerTags","combinedTags","getNotes","info","col","console","log","postNote","updatedNote","putNote","deleteNote","ok","getCollections","postCollection","updatedCollection","putCollection","deleteCollection","DEMONOTES","depth","inlineStyleRanges","entityRanges","offset","entityMap","DEMOCOLLECTIONS","Notes","handleSearch","query","handleClear","action","indexToUpdate","findIndex","notesToChange","newNote","oldNote","match","params","Object","create","existingIndex","isNewCollection","savedNote","redirectId","history","replace","EditorState","createEmpty","errors","NOTES","COLLECTIONS","createWithContent","convertFromRaw","Login","setEmail","setPassword","handleLogin","newUser","onSubmit","aria-describedby","required","minLength","form","Register","handleRegister","App","receivedAsyncData","Fragment","Provider","path","render","from","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.abc0f077.chunk.js","sourcesContent":["module.exports = {\r\n  apiUrl: \"https://notes-notable.herokuapp.com/api/\",\r\n  notesPreviewLength: 75\r\n};\r\n","import config from \"../config\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const response = await fetch(`${config.apiUrl}logout`, {\r\n      method: \"POST\",\r\n      credentials: \"include\"\r\n    });\r\n    if (response.status === 200) {\r\n      let body = await response.json();\r\n      toast(body.message);\r\n      return 200;\r\n    } else {\r\n      throw new Error(\"Could not log out user. Please try again.\");\r\n    }\r\n  } catch (error) {\r\n    toast.error(\"Server error: \", error);\r\n  }\r\n};\r\n\r\nexport const validateUser = async () => {\r\n  try {\r\n    const response = await fetch(config.apiUrl + \"user\", {\r\n      credentials: \"include\"\r\n    });\r\n    if (response.status !== 200) {\r\n      return null;\r\n    } else {\r\n      const user = await response.json();\r\n      return user;\r\n    }\r\n  } catch (error) {\r\n    toast.error(\"Server error: \", error);\r\n  }\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const response = await fetch(`${config.apiUrl}login`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email: email.trim().toLowerCase(),\r\n        password: password.trim()\r\n      }),\r\n      mode: \"cors\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    const user = await response.json();\r\n    if (response.status !== 200) {\r\n      toast.error(user.message);\r\n      return null;\r\n    }\r\n    return user;\r\n  } catch (error) {\r\n    toast.error(\"network error: \", error);\r\n  }\r\n};\r\n\r\nexport const register = async (email, password) => {\r\n  try {\r\n    const response = await fetch(`${config.apiUrl}register`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email: email.trim().toLowerCase(),\r\n        password: password.trim()\r\n      }),\r\n      mode: \"cors\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    const user = await response.json();\r\n    if (response.status !== 200) {\r\n      toast.error(user.message);\r\n      return null;\r\n    }\r\n    return user;\r\n  } catch (error) {\r\n    toast.error(\"network error: \", error);\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nexport default React.createContext({});\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout } from \"../services/auth\";\r\nimport { toast } from \"react-toastify\";\r\nimport AppContext from \"../context/AppContext\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <AppContext.Consumer>\r\n      {value => {\r\n        async function handleLogout(e) {\r\n          try {\r\n            const status = await logout();\r\n            if (status === 200) value.updateUser(null);\r\n          } catch (error) {\r\n            return toast.error(error);\r\n          }\r\n        }\r\n\r\n        return (\r\n          <nav className=\"app-navbar\">\r\n            <Link className=\"navbar-brand\" to=\"/\">\r\n              Notable\r\n            </Link>\r\n\r\n            <div className=\"\">\r\n              {value.user ? (\r\n                <div>\r\n                  <span\r\n                    className=\"navBar-link clickable\"\r\n                    onClick={handleLogout}\r\n                    style={{ color: \"orange\" }}\r\n                  >\r\n                    Logout\r\n                  </span>\r\n                </div>\r\n              ) : (\r\n                <Link to=\"/login\">Login</Link>\r\n              )}\r\n            </div>\r\n          </nav>\r\n        );\r\n      }}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBook } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst CollectionPreview = ({ fontSize, collection, style, length }) => {\r\n  let len = length || 20;\r\n  let colStr = collection.hasOwnProperty(\"name\")\r\n    ? collection.name\r\n    : \"(collection)\";\r\n\r\n  if (colStr.length > len) colStr = colStr.slice(0, len) + \"...\";\r\n\r\n  const linkStyle = {\r\n    color: \"blue\",\r\n    fontStyle: \"italic\",\r\n    cursor: \"pointer\",\r\n    fontSize\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...linkStyle, ...style }}>\r\n      <FontAwesomeIcon\r\n        icon={faBook}\r\n        style={{\r\n          color: \"black\",\r\n          marginRight: \"10px\",\r\n          transform: \"rotate(-20deg)\"\r\n        }}\r\n      />\r\n      <span>{colStr}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectionPreview;\r\n","export default function randomColor() {\r\n  return (\r\n    \"#\" +\r\n    Math.random()\r\n      .toString(16)\r\n      .substr(-6)\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport { UncontrolledPopover, PopoverBody, PopoverHeader } from \"reactstrap\";\r\nimport CollectionPreview from \"./common/CollectionPreview\";\r\nimport randomColor from \"./../utils/randomColor\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nclass EditorCollections extends Component {\r\n  state = {\r\n    collectionPopoverOpen: false,\r\n    newCollection: \"\"\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newCollection: event.target.value });\r\n  };\r\n\r\n  togglePopover = () => {\r\n    this.setState({\r\n      collectionPopoverOpen: !this.state.collectionPopoverOpen\r\n    });\r\n  };\r\n\r\n  handleCollectionSelect = event => {\r\n    const note = { ...this.props.selectedNote };\r\n\r\n    if (event.currentTarget.getAttribute(\"data\") === \"delete\") {\r\n      note.collection = {};\r\n      this.props.save(note);\r\n    } else {\r\n      let { color, _id, name } = this.props.collections.find(\r\n        c => c._id === event.target.value\r\n      );\r\n      note.collection = { _id, name, color };\r\n      this.props.save(note);\r\n    }\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    let note = this.props.selectedNote\r\n      ? { ...this.props.selectedNote }\r\n      : {\r\n          _id: Date.now().toString(),\r\n          title: \"\",\r\n          content: convertToRaw(this.props.editorState.getCurrentContent()),\r\n          tags: [],\r\n          collection: {}\r\n        };\r\n    // don't allow duplicate collections\r\n    if (note.collection.name === this.state.newCollection) return;\r\n\r\n    note.collection = {\r\n      _id: Date.now().toString(),\r\n      name: this.state.newCollection,\r\n      color: randomColor()\r\n    };\r\n    this.setState({ newCollection: \"\" });\r\n    this.props.save(note);\r\n  };\r\n\r\n  render() {\r\n    const { selectedNote, collections } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{ textAlign: \"right\", padding: \"0px 10px\" }}\r\n        id=\"collection-popover-link\"\r\n        className=\"link-no-underline\"\r\n      >\r\n        <CollectionPreview\r\n          fontSize=\"12px\"\r\n          collection={selectedNote ? selectedNote.collection : {}}\r\n        />\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.collectionPopoverOpen}\r\n          target=\"collection-popover-link\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverHeader>select collection:</PopoverHeader>\r\n          <PopoverBody key={selectedNote ? selectedNote.collection.name : \"\"}>\r\n            {collections ? (\r\n              collections.map(c => (\r\n                <div className=\"form-check clickable\" key={c._id}>\r\n                  <label className=\"form-check-label\">\r\n                    <input\r\n                      className=\"form-check-input\"\r\n                      type=\"radio\"\r\n                      name=\"select-collection-choices\"\r\n                      value={c._id}\r\n                      checked={\r\n                        selectedNote\r\n                          ? selectedNote.collection.name === c.name\r\n                          : false\r\n                      }\r\n                      onChange={e => this.handleCollectionSelect(e)}\r\n                    />\r\n                    {c.name}\r\n                  </label>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            {collections.length > 0 &&\r\n            selectedNote &&\r\n            selectedNote.collection.hasOwnProperty(\"_id\") ? (\r\n              <div\r\n                className=\"clickable\"\r\n                style={{ color: \"red\" }}\r\n                onClick={e => this.handleCollectionSelect(e)}\r\n                data=\"delete\"\r\n              >\r\n                <FontAwesomeIcon icon={faMinusCircle} />{\" \"}\r\n                <span>\r\n                  <em>clear collection</em>\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newCollection}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new collection...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                marginTop: \"10px\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>{\" \"}\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorCollections;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTags } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst TagsPreview = ({ fontSize, tags, style, length, iconColor }) => {\r\n  let tagLen = length || 40;\r\n  let tagsStr = tags.length > 0 ? tags.join(\", \") : \"(tags)\";\r\n\r\n  if (tagsStr.length > tagLen) tagsStr = tagsStr.slice(0, tagLen) + \"...\";\r\n\r\n  const linkStyle = {\r\n    color: \"orangered\",\r\n    fontStyle: \"italic\",\r\n    cursor: \"pointer\",\r\n    fontSize\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...linkStyle, ...style }}>\r\n      <FontAwesomeIcon\r\n        icon={faTags}\r\n        style={{ color: iconColor, marginRight: \"10px\" }}\r\n      />\r\n      <span>{tagsStr}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagsPreview;\r\n","import React, { Component } from \"react\";\r\nimport { convertToRaw } from \"draft-js\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { UncontrolledPopover, PopoverBody, PopoverHeader } from \"reactstrap\";\r\nimport TagsPreview from \"./common/TagsPreview\";\r\n\r\nclass EditorTags extends Component {\r\n  state = { tagsPopoverOpen: false, newTag: \"\" };\r\n\r\n  togglePopover = () => {\r\n    this.setState({ tagsPopoverOpen: !this.state.tagsPopoverOpen });\r\n  };\r\n\r\n  handleTagsDelete = event => {\r\n    const tag = event.currentTarget.getAttribute(\"data\");\r\n    let note = { ...this.props.selectedNote };\r\n    note.tags = note.tags.filter(t => t !== tag);\r\n    this.props.save(note);\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ newTag: event.target.value });\r\n  };\r\n\r\n  pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    let note = this.props.selectedNote\r\n      ? { ...this.props.selectedNote }\r\n      : {\r\n          _id: Date.now().toString(),\r\n          title: \"\",\r\n          content: convertToRaw(this.props.editorState.getCurrentContent()),\r\n          tags: [],\r\n          collection: {}\r\n        };\r\n    // don't allow duplicate tags\r\n    if (note.tags.includes(this.state.newTag)) return;\r\n\r\n    note.tags.push(this.state.newTag);\r\n    this.props.save(note);\r\n    this.setState({ newTag: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { selectedNote } = this.props;\r\n\r\n    return (\r\n      <div\r\n        style={{ textAlign: \"right\", padding: \"0px 10px\" }}\r\n        id=\"tags-popover-link\"\r\n      >\r\n        <TagsPreview\r\n          fontSize=\"12px\"\r\n          tags={selectedNote ? selectedNote.tags : {}}\r\n          iconColor=\"black\"\r\n        />\r\n        <UncontrolledPopover\r\n          placement=\"bottom\"\r\n          isOpen={this.state.tagsPopoverOpen}\r\n          target=\"tags-popover-link\"\r\n          trigger=\"legacy\"\r\n          toggle={() => this.togglePopover()}\r\n        >\r\n          <PopoverHeader>edit tags:</PopoverHeader>\r\n          <PopoverBody key={selectedNote ? selectedNote.tags.length : 0}>\r\n            {selectedNote ? (\r\n              selectedNote.tags.map(tag => (\r\n                <div key={tag}>\r\n                  <span data={tag} onClick={e => this.handleTagsDelete(e)}>\r\n                    <FontAwesomeIcon\r\n                      icon={faMinusCircle}\r\n                      style={{ color: \"red\", marginRight: \"10px\" }}\r\n                    />\r\n                  </span>\r\n                  <label className=\"form-check-label\">{tag}</label>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.newTag}\r\n              onChange={e => this.onChange(e)}\r\n              placeholder=\"new tag...\"\r\n              style={{\r\n                fontSize: \".9rem\",\r\n                lineHeight: \"1\",\r\n                padding: \"0px .75rem\",\r\n                marginTop: \"10px\",\r\n                width: \"150px\",\r\n                height: \"calc(2rem + 2px)\"\r\n              }}\r\n              onKeyDown={this.pressEnter}\r\n              autoFocus\r\n            />\r\n            <small>\r\n              <em>press Enter to save</em>\r\n            </small>\r\n          </PopoverBody>\r\n        </UncontrolledPopover>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorTags;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EditorCollections from \"./EditorCollections\";\r\nimport EditorTags from \"./EditorTags\";\r\n\r\nclass EditorMenu extends Component {\r\n  state = {};\r\n\r\n  menuStyle = {\r\n    margin: \"auto\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    display: \"inline-flex\",\r\n    justifyContent: \"space-between\"\r\n  };\r\n\r\n  crudStyle = {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-around\",\r\n    width: \"200px\",\r\n    height: \"100%\",\r\n    fontSize: \"12px\"\r\n  };\r\n\r\n  metaDataStyle = {\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    fontSize: \"12px\"\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      save,\r\n      handleDelete,\r\n      selectedNote,\r\n      collections,\r\n      editorState\r\n    } = this.props;\r\n\r\n    return (\r\n      <div style={this.menuStyle}>\r\n        <div id=\"crud-operations\" style={this.crudStyle}>\r\n          <Link to=\"/notes/new\">\r\n            <div className=\"clickable editor-menu-option\">\r\n              <i className=\"fa fa-plus\" aria-hidden=\"true\" />\r\n              <span> New Note</span>\r\n            </div>\r\n          </Link>\r\n          <div className=\"clickable editor-menu-option\" onClick={handleDelete}>\r\n            <i className=\"fa fa-trash\" aria-hidden=\"true\" />\r\n            <span> Delete</span>\r\n          </div>\r\n          <div\r\n            className=\"clickable editor-menu-option\"\r\n            onClick={() => save(selectedNote)}\r\n          >\r\n            <i className=\"fa fa-floppy-o\" aria-hidden=\"true\" />\r\n            <span> Save</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"notes-meta-data\" style={this.metaDataStyle}>\r\n          <EditorCollections\r\n            selectedNote={selectedNote}\r\n            collections={collections}\r\n            save={save}\r\n            editorState={editorState}\r\n          />\r\n          <EditorTags\r\n            selectedNote={selectedNote}\r\n            save={save}\r\n            editorState={editorState}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorMenu;\r\n","import React from \"react\";\r\nimport { Editor, RichUtils, convertToRaw } from \"draft-js\";\r\nimport Textarea from \"react-expanding-textarea\";\r\nimport EditorMenu from \"./EditorMenu\";\r\nimport \"../css/notes.css\";\r\nimport \"draft-js/dist/Draft.css\";\r\n\r\nclass DraftEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.focus = () => this.editor.focus();\r\n\r\n    this.handleKeyCommand = this._handleKeyCommand.bind(this);\r\n    this.toggleBlockType = this._toggleBlockType.bind(this);\r\n    this.toggleInlineStyle = this._toggleInlineStyle.bind(this);\r\n  }\r\n\r\n  handleTitle = title => {\r\n    if (this.props.selectedNote) {\r\n      const note = { ...this.props.selectedNote };\r\n      note.title = title;\r\n      return this.props.updateSelectedNote(note);\r\n    } else {\r\n      const currentEditorContent = convertToRaw(\r\n        this.props.editorState.getCurrentContent()\r\n      );\r\n      const note = {\r\n        _id: Date.now().toString(),\r\n        title: title,\r\n        content: currentEditorContent,\r\n        tags: [],\r\n        collection: {}\r\n      };\r\n      return this.props.updateSelectedNote(note);\r\n    }\r\n  };\r\n\r\n  _handleKeyCommand(command, editorState) {\r\n    const newState = RichUtils.handleKeyCommand(editorState, command);\r\n    if (newState) {\r\n      this.props.onEditorChange(newState);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  _toggleBlockType(blockType) {\r\n    this.props.onEditorChange(\r\n      RichUtils.toggleBlockType(this.props.editorState, blockType)\r\n    );\r\n  }\r\n\r\n  _toggleInlineStyle(inlineStyle) {\r\n    this.props.onEditorChange(\r\n      RichUtils.toggleInlineStyle(this.props.editorState, inlineStyle)\r\n    );\r\n  }\r\n\r\n  controlsStyle = {\r\n    display: \"inline-flex\",\r\n    fontFamily: \"Arial, Helvetica, sans-serif\",\r\n    fontSize: \"14px\",\r\n    margin: \"auto 0px\"\r\n  };\r\n\r\n  verticalLine = {\r\n    width: \"1px\",\r\n    height: \"20px\",\r\n    borderRight: \"1px solid grey\",\r\n    margin: \"auto 5px\"\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"editor-window\">\r\n        <div className=\"editor-menu\">\r\n          <EditorMenu\r\n            save={this.props.save}\r\n            handleDelete={this.props.handleDelete}\r\n            selectedNote={this.props.selectedNote}\r\n            collections={this.props.collections}\r\n            updateSelectedNote={this.props.updateSelectedNote}\r\n            editorState={this.props.editorState}\r\n          />\r\n          <div id=\"stying-controls\" style={this.controlsStyle}>\r\n            <InlineStyleControls\r\n              editorState={this.props.editorState}\r\n              onToggle={this.toggleInlineStyle}\r\n            />\r\n            <div style={this.verticalLine}></div>\r\n            <BlockStyleControls\r\n              editorState={this.props.editorState}\r\n              onToggle={this.toggleBlockType}\r\n            />\r\n            <hr></hr>\r\n          </div>\r\n        </div>\r\n        <div id=\"rich-text-editor\">\r\n          <div>\r\n            <Textarea\r\n              className=\"textarea\"\r\n              id=\"title-textarea\"\r\n              placeholder=\"Title...\"\r\n              value={\r\n                this.props.selectedNote ? this.props.selectedNote.title : \"\"\r\n              }\r\n              onChange={e => this.handleTitle(e.target.value)}\r\n            />\r\n            <hr></hr>\r\n          </div>\r\n          <div className=\"editor-edit\" onClick={this.focus}>\r\n            <Editor\r\n              blockStyleFn={getBlockStyle}\r\n              customStyleMap={styleMap}\r\n              editorState={this.props.editorState}\r\n              handleKeyCommand={this.handleKeyCommand}\r\n              keyBindingFn={this.mapKeyToEditorCommand}\r\n              onChange={this.props.onEditorChange}\r\n              ref={ref => (this.editor = ref)}\r\n              spellCheck={true}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Custom overrides for \"code\" style.\r\nconst styleMap = {\r\n  CODE: {\r\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\r\n    fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\r\n    fontSize: 16,\r\n    padding: 2\r\n  }\r\n};\r\n\r\nfunction getBlockStyle(block) {\r\n  switch (block.getType()) {\r\n    case \"blockquote\":\r\n      return \"RichEditor-blockquote\";\r\n    case \"code-block\":\r\n      return \"editor-code\";\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nclass StyleButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onToggle = e => {\r\n      e.preventDefault();\r\n      props.onToggle(props.style);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let className = \"editor-styleButton\";\r\n    if (this.props.active) {\r\n      className += \" editor-activeButton\";\r\n    }\r\n\r\n    return (\r\n      <span className={className} onMouseDown={this.onToggle}>\r\n        {this.props.label}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nconst BLOCK_TYPES = [\r\n  { label: \"Title\", style: \"header-one\" },\r\n  { label: \"Header\", style: \"header-three\" },\r\n  {\r\n    label: <i className=\"fa fa-list-ul\" aria-hidden=\"true\"></i>,\r\n    style: \"unordered-list-item\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-list-ol\" aria-hidden=\"true\"></i>,\r\n    style: \"ordered-list-item\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-code\" aria-hidden=\"true\"></i>,\r\n    style: \"code-block\"\r\n  }\r\n];\r\n\r\nconst BlockStyleControls = ({ editorState, onToggle }) => {\r\n  const selection = editorState.getSelection();\r\n  const blockType = editorState\r\n    .getCurrentContent()\r\n    .getBlockForKey(selection.getStartKey())\r\n    .getType();\r\n\r\n  return (\r\n    <div className=\"editor-control-row\">\r\n      {BLOCK_TYPES.map(type => (\r\n        <StyleButton\r\n          key={type.style}\r\n          active={type.style === blockType}\r\n          label={type.label}\r\n          onToggle={onToggle}\r\n          style={type.style}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nvar INLINE_STYLES = [\r\n  { label: <i className=\"fa fa-bold\" aria-hidden=\"true\"></i>, style: \"BOLD\" },\r\n  {\r\n    label: <i className=\"fa fa-italic\" aria-hidden=\"true\"></i>,\r\n    style: \"ITALIC\"\r\n  },\r\n  {\r\n    label: <i className=\"fa fa-underline\" aria-hidden=\"true\"></i>,\r\n    style: \"UNDERLINE\"\r\n  },\r\n  { label: \"Monospace\", style: \"CODE\" }\r\n];\r\n\r\nconst InlineStyleControls = ({ editorState, onToggle }) => {\r\n  var currentStyle = editorState.getCurrentInlineStyle();\r\n  return (\r\n    <div className=\"editor-control-row\">\r\n      {INLINE_STYLES.map(type => (\r\n        <StyleButton\r\n          key={type.style}\r\n          active={currentStyle.has(type.style)}\r\n          label={type.label}\r\n          onToggle={onToggle}\r\n          style={type.style}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraftEditor;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport TagsPreview from \"./common/TagsPreview\";\r\nimport config from \"../config\";\r\n\r\nclass NotesPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      runRender: false\r\n    };\r\n  }\r\n\r\n  listItemStyle = {\r\n    padding: \"0.5em 0.75em\",\r\n    background: \"white\"\r\n  };\r\n\r\n  previewStyle = {\r\n    fontSize: 12,\r\n    margin: \"3px 0px\",\r\n    lineHeight: 1.25\r\n  };\r\n\r\n  tagsStyle = {\r\n    fontSize: 11,\r\n    fontStyle: \"italic\",\r\n    marginLeft: \"5px\",\r\n    color: \"orangered\"\r\n  };\r\n\r\n  collectionStyle = {\r\n    margin: \"5px 5px 5px 0px\",\r\n    borderRadius: \"0 8px 8px 0\",\r\n    writingMode: \"vertical-rl\",\r\n    textAlign: \"center\",\r\n    fontSize: \"11px\",\r\n    letterSpacing: \"0.5px\",\r\n    fontWeight: \"bold\",\r\n    fontStyle: \"oblique\"\r\n  };\r\n\r\n  individualNotes = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"20px auto\",\r\n    width: \"100%\",\r\n    padding: \"1px\",\r\n    marginBottom: \"0px\"\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.allNotes !== this.props.allNotes) {\r\n      this.setState({ runRender: !this.state.runRender });\r\n    }\r\n  }\r\n\r\n  filter = notes => {\r\n    let search = this.props.searchQuery.toLowerCase();\r\n\r\n    if (notes)\r\n      return notes.filter(\r\n        n =>\r\n          n.content.blocks.find(el => el.text.toLowerCase().includes(search)) ||\r\n          n.title.toLowerCase().includes(search)\r\n      );\r\n  };\r\n\r\n  generateSearchPreview = note => {\r\n    let searchQuery = this.props.searchQuery;\r\n\r\n    let previewText = note.content.blocks.map(n => n.text).join(\" \");\r\n    let startIndex = previewText\r\n      .toLowerCase()\r\n      .indexOf(searchQuery.toLowerCase());\r\n\r\n    if (startIndex === -1) return <div>{previewText}</div>;\r\n    let endIndex = startIndex + searchQuery.length;\r\n\r\n    const preLength = 20;\r\n    const previewLength = config.notesPreviewLength;\r\n\r\n    let pre = previewText.slice(0, startIndex);\r\n    let highlight = previewText.slice(startIndex, endIndex);\r\n    let post = previewText.slice(endIndex);\r\n\r\n    if (previewText.length > previewLength) {\r\n      if (pre.length >= previewLength + searchQuery.length + 3)\r\n        pre = pre.slice(pre.length - preLength);\r\n      if (post.length > previewLength - searchQuery.length - pre.length)\r\n        post = post.slice(0, previewLength - pre.length);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <span>{pre}</span>\r\n        <span style={{ backgroundColor: \"yellow\" }}>{highlight}</span>\r\n        <span>{post}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  generateTitle = note => {\r\n    let searchQuery = this.props.searchQuery;\r\n    let title = note.title;\r\n\r\n    let startIndex = title.toLowerCase().indexOf(searchQuery.toLowerCase());\r\n\r\n    if (startIndex === -1) return <div>{title}</div>;\r\n\r\n    let endIndex = startIndex + searchQuery.length;\r\n\r\n    let pre = title.slice(0, startIndex);\r\n    let highlight = title.slice(startIndex, endIndex);\r\n    let post = title.slice(endIndex);\r\n\r\n    return (\r\n      <div>\r\n        <span>{pre}</span>\r\n        <span style={{ backgroundColor: \"yellow\" }}>{highlight}</span>\r\n        <span>{post}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let filtered = this.filter(this.props.allNotes);\r\n\r\n    return (\r\n      <div className=\"list-group preview-section\">\r\n        {filtered &&\r\n          filtered.map(n => {\r\n            return (\r\n              <div\r\n                className=\"list-group-item\"\r\n                style={{\r\n                  ...this.individualNotes,\r\n                  background:\r\n                    this.props.selectedNote &&\r\n                    n._id === this.props.selectedNote._id\r\n                      ? (n.collection && n.collection.color) || \"lightgray\"\r\n                      : \"white\"\r\n                }}\r\n                key={n._id}\r\n              >\r\n                <div\r\n                  style={{\r\n                    ...this.collectionStyle,\r\n                    background: n.collection.color || \"none\"\r\n                  }}\r\n                >\r\n                  <span>{n.collection.name}</span>\r\n                </div>\r\n                <Link\r\n                  key={n._id}\r\n                  to={`/notes/${n._id}`}\r\n                  style={this.listItemStyle}\r\n                  className=\"list-group-item-action\"\r\n                >\r\n                  <div>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                      <h5 className=\"mb-1\">{this.generateTitle(n)}</h5>\r\n                      <small>{moment(n.updated).format(\"MMM D 'YY\")}</small>\r\n                    </div>\r\n                    <div style={this.previewStyle}>\r\n                      {this.generateSearchPreview(n)}\r\n                    </div>\r\n                    <TagsPreview\r\n                      fontSize=\"11px\"\r\n                      tags={n.tags}\r\n                      style={{ marginTop: \"5px\" }}\r\n                      iconColor=\"darkslateblue\"\r\n                    />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotesPreview;\r\n","import React from \"react\";\r\n\r\nconst NotesSearch = ({ searchQuery, onSearch, onClear }) => {\r\n  return (\r\n    <div className=\"input-group mb-3\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        value={searchQuery}\r\n        onChange={e => onSearch(e.currentTarget.value)}\r\n        placeholder=\"Search...\"\r\n      />\r\n      <div className=\"input-group-prepend\">\r\n        <span\r\n          onClick={() => onClear()}\r\n          className=\"btn btn-outline-secondary\"\r\n          type=\"button\"\r\n        >\r\n          clear\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotesSearch;\r\n","import React, { Component, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faPlus,\r\n  faCaretRight,\r\n  faCaretDown,\r\n  faUserCircle,\r\n  faBook,\r\n  faTags,\r\n  faEdit,\r\n  faCheckCircle,\r\n  faMinusCircle,\r\n  faFillDrip\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { UncontrolledPopover, PopoverBody } from \"reactstrap\";\r\nimport { Popover, OverlayTrigger } from \"react-bootstrap\";\r\nimport AppContext from \"../context/AppContext\";\r\nimport randomColor from \"./../utils/randomColor\";\r\n\r\nclass NotesFilter extends Component {\r\n  state = {\r\n    editMode: false,\r\n    collectionsToEdit: []\r\n  };\r\n\r\n  toggleEditMode = () => {\r\n    const currentCollections = [...this.props.collections];\r\n    if (!this.state.editMode) {\r\n      this.setState({ editMode: true, collectionsToEdit: currentCollections });\r\n    } else {\r\n      let collectionsToUpdate = this.state.collectionsToEdit.filter(\r\n        (c, index) => {\r\n          return (\r\n            c.name !== currentCollections[index].name ||\r\n            c.color !== currentCollections[index].color\r\n          );\r\n        }\r\n      );\r\n      collectionsToUpdate.forEach(c => this.props.updateCollections(c, \"edit\"));\r\n      this.setState({ editMode: !this.state.editMode });\r\n    }\r\n  };\r\n\r\n  handleCollectionDelete = event => {\r\n    const collectionId = event.currentTarget.getAttribute(\"data\");\r\n    let allCollections = [...this.props.collections];\r\n\r\n    let collection = allCollections.filter(c => c._id === collectionId);\r\n    this.props.updateCollections(collection[0], \"delete\");\r\n  };\r\n\r\n  handleCollectionEdit = (type, collection, index, value) => {\r\n    const collectionsToEdit = [...this.state.collectionsToEdit];\r\n    const collectionToUpdate = { ...collection };\r\n\r\n    if (type === \"name\") collectionToUpdate.name = value;\r\n\r\n    if (type === \"color\") collectionToUpdate.color = value;\r\n\r\n    collectionsToEdit.splice(index, 1, collectionToUpdate);\r\n\r\n    this.setState({ collectionsToEdit });\r\n  };\r\n\r\n  handleColorChange = (color, event) => {\r\n    this.setState({ colorChange: color.hex });\r\n  };\r\n\r\n  filterStyle = {\r\n    display: \"grid\",\r\n    gridTemplateRows: \"40px 60px 200px 300px\",\r\n    overflow: \"auto\",\r\n    padding: \"15px 5px\",\r\n    height: \"100%\",\r\n    width: \"100%\"\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      handleRadioSelect,\r\n      handleCheckboxSelect,\r\n      collectionFilter,\r\n      tagsFilter,\r\n      collections,\r\n      tags\r\n    } = this.props;\r\n\r\n    return (\r\n      <div id=\"filterSection\" style={this.filterStyle} className=\"bg-dark-blue\">\r\n        <Profile />\r\n        <Buttons\r\n          updateCollections={this.props.updateCollections}\r\n          editMode={this.state.editMode}\r\n          toggleEditMode={this.toggleEditMode}\r\n        />\r\n        <CollectionFilter\r\n          toggleEditMode={this.toggleEditMode}\r\n          editMode={this.state.editMode}\r\n          handleRadioSelect={handleRadioSelect}\r\n          handleCollectionEdit={this.handleCollectionEdit}\r\n          handleCollectionDelete={this.handleCollectionDelete}\r\n          collections={collections}\r\n          collectionFilter={collectionFilter}\r\n          collectionsToEdit={this.state.collectionsToEdit}\r\n        />\r\n        <TagFilter\r\n          tags={tags}\r\n          tagsFilter={tagsFilter}\r\n          handleCheckboxSelect={handleCheckboxSelect}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Profile = () => {\r\n  let profileDivStyle = {\r\n    background: \"black\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderRadius: \"10px\"\r\n  };\r\n\r\n  let profileContentStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"20% auto\",\r\n    width: \"100%\",\r\n    cursor: \"pointer\"\r\n  };\r\n\r\n  return (\r\n    <AppContext.Consumer>\r\n      {value => (\r\n        <div id=\"profile-preview\" style={profileDivStyle}>\r\n          <div style={profileContentStyle}>\r\n            <div style={{ display: \"flex\", margin: \"auto\" }}>\r\n              <FontAwesomeIcon icon={faUserCircle} />\r\n            </div>\r\n            <div style={{ fontSize: \"11px\" }}>\r\n              {(value.user && value.user.email) || \"DEMO MODE (no user)\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\n\r\nconst Buttons = ({ updateCollections, toggleEditMode, editMode }) => {\r\n  let [popoverOpen, togglePopover] = useState(false);\r\n  let [newCollection, setNewCollection] = useState(\"\");\r\n\r\n  let pressEnter = event => {\r\n    if (event.keyCode !== 13) return;\r\n\r\n    if (newCollection === \"\") return;\r\n\r\n    const collection = {\r\n      _id: Date.now().toString(),\r\n      name: newCollection,\r\n      color: randomColor()\r\n    };\r\n    setNewCollection(\"\");\r\n    updateCollections(collection, \"add\");\r\n  };\r\n\r\n  let style = {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    alignItems: \"flex-end\",\r\n    padding: \"0 10px\",\r\n    justifyContent: \"space-around\"\r\n  };\r\n\r\n  let buttonStyle = {\r\n    height: \"25px\",\r\n    fontSize: \"11px\",\r\n    padding: \"2px 5px\"\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={style}>\r\n        <button\r\n          className=\"btn btn-secondary btn-sm\"\r\n          style={buttonStyle}\r\n          id=\"add-collection\"\r\n        >\r\n          <FontAwesomeIcon icon={faPlus} />\r\n          <span> Collection</span>\r\n        </button>\r\n        {editMode ? (\r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            style={buttonStyle}\r\n            onClick={() => toggleEditMode()}\r\n          >\r\n            <FontAwesomeIcon icon={faCheckCircle} />\r\n            <span> Done</span>\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-danger btn-sm\"\r\n            style={buttonStyle}\r\n            onClick={() => toggleEditMode()}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n            <span> Edit</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n      <UncontrolledPopover\r\n        placement=\"bottom\"\r\n        isOpen={popoverOpen}\r\n        target=\"add-collection\"\r\n        trigger=\"legacy\"\r\n        toggle={() => togglePopover(!popoverOpen)}\r\n      >\r\n        <PopoverBody>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={newCollection}\r\n            onChange={e => setNewCollection(e.target.value)}\r\n            placeholder=\"new collection...\"\r\n            style={{\r\n              fontSize: \".9rem\",\r\n              marginTop: \"10px\",\r\n              lineHeight: \"1\",\r\n              padding: \"0px .75rem\",\r\n              width: \"150px\",\r\n              height: \"calc(2rem + 2px)\"\r\n            }}\r\n            onKeyDown={pressEnter}\r\n            autoFocus\r\n          />\r\n          <small>\r\n            <em>press Enter to save</em>\r\n          </small>{\" \"}\r\n        </PopoverBody>\r\n      </UncontrolledPopover>\r\n    </div>\r\n  );\r\n};\r\n\r\nlet collectionTagStyle = {\r\n  marginTop: \"10px\",\r\n  color: \"white\"\r\n};\r\n\r\nlet dropdownTitle = {\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"15px auto\",\r\n  width: \"100%\",\r\n  alignItems: \"baseline\"\r\n};\r\n\r\nconst CollectionFilter = ({\r\n  editMode,\r\n  handleRadioSelect,\r\n  handleCollectionEdit,\r\n  handleCollectionDelete,\r\n  collections,\r\n  collectionFilter,\r\n  collectionsToEdit\r\n}) => {\r\n  let [dropdownOpen, setDropdownOpen] = useState(true);\r\n\r\n  return (\r\n    <div id=\"collection-filter\" style={collectionTagStyle}>\r\n      <div className=\"list-group clickable\">\r\n        <div\r\n          style={dropdownTitle}\r\n          onClick={() => setDropdownOpen(!dropdownOpen)}\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#collections\"\r\n          aria-expanded={dropdownOpen}\r\n          aria-controls=\"collections\"\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={dropdownOpen ? faCaretDown : faCaretRight}\r\n            className=\"faCaretDropdown\"\r\n          />\r\n          <div>\r\n            <span>Collections </span>\r\n            <span style={{ paddingLeft: \"10px\" }}>\r\n              {\" \"}\r\n              <FontAwesomeIcon\r\n                icon={faBook}\r\n                style={{ fontSize: \"14px\", transform: \"rotate(-20deg)\" }}\r\n              />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"collapse multi-collapse show\"\r\n        id=\"collections\"\r\n        style={{\r\n          marginLeft: \"10px\",\r\n          fontSize: \"14px\",\r\n          height: \"95%\",\r\n          overflow: \"auto\"\r\n        }}\r\n      >\r\n        {editMode ? (\r\n          <div></div>\r\n        ) : (\r\n          <div key=\"allCollections\" className=\"form-check clickable\">\r\n            <label className=\"form-check-label\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"collection-choices\"\r\n                value=\"\"\r\n                checked={collectionFilter === \"\"}\r\n                onChange={e => handleRadioSelect(e)}\r\n              />\r\n              All\r\n            </label>\r\n          </div>\r\n        )}\r\n        {editMode ? (\r\n          <EditCollections\r\n            collectionsToEdit={collectionsToEdit}\r\n            handleCollectionEdit={handleCollectionEdit}\r\n            handleCollectionDelete={handleCollectionDelete}\r\n          />\r\n        ) : (\r\n          collections.map(c => (\r\n            <div className=\"form-check\" key={c._id}>\r\n              <label className=\"form-check-label\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"radio\"\r\n                  name=\"collection-choices\"\r\n                  value={c.name}\r\n                  checked={collectionFilter === c.name}\r\n                  onChange={e => handleRadioSelect(e)}\r\n                />\r\n                {c.name}\r\n              </label>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TagFilter = ({ tags, tagsFilter, handleCheckboxSelect }) => {\r\n  let [dropdownOpen, setDropdownOpen] = useState(true);\r\n\r\n  return (\r\n    <div id=\"tags-filter\" style={collectionTagStyle}>\r\n      <div className=\"list-group clickable\">\r\n        <div\r\n          style={dropdownTitle}\r\n          onClick={() => setDropdownOpen(!dropdownOpen)}\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#tags\"\r\n          aria-expanded={dropdownOpen}\r\n          aria-controls=\"tags\"\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={dropdownOpen ? faCaretDown : faCaretRight}\r\n            className=\"faCaretDropdown\"\r\n          />\r\n          <div>\r\n            <span>Tags </span>\r\n            <span style={{ paddingLeft: \"10px\" }}>\r\n              {\" \"}\r\n              <FontAwesomeIcon icon={faTags} style={{ fontSize: \"12px\" }} />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"collapse multi-collapse show\"\r\n        id=\"tags\"\r\n        style={{\r\n          marginLeft: \"10px\",\r\n          fontSize: \"14px\",\r\n          height: \"90%\",\r\n          overflow: \"auto\"\r\n        }}\r\n      >\r\n        {tags.map(tag => (\r\n          <div className=\"form-check\" key={tag}>\r\n            <label className=\"form-check-label\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                name=\"tag-choices\"\r\n                id={tag}\r\n                value={tag}\r\n                checked={tagsFilter !== [] && tagsFilter.includes(tag)}\r\n                onChange={e => handleCheckboxSelect(e)}\r\n              />\r\n              {tag}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EditCollections = ({\r\n  collectionsToEdit,\r\n  handleCollectionEdit,\r\n  handleCollectionDelete\r\n}) => {\r\n  return (\r\n    <div>\r\n      {collectionsToEdit.map((c, i) => (\r\n        <div key={c._id} className=\"edit-group\">\r\n          <div\r\n            className=\"edit-group-prepend\"\r\n            data={c._id}\r\n            onClick={e => handleCollectionDelete(e)}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={faMinusCircle}\r\n              style={{\r\n                color: \"red\",\r\n                fontSize: \"14px\",\r\n                margin: \"auto 10px auto 0px\"\r\n              }}\r\n              className=\"clickable\"\r\n            />\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"edit-form-control\"\r\n            aria-label=\"Small\"\r\n            value={c.name}\r\n            onChange={e => handleCollectionEdit(\"name\", c, i, e.target.value)}\r\n          />\r\n          <EditColor\r\n            color={c.color}\r\n            collection={c}\r\n            handleCollectionEdit={handleCollectionEdit}\r\n            index={i}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EditColor = ({ color, collection, handleCollectionEdit, index }) => {\r\n  const [colors, setColors] = useState([\r\n    \"#BCAAA4\",\r\n    \"#EF9A9A\",\r\n    \"#C5E1A5\",\r\n    \"#FFCC80\",\r\n    \"#CE93D8\",\r\n    \"#4FC3F7\"\r\n  ]);\r\n  const [newColor, setNewColor] = useState(\"\");\r\n\r\n  const componentStyle = {\r\n    width: \"180px\",\r\n    height: \"70px\",\r\n    display: \"grid\",\r\n    gridTemplateRows: \"30px 40px\",\r\n    gridTemplateColumns: \"auto\"\r\n  };\r\n\r\n  const divStyle = {\r\n    width: \"180px\",\r\n    height: \"30px\",\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(6, 30px)\"\r\n  };\r\n\r\n  const swatchStyle = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: \"2px\"\r\n  };\r\n\r\n  return (\r\n    <OverlayTrigger\r\n      trigger=\"click\"\r\n      placement=\"top\"\r\n      rootClose\r\n      overlay={\r\n        <div>\r\n          <Popover id={collection._id} style={{ border: `3px solid ${color}` }}>\r\n            <Popover.Title>\r\n              selected: <em>{color}</em>\r\n            </Popover.Title>\r\n            <Popover.Content>\r\n              <div style={componentStyle}>\r\n                <div style={divStyle}>\r\n                  {colors.map(c => (\r\n                    <div style={swatchStyle} key={c}>\r\n                      <div\r\n                        style={{ backgroundColor: c }}\r\n                        className=\"w100 h100 hover-grow-10 clickable\"\r\n                        onClick={() =>\r\n                          handleCollectionEdit(\"color\", collection, index, c)\r\n                        }\r\n                      ></div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    display: \"grid\",\r\n                    gridTemplateColumns: \"40% 60% auto\"\r\n                  }}\r\n                >\r\n                  <button\r\n                    className=\"btn btn-small btn-info\"\r\n                    style={{\r\n                      padding: \"2px 5px\",\r\n                      fontSize: \"12px\",\r\n                      margin: \"auto\"\r\n                    }}\r\n                    onClick={() => setColors(colors.map(() => randomColor()))}\r\n                  >\r\n                    random!\r\n                  </button>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    placeholder=\"hex key...\"\r\n                    value={newColor}\r\n                    onChange={e => setNewColor(e.target.value)}\r\n                    type=\"text\"\r\n                    maxLength=\"6\"\r\n                    style={{\r\n                      margin: \"auto\",\r\n                      padding: \"2px 25px 2px 5px\",\r\n                      height: \"auto\",\r\n                      fontSize: \"12px\"\r\n                    }}\r\n                  />\r\n                  <FontAwesomeIcon\r\n                    icon={faCheckCircle}\r\n                    style={{\r\n                      margin: \"auto\",\r\n                      position: \"relative\",\r\n                      left: \"-20px\",\r\n                      color: \"blue\",\r\n                      fontSize: \"16px\"\r\n                    }}\r\n                    className=\"clickable hover-grow-10\"\r\n                    onClick={() =>\r\n                      handleCollectionEdit(\r\n                        \"color\",\r\n                        collection,\r\n                        index,\r\n                        \"#\" + newColor\r\n                      )\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Popover.Content>\r\n          </Popover>\r\n        </div>\r\n      }\r\n    >\r\n      <div className=\"edit-group-prepend\">\r\n        <FontAwesomeIcon\r\n          icon={faFillDrip}\r\n          style={{\r\n            color: collection.color,\r\n            margin: \"auto 0px auto 10px\",\r\n            fontSize: \"14px\"\r\n          }}\r\n          className=\"clickable\"\r\n        />\r\n      </div>\r\n    </OverlayTrigger>\r\n  );\r\n};\r\n\r\nexport default NotesFilter;\r\n","import React, { Component } from \"react\";\r\nimport NotesPreview from \"./NotesPreview\";\r\nimport NotesSearch from \"./NotesSearch\";\r\nimport NotesFilter from \"./NotesFilter\";\r\n\r\nclass SideBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tagsOpen: true,\r\n      collectionFilter: \"\",\r\n      tagsFilter: []\r\n    };\r\n\r\n    this.handleCheckboxSelect = this.handleCheckboxSelect.bind(this);\r\n    this.handleRadioSelect = this.handleRadioSelect.bind(this);\r\n    this.handleDropdownClick = this.handleDropdownClick.bind(this);\r\n  }\r\n\r\n  sidebarStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"200px auto\",\r\n    margin: 0,\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  };\r\n\r\n  handleDropdownClick(e) {\r\n    const dataTarget = e.currentTarget.getAttribute(\"data-target\");\r\n    const isExpanded = e.currentTarget.getAttribute(\"aria-expanded\");\r\n\r\n    switch (dataTarget) {\r\n      case \"#collections\":\r\n        if (isExpanded === \"false\") {\r\n          this.setState({ collectionsOpen: false });\r\n        } else {\r\n          this.setState({ collectionsOpen: true });\r\n        }\r\n        break;\r\n      case \"#tags\":\r\n        if (isExpanded === \"false\") {\r\n          this.setState({ tagsOpen: false });\r\n        } else {\r\n          this.setState({ tagsOpen: true });\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleRadioSelect(event) {\r\n    this.setState({\r\n      collectionFilter: event.target.value,\r\n      tagsFilter: []\r\n    });\r\n  }\r\n\r\n  handleCheckboxSelect(event) {\r\n    let selectedTags = this.state.tagsFilter;\r\n    let tag = event.target.value;\r\n\r\n    if (selectedTags.includes(tag)) {\r\n      let newTags = selectedTags;\r\n      newTags.splice(selectedTags.indexOf(tag), 1);\r\n      this.setState({\r\n        tagsFilter: newTags\r\n      });\r\n    } else {\r\n      this.setState({\r\n        tagsFilter: [...this.state.tagsFilter, tag]\r\n      });\r\n    }\r\n  }\r\n\r\n  filter(notes) {\r\n    let filteredNotes = notes;\r\n\r\n    if (this.state.collectionFilter)\r\n      filteredNotes = filteredNotes.filter(\r\n        n => n.collection.name === this.state.collectionFilter\r\n      );\r\n\r\n    let tags = [];\r\n    filteredNotes.forEach(n => tags.push(...n.tags));\r\n    tags = [...new Set(tags)];\r\n\r\n    if (this.state.tagsFilter.length > 0) {\r\n      let lowerTags = this.state.tagsFilter.map(t => t.toLowerCase());\r\n\r\n      filteredNotes = filteredNotes.filter(n => {\r\n        let combinedTags = [...n.tags.map(n => n.toLowerCase()), ...lowerTags];\r\n        let setTags = [...new Set(combinedTags)];\r\n        return setTags.length !== combinedTags.length;\r\n      });\r\n    }\r\n\r\n    return { filteredNotes, tags };\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      searchQuery,\r\n      allNotes,\r\n      selectedNote,\r\n      onSearch,\r\n      onClear,\r\n      collections,\r\n      updateCollections\r\n    } = this.props;\r\n\r\n    let tags = [];\r\n\r\n    if (allNotes) {\r\n      let notes = this.filter(allNotes);\r\n      allNotes = notes.filteredNotes;\r\n      tags = notes.tags;\r\n    }\r\n\r\n    return (\r\n      <div style={this.sidebarStyle}>\r\n        <NotesFilter\r\n          handleDropdownClick={this.handleDropdownClick}\r\n          handleRadioSelect={this.handleRadioSelect}\r\n          handleCheckboxSelect={this.handleCheckboxSelect}\r\n          collectionFilter={this.state.collectionFilter}\r\n          tagsFilter={this.state.tagsFilter}\r\n          collections={collections}\r\n          tags={tags}\r\n          key={collections.length}\r\n          updateCollections={updateCollections}\r\n          allNotes={allNotes}\r\n        />\r\n        <div className=\"sidebar-preview bg-light-gray\">\r\n          <NotesSearch\r\n            onSearch={onSearch}\r\n            searchQuery={searchQuery}\r\n            onClear={onClear}\r\n          />\r\n          <NotesPreview\r\n            allNotes={allNotes}\r\n            selectedNote={selectedNote}\r\n            searchQuery={searchQuery}\r\n            collections={collections}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideBar;\r\n","import config from \"../config\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nasync function getNotes() {\r\n  try {\r\n    const response = await fetch(`${config.apiUrl}notes`, {\r\n      method: \"GET\",\r\n      credentials: \"include\"\r\n    });\r\n    const notes = await response.json();\r\n    if (response.status !== 200) {\r\n      toast.info(\"User not logged in. Demo mode activated!\");\r\n      return null;\r\n    }\r\n    notes.forEach(n => {\r\n      n.collection = n.col;\r\n      delete n.col;\r\n    });\r\n    return notes;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nasync function postNote(note) {\r\n  try {\r\n    const response = await fetch(config.apiUrl + \"notes\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        title: note.title,\r\n        content: note.content,\r\n        tags: note.tags,\r\n        collection: note.collection,\r\n        user: note.user\r\n      })\r\n    });\r\n    const updatedNote = await response.json();\r\n    if (response.status !== 200) {\r\n      return null;\r\n    }\r\n\r\n    updatedNote.collection = updatedNote.col;\r\n    delete updatedNote.col;\r\n\r\n    return updatedNote;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nasync function putNote(note) {\r\n  try {\r\n    const response = await fetch(config.apiUrl + \"notes/\" + note._id, {\r\n      method: \"PUT\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        title: note.title,\r\n        content: note.content,\r\n        tags: note.tags,\r\n        collection: note.collection,\r\n        user: note.user\r\n      })\r\n    });\r\n    const updatedNote = await response.json();\r\n    if (response.status !== 200) {\r\n      return null;\r\n    }\r\n\r\n    updatedNote.collection = updatedNote.col;\r\n    delete updatedNote.col;\r\n\r\n    return updatedNote;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nasync function deleteNote(id) {\r\n  const response = await fetch(config.apiUrl + \"notes/\" + id, {\r\n    method: \"DELETE\",\r\n    credentials: \"include\"\r\n  });\r\n\r\n  if (!response.ok) {\r\n    return null;\r\n  }\r\n\r\n  return id;\r\n}\r\n\r\nexport { getNotes, putNote, postNote, deleteNote };\r\n","import { apiUrl } from \"../config\";\r\n\r\nexport async function getCollections() {\r\n  try {\r\n    const response = await fetch(apiUrl + \"collections\", {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n\r\n    const collections = await response.json();\r\n\r\n    if (response.status !== 200) {\r\n      return null;\r\n    }\r\n\r\n    return collections;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function postCollection(collection) {\r\n  try {\r\n    const response = await fetch(apiUrl + \"collections\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      mode: \"cors\",\r\n      body: JSON.stringify({\r\n        name: collection.name,\r\n        color: collection.color,\r\n        user: collection.user\r\n      })\r\n    });\r\n\r\n    const updatedCollection = await response.json();\r\n\r\n    if (response.status !== 200) {\r\n      return null;\r\n    }\r\n    return updatedCollection;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function putCollection(collection) {\r\n  try {\r\n    const response = await fetch(apiUrl + \"collections/\" + collection._id, {\r\n      method: \"PUT\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: collection.name,\r\n        color: collection.color,\r\n        user: collection.user\r\n      })\r\n    });\r\n\r\n    const updatedCollection = await response.json();\r\n\r\n    if (response.status !== 200) {\r\n      return null;\r\n    }\r\n    return updatedCollection;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function deleteCollection(id) {\r\n  try {\r\n    const response = await fetch(apiUrl + \"collections/\" + id, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\"\r\n    });\r\n\r\n    if (!response.ok) {\r\n      return null;\r\n    }\r\n\r\n    return id;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n","export const DEMONOTES = [\r\n  {\r\n    _id: \"fg0gr34hgioa98g4\",\r\n    title: \"Portland Trail Blazers\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"rhc1\",\r\n          text: \"Just some notes....\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"81bq5\",\r\n          text: \"\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"20eqn\",\r\n          text: \"Lineup\",\r\n          type: \"header-three\",\r\n          depth: 0,\r\n          inlineStyleRanges: [\r\n            {\r\n              offset: 0,\r\n              length: 6,\r\n              style: \"UNDERLINE\"\r\n            }\r\n          ],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"46tkh\",\r\n          text: \"Damian Lillard\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"aboo4\",\r\n          text: \"CJ McCollum\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"fupsb\",\r\n          text: \"Jusif Nurkic\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"c3u3r\",\r\n          text: \"Kent Bazemore\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        },\r\n        {\r\n          key: \"5cr5i\",\r\n          text: \"Rodney Hood\",\r\n          type: \"unordered-list-item\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    tags: [\"Portland\", \"Sports\", \"Basketball\"],\r\n    collection: {\r\n      _id: \"rht5wsbsgnw\",\r\n      name: \"Sports\",\r\n      color: \"greenyellow\"\r\n    },\r\n    updated: \"2019-07-11T04:05:42.426Z\"\r\n  },\r\n  {\r\n    _id: \"yh533g54yh5335y4gs4\",\r\n    title: \"Sapiens\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"6ef7d\",\r\n          text: \"Insert some book notes here. Nothing much...\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    tags: [\"Books\", \"History\"],\r\n    collection: {\r\n      _id: \"adsfasdfadsf\",\r\n      name: \"Books\",\r\n      color: \"cyan\"\r\n    },\r\n    updated: \"2019-03-11T04:05:42.426Z\",\r\n    user: \"lords.austin@gmail.com\"\r\n  },\r\n  {\r\n    _id: \"thtrjsbehrytu5667s5335y\",\r\n    title: \"Sandy Ridge Trails\",\r\n    content: {\r\n      blocks: [\r\n        {\r\n          key: \"rhc1\",\r\n          text: \"Some of the best mountain biking in Oregon\",\r\n          type: \"unstyled\",\r\n          depth: 0,\r\n          inlineStyleRanges: [],\r\n          entityRanges: [],\r\n          data: {}\r\n        }\r\n      ],\r\n      entityMap: {}\r\n    },\r\n    tags: [\"Portland\", \"Mountain Biking\"],\r\n    collection: {\r\n      _id: \"nvcxcbvtsasdg\",\r\n      name: \"Other\",\r\n      color: \"lightgray\"\r\n    },\r\n    updated: \"2019-08-11T04:05:42.426Z\"\r\n  }\r\n];\r\n\r\nexport function getNote(id) {\r\n  return DEMONOTES.find(n => n._id === id);\r\n}\r\n","export const DEMOCOLLECTIONS = [\r\n  {\r\n    _id: \"adsfasdfadsf\",\r\n    name: \"Books\",\r\n    color: \"cyan\"\r\n  },\r\n  {\r\n    _id: \"rht5wsbsgnw\",\r\n    name: \"Sports\",\r\n    color: \"greenyellow\"\r\n  },\r\n  {\r\n    _id: \"nvcxcbvtsasdg\",\r\n    name: \"Other\",\r\n    color: \"lightgray\"\r\n  }\r\n];\r\n\r\nexport function getCollection(id) {\r\n  return DEMOCOLLECTIONS.find(c => c._id === id);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport DraftEditor from \"./DraftEditor\";\r\nimport { EditorState, convertToRaw, convertFromRaw } from \"draft-js\";\r\nimport SideBar from \"./SideBar\";\r\nimport {\r\n  getNotes,\r\n  putNote,\r\n  postNote,\r\n  deleteNote\r\n} from \"../services/notesService\";\r\nimport {\r\n  getCollections,\r\n  putCollection,\r\n  postCollection,\r\n  deleteCollection\r\n} from \"../services/collectionsService\";\r\nimport { DEMONOTES } from \"../services/demoNotesService\";\r\nimport { DEMOCOLLECTIONS } from \"../services/demoCollectionsService\";\r\nimport \"../css/notes.css\";\r\n\r\nclass Notes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allNotes: null,\r\n      errors: {},\r\n      editorState: EditorState.createEmpty(),\r\n      selectedNote: null,\r\n      searchQuery: \"\",\r\n      collections: []\r\n    };\r\n\r\n    this.onEditorChange = editorState => {\r\n      this.setState({ editorState });\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const id = this.props.match.params.id || null;\r\n\r\n    var NOTES;\r\n    var COLLECTIONS;\r\n\r\n    if (this.props.user) {\r\n      try {\r\n        NOTES = await getNotes();\r\n        COLLECTIONS = await getCollections();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      NOTES = DEMONOTES;\r\n      COLLECTIONS = DEMOCOLLECTIONS;\r\n    }\r\n\r\n    if (!id || !NOTES)\r\n      return this.setState({ allNotes: NOTES, collections: COLLECTIONS });\r\n\r\n    const note = NOTES.find(n => n._id === id) || null;\r\n    if (note && !note.content.entityMap) {\r\n      note.content.entityMap = Object.create({});\r\n    }\r\n    const editorState = note\r\n      ? EditorState.createWithContent(convertFromRaw(note.content))\r\n      : EditorState.createEmpty();\r\n\r\n    this.setState({\r\n      allNotes: NOTES,\r\n      collections: COLLECTIONS,\r\n      selectedNote: note,\r\n      editorState\r\n    });\r\n  }\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    var { allNotes } = this.state;\r\n\r\n    // if User logged out, update state to DEMO\r\n    if (prevProps.user && this.props.user == null) {\r\n      this.setState({\r\n        allNotes: DEMONOTES,\r\n        collections: DEMOCOLLECTIONS,\r\n        selectedNote: null,\r\n        editorState: EditorState.createEmpty()\r\n      });\r\n      return this.props.history.replace(\"/notes\");\r\n    }\r\n\r\n    const id = this.props.match.params.id;\r\n\r\n    if (!id || !this.state.allNotes) return;\r\n\r\n    if (id === \"new\") {\r\n      this.setState({\r\n        editorState: EditorState.createEmpty(),\r\n        selectedNote: null\r\n      });\r\n      return this.props.history.replace(\"/notes\");\r\n    }\r\n\r\n    const note = await allNotes.find(n => n._id === id);\r\n\r\n    if (note && !note.content.entityMap) {\r\n      note.content.entityMap = Object.create({});\r\n    }\r\n    if (!note) return this.props.history.replace(\"/notes\");\r\n    const editorState = EditorState.createWithContent(\r\n      convertFromRaw(note.content)\r\n    );\r\n\r\n    if (this.state.selectedNote && id !== this.state.selectedNote._id)\r\n      return this.setState({ selectedNote: note, editorState });\r\n\r\n    if (!this.state.selectedNote)\r\n      return this.setState({ selectedNote: note, editorState });\r\n  }\r\n\r\n  handleSearch = query => {\r\n    this.setState({ searchQuery: query });\r\n  };\r\n\r\n  handleClear = () => {\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  updateSelectedNote = note => {\r\n    this.setState({ selectedNote: note });\r\n  };\r\n\r\n  updateCollections = async (newCollection, action) => {\r\n    let collections = [...this.state.collections];\r\n    let allNotes = [...this.state.allNotes];\r\n    let indexToUpdate = collections.findIndex(c => c._id === newCollection._id);\r\n\r\n    let notesToChange = allNotes\r\n      .filter(n => n.collection._id === newCollection._id)\r\n      .map(n => ({\r\n        _id: n._id,\r\n        title: n.title,\r\n        content: n.content,\r\n        tags: n.tags,\r\n        collection: action === \"edit\" ? newCollection : {},\r\n        updated: n.updated\r\n      }));\r\n\r\n    if (this.props.user) {\r\n      newCollection.user = this.props.user.email;\r\n\r\n      // all sync stuff\r\n      try {\r\n        // DELETE COLLECTION\r\n        if (action === \"delete\") {\r\n          const deletedId = await deleteCollection(newCollection._id);\r\n          if (!deletedId)\r\n            throw new Error(\"Error deleting collection. Try again\");\r\n        }\r\n        // PUT COLLECTION\r\n        if (action === \"edit\") {\r\n          newCollection = await putCollection(newCollection);\r\n          if (!newCollection)\r\n            throw new Error(\"Error updated collection. Try again\");\r\n        }\r\n\r\n        // PUT NOTES\r\n        notesToChange.forEach(async newNote => {\r\n          const updatedNote = await putNote(newNote);\r\n          if (!updatedNote)\r\n            throw new Error(\"Error updating note: \" + newNote.title);\r\n\r\n          allNotes.splice(\r\n            allNotes.findIndex(oldNote => updatedNote._id === oldNote._id),\r\n            1,\r\n            updatedNote\r\n          );\r\n        });\r\n\r\n        // POST COLLECTION\r\n        if (!collections.includes(newCollection) && action === \"add\") {\r\n          const postedCollection = await postCollection(newCollection);\r\n          if (!postedCollection)\r\n            throw new Error(\"Error creating new collection. Try again\");\r\n        }\r\n      } catch (error) {\r\n        return toast.error(error.message);\r\n      }\r\n    }\r\n\r\n    // if DEMO MODE: no async\r\n\r\n    if (action === \"delete\") collections.splice(indexToUpdate, 1);\r\n\r\n    if (action === \"edit\") collections.splice(indexToUpdate, 1, newCollection);\r\n\r\n    if (!this.props.user)\r\n      notesToChange.forEach(newNote => {\r\n        allNotes.splice(\r\n          allNotes.findIndex(oldNote => newNote._id === oldNote._id),\r\n          1,\r\n          newNote\r\n        );\r\n      });\r\n\r\n    if (!collections.includes(newCollection) && action === \"add\")\r\n      collections.push(newCollection);\r\n\r\n    const selectedNote = allNotes.find(\r\n      note => note._id === this.props.match.params.id\r\n    );\r\n    return this.setState({ collections, allNotes, selectedNote });\r\n  };\r\n\r\n  save = async selectedNote => {\r\n    const { allNotes, editorState } = this.state;\r\n    const currentEditorContent = convertToRaw(editorState.getCurrentContent());\r\n    if (!selectedNote) selectedNote = Object.create({});\r\n\r\n    const newNote = {\r\n      _id: selectedNote._id || Date.now().toString(),\r\n      title: selectedNote.title || \"\",\r\n      content: currentEditorContent,\r\n      tags: selectedNote.tags || [],\r\n      collection: selectedNote.collection || {}\r\n    };\r\n\r\n    const existingIndex = allNotes.findIndex(n => n._id === selectedNote._id);\r\n    let collections = [...this.state.collections];\r\n\r\n    const isNewCollection =\r\n      newNote.collection._id &&\r\n      !collections.filter(c => c._id === newNote.collection._id).length;\r\n\r\n    var newCollection;\r\n    var savedNote;\r\n\r\n    // all async here\r\n    if (this.props.user) {\r\n      try {\r\n        // POST Collection\r\n        if (isNewCollection) {\r\n          newNote.collection.user = this.props.user.email;\r\n          newCollection = await postCollection(newNote.collection);\r\n          if (!newCollection)\r\n            throw new Error(\"New collection not saved. Try again.\");\r\n        }\r\n        // PUT Note\r\n        if (existingIndex !== -1) {\r\n          savedNote = await putNote(newNote);\r\n          if (!savedNote) throw new Error(\"Error updating note\");\r\n        } else {\r\n          // POST Note\r\n          savedNote = await postNote(newNote);\r\n          if (!savedNote) throw new Error(\"Error saving new note\");\r\n        }\r\n      } catch (error) {\r\n        return toast.error(error.message);\r\n      }\r\n    }\r\n\r\n    // if DEMO mode\r\n    if (isNewCollection) collections.push(newCollection || newNote.collection);\r\n    if (existingIndex !== -1)\r\n      allNotes.splice(existingIndex, 1, savedNote || newNote);\r\n    if (existingIndex === -1) allNotes.push(savedNote || newNote);\r\n\r\n    const redirectId = savedNote ? savedNote._id : newNote._id;\r\n\r\n    this.setState({\r\n      allNotes,\r\n      selectedNote: savedNote || newNote,\r\n      collections\r\n    });\r\n\r\n    this.props.history.replace(`/notes/${redirectId}`);\r\n  };\r\n\r\n  handleDelete = async () => {\r\n    let id = this.props.match.params.id;\r\n\r\n    try {\r\n      const deleteSuccess = await deleteNote(id);\r\n\r\n      if (!deleteSuccess) throw new Error(\"Could not delete note. Try again.\");\r\n\r\n      this.setState({\r\n        allNotes: this.state.allNotes.filter(n => n._id !== id),\r\n        editorState: EditorState.createEmpty(),\r\n        selectedNote: null,\r\n        title: \"\"\r\n      });\r\n      this.props.history.replace(\"/notes\");\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      editorState,\r\n      allNotes,\r\n      searchQuery,\r\n      collections,\r\n      selectedNote,\r\n      title\r\n    } = this.state;\r\n\r\n    if (!allNotes || !collections) return <div></div>;\r\n\r\n    return (\r\n      <div className=\"app-page\">\r\n        <SideBar\r\n          editorState={editorState}\r\n          allNotes={allNotes}\r\n          onSearch={this.handleSearch}\r\n          searchQuery={searchQuery}\r\n          onClear={this.handleClear}\r\n          collections={collections}\r\n          selectedNote={selectedNote}\r\n          updateCollections={this.updateCollections}\r\n        />\r\n        <DraftEditor\r\n          onEditorChange={this.onEditorChange}\r\n          handleTitle={this.handleTitle}\r\n          title={title}\r\n          save={this.save}\r\n          handleDelete={this.handleDelete}\r\n          updateSelectedNote={this.updateSelectedNote}\r\n          collections={collections}\r\n          editorState={editorState}\r\n          selectedNote={selectedNote}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notes;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { login } from \"../../services/auth\";\r\nimport \"./login.css\";\r\n\r\nconst Login = ({ user, updateUser }) => {\r\n  let [email, setEmail] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n\r\n  const handleLogin = async event => {\r\n    event.preventDefault();\r\n    try {\r\n      let newUser = await login(email, password);\r\n      if (newUser) {\r\n        updateUser(newUser);\r\n      }\r\n    } catch (error) {\r\n      toast.error(error);\r\n    }\r\n  };\r\n\r\n  if (user) return <Redirect to=\"/notes\" />;\r\n\r\n  return (\r\n    <div className=\"background\">\r\n      <div className=\"masthead\">\r\n        <div id=\"masthead-heading\" className=\"container\">\r\n          <h1 className=\"display-4\">\r\n            Welcome back to <b>Notable</b>.\r\n          </h1>\r\n          <h3>\r\n            <em>A simple note-taking application.</em>\r\n          </h3>\r\n        </div>\r\n\r\n        <form id=\"signUpForm\" className=\"container\" onSubmit={handleLogin}>\r\n          <div className=\"form-group\">\r\n            <label>Email address</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              id=\"signUpEmail\"\r\n              aria-describedby=\"emailHelp\"\r\n              placeholder=\"Email\"\r\n              required\r\n              maxLength=\"50\"\r\n              title=\"Email address is required\"\r\n              onChange={e => setEmail(e.target.value)}\r\n              value={email}\r\n            />\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n              We'll never share your email with anyone else.\r\n            </small>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              id=\"signUpPassword\"\r\n              placeholder=\"Password\"\r\n              required\r\n              minLength=\"8\"\r\n              onChange={e => setPassword(e.target.value)}\r\n              value={password}\r\n            />\r\n            <small id=\"passwordHelp\" className=\"form-text text-muted\">\r\n              Minimum length: 8 characters\r\n            </small>\r\n          </div>\r\n\r\n          <button type=\"submit\" form=\"signUpForm\" className=\"btn btn-primary\">\r\n            Login\r\n          </button>\r\n          <div className=\"float-right\">\r\n            <Link to=\"/register\">Need to register? Click here.</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { register } from \"../../services/auth\";\r\n\r\nimport \"./login.css\";\r\n\r\nconst Register = ({ user, updateUser }) => {\r\n  let [email, setEmail] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n\r\n  const handleRegister = async event => {\r\n    event.preventDefault();\r\n    try {\r\n      let newUser = await register(email, password);\r\n      if (newUser) {\r\n        updateUser(newUser);\r\n      }\r\n    } catch (error) {\r\n      toast.error(error);\r\n    }\r\n  };\r\n\r\n  if (user) return <Redirect to=\"/notes\" />;\r\n\r\n  return (\r\n    <div className=\"background\">\r\n      <div className=\"masthead\">\r\n        <div id=\"masthead-heading\" className=\"container\">\r\n          <h1 className=\"display-4\">\r\n            Welcome to <b>Notable</b>.\r\n          </h1>\r\n          <h3>\r\n            <em>A simple note-taking application.</em>\r\n          </h3>\r\n        </div>\r\n\r\n        <form id=\"signUpForm\" className=\"container\" onSubmit={handleRegister}>\r\n          <div className=\"form-group\">\r\n            <label>Email address</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              id=\"signUpEmail\"\r\n              aria-describedby=\"emailHelp\"\r\n              placeholder=\"Email\"\r\n              required\r\n              maxLength=\"50\"\r\n              title=\"Email address is required\"\r\n              onChange={e => setEmail(e.target.value)}\r\n              value={email}\r\n            />\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n              We'll never share your email with anyone else.\r\n            </small>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              id=\"signUpPassword\"\r\n              placeholder=\"Password\"\r\n              required\r\n              minLength=\"8\"\r\n              onChange={e => setPassword(e.target.value)}\r\n              value={password}\r\n            />\r\n            <small id=\"passwordHelp\" className=\"form-text text-muted\">\r\n              Minimum length: 8 characters\r\n            </small>\r\n          </div>\r\n\r\n          <button type=\"submit\" form=\"signUpForm\" className=\"btn btn-primary\">\r\n            Register\r\n          </button>\r\n          <div className=\"float-right\">\r\n            <Link to=\"/login\">Already registered? Click here.</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport Notes from \"./components/Notes\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Register from \"./components/Login/Register\";\r\nimport { validateUser } from \"./services/auth\";\r\nimport AppContext from \"./context/AppContext\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport \"./css/App.css\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: null,\r\n      receivedAsyncData: false\r\n    };\r\n\r\n    this.updateUser = this.updateUser.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const user = await validateUser();\r\n      this.setState({ user, receivedAsyncData: true });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  updateUser = user => {\r\n    this.setState({ user });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.receivedAsyncData) return <div>loading...</div>;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <AppContext.Provider\r\n          value={{\r\n            user: this.state.user,\r\n            updateUser: this.updateUser\r\n          }}\r\n        >\r\n          <ToastContainer />\r\n          <NavBar />\r\n          <main className=\"app-background\">\r\n            <Switch>\r\n              <Route\r\n                path=\"/notes/:id\"\r\n                render={props => (\r\n                  <Notes\r\n                    user={this.state.user}\r\n                    updateUser={this.updateUser}\r\n                    {...props}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/notes\"\r\n                render={props => (\r\n                  <Notes\r\n                    user={this.state.user}\r\n                    updateUser={this.updateUser}\r\n                    {...props}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                render={props => (\r\n                  <Login\r\n                    user={this.state.user}\r\n                    updateUser={this.updateUser}\r\n                    {...props}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/register\"\r\n                render={props => (\r\n                  <Register\r\n                    user={this.state.user}\r\n                    updateUser={this.updateUser}\r\n                    {...props}\r\n                  />\r\n                )}\r\n              />\r\n              <Redirect from=\"/\" exact to=\"/notes\" />\r\n            </Switch>\r\n          </main>\r\n        </AppContext.Provider>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/js/dist/collapse\";\r\nimport \"font-awesome/css/font-awesome.css\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}